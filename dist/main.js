/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/animations.js":
/*!***************************!*\
  !*** ./src/animations.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"slideHomeToCalendar\": () => (/* binding */ slideHomeToCalendar),\n/* harmony export */   \"slideCalendarToHome\": () => (/* binding */ slideCalendarToHome),\n/* harmony export */   \"openAddProjectButton\": () => (/* binding */ openAddProjectButton),\n/* harmony export */   \"openConfiguration\": () => (/* binding */ openConfiguration),\n/* harmony export */   \"openOrCloseTask\": () => (/* binding */ openOrCloseTask),\n/* harmony export */   \"closeTask\": () => (/* binding */ closeTask)\n/* harmony export */ });\n\nconst HOME_BUTTON = document.getElementById(\"home\")\nconst ADD_PROJECT_BUTTON = document.getElementById(\"add_project\")\nconst CALENDAR_BUTTON = document.getElementById(\"calendar\")\nconst SETTINGS_BUTTON = document.getElementById(\"settings\")\nconst LOG_IN_BUTTON = document.getElementById(\"login\")\n\nconst content = document.querySelector(\".content\") \nconst calendar = document.querySelector(\"#calendarPage\")\nconst home = document.querySelector(\"#homePage\")\nconst svgPlus = document.getElementById(\"plus\")\n\n\nconst formInputProject = document.getElementById(\"form-input-project\")\nconst settingOptions = document.getElementById(\"settings-options\")\nconst svgConfg = document.getElementById(\"svg-config\")\nconst nightModeButton = document.getElementById(\"night-mode\")\n\nfunction slideHomeToCalendar(){\n    home.setAttribute(\"class\",\"slideLeft\")\n    calendar.setAttribute(\"class\",\"slideLeft2\")\n    setTimeout(() => {\n        home.style.display = \"none\"\n    calendar.style.display = \"flex\"\n        \n    }, 500);\n}\n\nhome.style.display = \"block\"\nfunction slideCalendarToHome(){\n    if(home.style.display != \"block\"){  \n        calendar.removeAttribute(\"class\")\n        home.removeAttribute(\"class\")\n        home.setAttribute(\"class\",\"slideLeft2\")\n        calendar.setAttribute(\"class\",\"slideLeft\")\n        setTimeout(() => {\n            calendar.style.display = \"none\"\n            home.style.display = \"block\"\n        }, 500);\n    }  \n}\n\nfunction openAddProjectButton(){\n    if(svgPlus.getAttribute(\"class\") === \"rotate\"){\n        svgPlus.removeAttribute(\"class\")\n        svgPlus.setAttribute(\"class\",\"return\")\n        formInputProject.removeAttribute(\"class\")\n        formInputProject.setAttribute(\"class\",\"up\")\n        CALENDAR_BUTTON.removeAttribute(\"class\")\n        setTimeout(() => {\n        formInputProject.style.display = \"none\"    \n        }, 1000);\n        return\n    } \n  \n    if(svgPlus.getAttribute(\"class\") == undefined || svgPlus.getAttribute(\"class\") === \"return\"){\n        svgPlus.removeAttribute(\"class\")\n        svgPlus.setAttribute(\"class\",\"rotate\")\n        formInputProject.style.display = \"flex\"\n        formInputProject.removeAttribute(\"class\")\n        formInputProject.setAttribute(\"class\",\"down\")\n        CALENDAR_BUTTON.removeAttribute(\"class\")\n        CALENDAR_BUTTON.setAttribute(\"class\",\"down1\")\n        return\n    }\n}\nsettingOptions.style.display = \"none\"\nfunction openConfiguration(){\n    svgConfg.removeAttribute(\"class\")\n\n    if(settingOptions.style.display === \"flex\"){\n        settingOptions.removeAttribute(\"class\")\n        settingOptions.setAttribute(\"class\", \"down2\")\n        svgConfg.setAttribute(\"class\",\"rotate\")\n        setTimeout(() => {\n        settingOptions.style.display = \"none\"\n        }, 1000);\n        return\n    } else if(settingOptions.style.display === \"none\"){\n        settingOptions.style.display = \"flex\"\n        settingOptions.setAttribute(\"class\", \"up1\")\n        svgConfg.setAttribute(\"class\",\"return\")\n        return\n    }\n    \n}\nfunction openOrCloseTask(div,svg){\n    if(svg.getAttribute(\"class\") === \"rotate\"){\n        svg.removeAttribute(\"class\")\n        svg.setAttribute(\"class\",\"return\")\n        div.removeChild(div.childNodes[0])\n        return\n    }\n    if(svg.getAttribute(\"class\") == undefined || svg.getAttribute(\"class\") === \"return\"){\n        svg.removeAttribute(\"class\")\n        svg.setAttribute(\"class\",\"rotate\")\n    }\n}\nfunction closeTask(svg){\n    if(svg.getAttribute(\"class\") === \"rotate\"){\n        svg.removeAttribute(\"class\")\n        svg.setAttribute(\"class\",\"return\")\n        return\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYW5pbWF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUg7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0X3RvcC8uL3NyYy9hbmltYXRpb25zLmpzP2RjMzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHtzbGlkZUhvbWVUb0NhbGVuZGFyLHNsaWRlQ2FsZW5kYXJUb0hvbWUsb3BlbkFkZFByb2plY3RCdXR0b24sb3BlbkNvbmZpZ3VyYXRpb24sb3Blbk9yQ2xvc2VUYXNrLGNsb3NlVGFza31cbmNvbnN0IEhPTUVfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob21lXCIpXG5jb25zdCBBRERfUFJPSkVDVF9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZF9wcm9qZWN0XCIpXG5jb25zdCBDQUxFTkRBUl9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbGVuZGFyXCIpXG5jb25zdCBTRVRUSU5HU19CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpXG5jb25zdCBMT0dfSU5fQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dpblwiKVxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpIFxuY29uc3QgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhbGVuZGFyUGFnZVwiKVxuY29uc3QgaG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG9tZVBhZ2VcIilcbmNvbnN0IHN2Z1BsdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsdXNcIilcblxuXG5jb25zdCBmb3JtSW5wdXRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtLWlucHV0LXByb2plY3RcIilcbmNvbnN0IHNldHRpbmdPcHRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5ncy1vcHRpb25zXCIpXG5jb25zdCBzdmdDb25mZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZnLWNvbmZpZ1wiKVxuY29uc3QgbmlnaHRNb2RlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuaWdodC1tb2RlXCIpXG5cbmZ1bmN0aW9uIHNsaWRlSG9tZVRvQ2FsZW5kYXIoKXtcbiAgICBob21lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzbGlkZUxlZnRcIilcbiAgICBjYWxlbmRhci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic2xpZGVMZWZ0MlwiKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBob21lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgIGNhbGVuZGFyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuICAgICAgICBcbiAgICB9LCA1MDApO1xufVxuXG5ob21lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbmZ1bmN0aW9uIHNsaWRlQ2FsZW5kYXJUb0hvbWUoKXtcbiAgICBpZihob21lLnN0eWxlLmRpc3BsYXkgIT0gXCJibG9ja1wiKXsgIFxuICAgICAgICBjYWxlbmRhci5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgICAgICBob21lLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIGhvbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNsaWRlTGVmdDJcIilcbiAgICAgICAgY2FsZW5kYXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNsaWRlTGVmdFwiKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICAgICAgaG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSAgXG59XG5cbmZ1bmN0aW9uIG9wZW5BZGRQcm9qZWN0QnV0dG9uKCl7XG4gICAgaWYoc3ZnUGx1cy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PT0gXCJyb3RhdGVcIil7XG4gICAgICAgIHN2Z1BsdXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgc3ZnUGx1cy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicmV0dXJuXCIpXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3QucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgZm9ybUlucHV0UHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwidXBcIilcbiAgICAgICAgQ0FMRU5EQVJfQlVUVE9OLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIiAgICBcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJldHVyblxuICAgIH0gXG4gIFxuICAgIGlmKHN2Z1BsdXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgPT0gdW5kZWZpbmVkIHx8IHN2Z1BsdXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgPT09IFwicmV0dXJuXCIpe1xuICAgICAgICBzdmdQbHVzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHN2Z1BsdXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJvdGF0ZVwiKVxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3Quc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd25cIilcbiAgICAgICAgQ0FMRU5EQVJfQlVUVE9OLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIENBTEVOREFSX0JVVFRPTi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZG93bjFcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxufVxuc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5mdW5jdGlvbiBvcGVuQ29uZmlndXJhdGlvbigpe1xuICAgIHN2Z0NvbmZnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG5cbiAgICBpZihzZXR0aW5nT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID09PSBcImZsZXhcIil7XG4gICAgICAgIHNldHRpbmdPcHRpb25zLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHNldHRpbmdPcHRpb25zLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZG93bjJcIilcbiAgICAgICAgc3ZnQ29uZmcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJvdGF0ZVwiKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICByZXR1cm5cbiAgICB9IGVsc2UgaWYoc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpe1xuICAgICAgICBzZXR0aW5nT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcbiAgICAgICAgc2V0dGluZ09wdGlvbnMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1cDFcIilcbiAgICAgICAgc3ZnQ29uZmcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJldHVyblwiKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgXG59XG5mdW5jdGlvbiBvcGVuT3JDbG9zZVRhc2soZGl2LHN2Zyl7XG4gICAgaWYoc3ZnLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09PSBcInJvdGF0ZVwiKXtcbiAgICAgICAgc3ZnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicmV0dXJuXCIpXG4gICAgICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuY2hpbGROb2Rlc1swXSlcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmKHN2Zy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PSB1bmRlZmluZWQgfHwgc3ZnLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09PSBcInJldHVyblwiKXtcbiAgICAgICAgc3ZnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicm90YXRlXCIpXG4gICAgfVxufVxuZnVuY3Rpb24gY2xvc2VUYXNrKHN2Zyl7XG4gICAgaWYoc3ZnLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09PSBcInJvdGF0ZVwiKXtcbiAgICAgICAgc3ZnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicmV0dXJuXCIpXG4gICAgICAgIHJldHVyblxuICAgIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/animations.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animations */ \"./src/animations.js\");\n/* harmony import */ var _languajeSwitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./languajeSwitch */ \"./src/languajeSwitch.js\");\n/* harmony import */ var _themeSwitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./themeSwitch */ \"./src/themeSwitch.js\");\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var _projectObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./projectObject */ \"./src/projectObject.js\");\n\n\n\n\n\n\nconst HOME_BUTTON = document.getElementById(\"home\")\nconst ADD_PROJECT_BUTTON = document.getElementById(\"add_project\")\nconst CALENDAR_BUTTON = document.getElementById(\"calendar\")\nconst SETTINGS_BUTTON = document.getElementById(\"settings\")\nconst LOG_IN_BUTTON = document.getElementById(\"login\")\nconst NIGHT_MODE_SWITCH = document.getElementById(\"checkBoxTheme\")\nconst LANGUAJE_SWITCH_BUTTON = document.getElementById(\"checkBox\")\nconst DONE_PROJECT_BUTTON = document.getElementById(\"submit-name-project\")\nconst ADD_TASK_BUTTON = document.querySelectorAll(\".add_task\")\n\nconst elementTodoQuantity = document.getElementById(\"todo_quantity\")\nconst elementInProgressQuantity = document.getElementById(\"inprogress_quantity\")\nconst elementCompletedQuantity = document.getElementById(\"complete_quantity\")\nconst content = document.querySelector(\".content\") \nconst calendar = document.querySelector(\"#calendarPage\")\nconst home = document.querySelector(\"#homePage\")\nconst svgPlus = document.getElementById(\"plus\")\nconst listLi = document.querySelector(\".list\")\nconst popUpLogIn  = document.getElementById(\"popup-login\")\nconst backgroundPopUp = document.getElementById(\"background-popup\")\nconst formUser = document.getElementById(\"formUser\")\nconst nameUserSpan = document.getElementById(\"account-name\")\nconst selectProject = document.getElementById(\"projects\")\nconst toDoDiv = document.getElementById(\"to_dos\")\nconst inProgressDiv = document.getElementById(\"inprogress\")\nconst completedDiv = document.getElementById(\"completed\")\nlet plusTodo = document.getElementById(\"plusToDo\")\nlet plusInProgress = document.getElementById(\"plusInprogress\")\nlet plusCompleted = document.getElementById(\"plusCompleted\")\nlet arrayOfProjects = []\nlet isTaskAlready;\nlet todoQuantity = 0\nlet inProgressQuantity = 0\nlet completedQuantity = 0\nlet whereIsTheTask;\nHOME_BUTTON.onclick = () => displayHomeButton()\nADD_PROJECT_BUTTON.onclick = () => addProjectButton()\nCALENDAR_BUTTON.onclick = () => displayCalendarButton()\nSETTINGS_BUTTON.onclick = () => (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openConfiguration)()\nNIGHT_MODE_SWITCH.onclick = () => (0,_themeSwitch__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()\nLANGUAJE_SWITCH_BUTTON.onclick = () => (0,_languajeSwitch__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\nLOG_IN_BUTTON.onclick = () => displayPopUpOrLogOut()\nDONE_PROJECT_BUTTON.onclick = (e) => createProject(e)\nADD_TASK_BUTTON.forEach(taskButton => {\n   taskButton.onclick = () => displayTaskInputs()\n})\nselectProject.onchange = () => changeDisplayToOptionSelected()\nwindow.onload = (0,_languajeSwitch__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\nwindow.onload = (0,_themeSwitch__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()\nwindow.onload = checkOption()\nwindow.onload = () => {\n   if(!(localStorage.getItem(\"firstSession\"))){\n      let firstTimeUser = localStorage.setItem(\"firstSession\",\"1\")\n      displayPopUp()\n   }\n}\n\n\nfunction closePopUp(){\n   popUpLogIn.removeAttribute(\"class\")\n   popUpLogIn.setAttribute(\"class\",\"desvanecerse\")\n   setTimeout(() => {\n      backgroundPopUp.style.display  = \"none\"\n      \n   }, 500);\n   formUser.reset()\n\n}\nfunction displayPopUpOrLogOut () {\nconst loginSpan = document.getElementById(\"loginspan\")\n\n     if(loginSpan.textContent == \"Log in\" || loginSpan.textContent == \"Iniciar sesion\"){\n        displayPopUp()\n     } else if(loginSpan.textContent == \"Log out\" || loginSpan.textContent == \"Cerrar sesión\"){\n      logOutUser()\n   }\n   \n}\nfunction displayPopUp(){\n   backgroundPopUp.style.display = \"block\"\n   popUpLogIn.style.display = \"flex\"\n   popUpLogIn.setAttribute(\"class\",\"fromtop\")\n}\nfunction displayCalendarButton(){\n   (0,_animations__WEBPACK_IMPORTED_MODULE_0__.slideHomeToCalendar)()\n}\nfunction displayHomeButton(){\n   (0,_animations__WEBPACK_IMPORTED_MODULE_0__.slideCalendarToHome)()\n}\n\nfunction addProjectButton(){  \n   (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openAddProjectButton)()\n}\n\nfunction createProject(e){\n   const inputProject = document.getElementById(\"input-project\")\n   if(inputProject.value == \"\") return e.preventDefault()\n   let index = arrayOfProjects.findIndex(object=> object.getNameProject() == inputProject.value)\n   if(index > -1){\n      return alert(\"Project already exists, please use another name.\"),e.preventDefault()\n   }\n   e.preventDefault()\n   let newProject = new _projectObject__WEBPACK_IMPORTED_MODULE_5__.Project(inputProject.value)\n   arrayOfProjects.push(newProject)\n   let optionProject = newProject.createSelectProject()\n   selectProject.appendChild(optionProject)\n   inputProject.value = null\n   if(NIGHT_MODE_SWITCH.checked){\n   selectProject.style.backgroundColor = \"rgba(255, 255, 255, 0.1)\"\n      setTimeout(() => {\n      selectProject.style.backgroundColor = \"rgba(0, 0, 0, 0.1)\"       \n      }, 500);\n   } else if(!(NIGHT_MODE_SWITCH.checked)){\n      selectProject.style.backgroundColor = \"rgba(174, 214, 241, 0.7)\"\n      setTimeout(() => {\n      selectProject.style.backgroundColor = \"rgba(174, 214, 241, 0.1)\"\n      }, 500);\n   }\n  \n}\nfunction checkOption(){\n   let option = selectProject.options[selectProject.selectedIndex]\nif(option.text == \"Projects\"){\n   ADD_TASK_BUTTON.forEach(button => {\n      button.onclick = () => alert(\"Please , add a project to create a task.\")\n   })\n} else {\n   ADD_TASK_BUTTON.forEach(button => {\n      button.onclick = () => displayTaskInputs()\n   })\n}\n}\n\nfunction changeDisplayToOptionSelected(){\n   let option = selectProject.options[selectProject.selectedIndex];\n   let indexProject = arrayOfProjects.findIndex(object => object.getNameProject() == option.text)\n   toDoDiv.innerHTML = arrayOfProjects[indexProject].getArrayOfToDoTask().join()\n   inProgressDiv.innerHTML = arrayOfProjects[indexProject].getArrayOfInProgressTask().join()\n   completedDiv.innerHTML = arrayOfProjects[indexProject].getArrayOfCompletedTask().join()\n   checkOption()\n}\nfunction displayTaskInputs(){\n   \n   if(plusTodo.getAttribute(\"class\") == \"rotate\")return (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(toDoDiv,plusTodo),isTaskAlready = false\n   if(plusInProgress.getAttribute(\"class\") == \"rotate\") return (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(inProgressDiv,plusInProgress),isTaskAlready = false\n   if(plusCompleted.getAttribute(\"class\") == \"rotate\") return (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(completedDiv,plusCompleted) ,isTaskAlready = false\n   if(plusCompleted.getAttribute(\"class\") === undefined || plusCompleted.getAttribute(\"class\") === \"return\" || event.target.tagName == \"path\") isTaskAlready = false\n   if(isTaskAlready === true) return\n   if(event.srcElement.id == \"add_todo\" || event.srcElement.id == \"plusToDo\"){\n      (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(toDoDiv,plusTodo)\n      let firstChild = toDoDiv.firstChild\n      if(firstChild === null){\n         toDoDiv.appendChild(createInputTask())\n      } else {\n         toDoDiv.insertBefore(createInputTask(),toDoDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down1\")\n      }\n      whereIsTheTask = \"toDoDiv\"\n   } else if(event.srcElement.id == \"add_inprogress\" || event.srcElement.id == \"plusInprogress\"){\n\n      (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(inProgressDiv,plusInProgress)\n\n      let firstChild = inProgressDiv.firstChild\n      if(firstChild === null){\n         inProgressDiv.appendChild(createInputTask())\n      } else {\n         inProgressDiv.insertBefore(createInputTask(),inProgressDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down1\")\n      }\n      whereIsTheTask = \"inProgressDiv\"\n\n   }else if(event.srcElement.id == \"add_complete\" || event.srcElement.id == \"plusCompleted\"){\n\n      (0,_animations__WEBPACK_IMPORTED_MODULE_0__.openOrCloseTask)(completedDiv,plusCompleted)\n\n      let firstChild = completedDiv.firstChild\n      if(firstChild === null){\n         completedDiv.appendChild(createInputTask())\n      } else {\n         completedDiv.insertBefore(createInputTask(),completedDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down1\")\n      }\n      whereIsTheTask = \"completedDiv\"\n\n   }\n   if(NIGHT_MODE_SWITCH.checked) (0,_themeSwitch__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()\n   isTaskAlready = true\n}\n\nfunction createInputTask(){\n   const div = document.createElement(\"div\")\n   div.innerHTML = '<div class=\"titletask\"><input required id=\"titleTaskInput\" placeholder=\"Title\"></div><p><textarea maxlength = \"50\" placeholder=\"Details\" id=\"detailsInput\"></textarea></p><input id=\"subDate\" type=\"date\"><button id=\"doneButtonTask\" style=\"background-color: rgba(0, 0, 0, 0.1);\">Done</button>'\n   div.setAttribute(\"id\",\"task\")\n   div.setAttribute(\"class\",\"fromtop\")\n   return div\n}\nwindow.onclick = () => {\n   if(event.target.id === \"doneButtonTask\"){\n      let inputTitle = document.getElementById(\"titleTaskInput\").value\n      let inputDetails = document.getElementById(\"detailsInput\").value\n      let subDate = document.getElementById(\"subDate\").value\n      if(inputTitle.value === \"\" || inputDetails.value === \"\" || subDate.value === \"\") return \n      let newTask = new _projectObject__WEBPACK_IMPORTED_MODULE_5__.Task(inputTitle.value,inputDetails.value,subDate.value)\n      let option = selectProject.options[selectProject.selectedIndex];\n      let indexProject = arrayOfProjects.findIndex(object => object.getNameProject() == option.text)\n\n      if(whereIsTheTask === \"toDoDiv\"){\n         const elementTodoQuantity = document.getElementById(\"todo_quantity\")\n         todoQuantity++\n         elementTodoQuantity.innerHTML  = String(todoQuantity)\n         arrayOfProjects[indexProject].setTaskInArrayOfToDoTask(newTask)\n         let firstChild = toDoDiv.firstChild\n         toDoDiv.insertBefore(createTaskCard(inputTitle,inputDetails,subDate),toDoDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down3\")        \n         setTimeout(() => {\n         toDoDiv.removeChild(toDoDiv.childNodes[1])      \n            }, 1000);\n            (0,_animations__WEBPACK_IMPORTED_MODULE_0__.closeTask)(plusTodo)\n            isTaskAlready = false\n      } \n      else if(whereIsTheTask === \"inProgressDiv\"){\n         const elementInProgressQuantity = document.getElementById(\"inprogress_quantity\")\n         inProgressQuantity++\n         elementInProgressQuantity.innerHTML = String(inProgressQuantity)\n         arrayOfProjects[indexProject].setTaskInArrayOfInProgressTask(newTask)\n         let firstChild = inProgressDiv.firstChild        \n         inProgressDiv.insertBefore(createTaskCard(inputTitle,inputDetails,subDate),inProgressDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down3\")\n         setTimeout(() => {\n            inProgressDiv.removeChild(inProgressDiv.childNodes[1])            \n            }, 1000);\n            (0,_animations__WEBPACK_IMPORTED_MODULE_0__.closeTask)(plusInProgress)\n            isTaskAlready = false\n         } else if(whereIsTheTask === \"completedDiv\"){\n         const elementCompletedQuantity = document.getElementById(\"complete_quantity\")\n         completedQuantity++\n         elementCompletedQuantity.innerHTML = String(completedQuantity)\n         arrayOfProjects[indexProject].setTaskInArrayOfCompletedTask(newTask)\n         let firstChild = completedDiv.firstChild    \n         completedDiv.insertBefore(createTaskCard(inputTitle,inputDetails,subDate),completedDiv.firstChild)\n         firstChild.setAttribute(\"class\",\"down3\")\n         setTimeout(() => {\n            completedDiv.removeChild(completedDiv.childNodes[1])\n         }, 1000);\n         (0,_animations__WEBPACK_IMPORTED_MODULE_0__.closeTask)(plusCompleted)\n         isTaskAlready = false\n      }  \n      if(NIGHT_MODE_SWITCH.checked) (0,_themeSwitch__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()\n      ADD_TASK_BUTTON.forEach(taskButton => {\n         taskButton.disabled = true\n      })\n      setTimeout(() => {\n         ADD_TASK_BUTTON.forEach(taskButton => {\n            taskButton.disabled = false\n         })\n      }, 2000);\n      newTask.setHtml(createTaskCard(inputTitle,inputDetails,subDate).innerHTML)\n   } else if (event.target.getAttribute(\"class\") == \"deleteButton\"){\n      const deleteButton = document.getElementById(event.target.id)\n      deleteTask(deleteButton)\n   }\n\n}\nfunction deleteTask(task){\n   let parentOfTask = task.closest(\"#task\")\n   let card = task.closest(\".card\")\n   let index = Array.from(parentOfTask.parentNode.children).indexOf(parentOfTask)\n   parentOfTask.parentNode.removeChild(parentOfTask)\n   let option = selectProject.options[selectProject.selectedIndex];\n   let indexProject = arrayOfProjects.findIndex(object => object.getNameProject() == option.text)\n   if(card.childNodes[1].childNodes[3].getAttribute(\"id\") === \"todo_quantity\"){\n      todoQuantity--\n      elementTodoQuantity.textContent = String(todoQuantity)\n      arrayOfProjects[indexProject].deleteTaskInArrayOfToDoTask(index)\n   } else if(card.childNodes[1].childNodes[3].getAttribute(\"id\") === \"inprogress_quantity\"){\n      inProgressQuantity--\n      elementInProgressQuantity.textContent = String(inProgressQuantity)\n      arrayOfProjects[indexProject].deleteTaskInArrayOfInProgressTask(index)\n\n   } else if(card.childNodes[1].childNodes[3].getAttribute(\"id\") === \"complete_quantity\"){\n      completedQuantity--\n      elementCompletedQuantity.textContent = String(completedQuantity)\n      arrayOfProjects[indexProject].deleteTaskInArrayOfCompletedTask(index)\n      \n   }\n}\nfunction createTaskCard(title,details,date){\n   const div = document.createElement(\"div\")\n   div.setAttribute(\"id\",\"task\")\n   div.innerHTML = '<div class=\"titletask\"><h2>' + title +  '</h2><div> <svg class=\"deleteButton\" id=\"'+ random(0,100000) +'\" xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" /> </svg> <svg id='+ random(0,100000) +' xmlns=\"http://www.w3.org/2000/svg\" class=\"pinButton\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" /></svg> </div> </div> <p>'+ details +'</p> <sub id=\"date\">' + date + '</sub>'\n   return div\n}\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n// FIREBASE\nconst emailElement  = document.getElementById(\"email-input\")\nconst passwordElement = document.getElementById(\"password-input\")\nconst signUpElement = document.getElementById(\"sign-up\")\nconst signInElement = document.getElementById(\"sign-in\")\nconst googleUser = document.getElementById(\"googleUser\")\nconst demoUser = document.getElementById(\"demoUser\")\nconst stateForm = document.getElementById(\"state\")\n\nconst firebaseConfig = {\n\n   apiKey: \"AIzaSyB_9bN8wsncvuVCIEnzYIFhg-mwWFu9T_s\",\n \n   authDomain: \"to-do-app-780b2.firebaseapp.com\",\n \n   projectId: \"to-do-app-780b2\",\n \n   storageBucket: \"to-do-app-780b2.appspot.com\",\n \n   messagingSenderId: \"411421814027\",\n \n   appId: \"1:411421814027:web:de143fb0d153c8fa8dc60e\",\n \n   measurementId: \"G-WEEDGLSV32\"\n \n };\n const app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_3__.initializeApp)(firebaseConfig);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.getAuth)(app)\nsignUpElement.onclick = (e) => {\n   e.preventDefault()\n       ;(0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.createUserWithEmailAndPassword)(auth,emailElement.value,passwordElement.value).then((userCredential) => {\n          formUser.reset()\n          const user = userCredential.user\n          endLogInOrLogOut(false,true,user,false)\n         })\n       .catch((error) => {\n         const errorCode = error.code;\n         const errorMessage = error.message;\n         stateForm.textContent =  errorCode\n         throwErrorSpan(error)\n      })     \n}\nsignInElement.onclick = (e) => {\n   e.preventDefault()\n   ;(0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.signInWithEmailAndPassword)(auth,emailElement.value,passwordElement.value)\n   .then((userCredential) => {\n      formUser.reset()\n      const user = userCredential.user\n      endLogInOrLogOut(false,true,user,false)\n   })\n   .catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      stateForm.textContent =  errorCode\n     throwErrorSpan(error)\n   })  \n}\nfunction logOutUser(){\n   ;(0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.signOut)(auth)\n   .then(()=>{\n      endLogInOrLogOut(true,false)\n      nameUserSpan.textContent = \"\"\n   }).catch((error)=>{\n      alert(error.message)\n   })\n}\nconst provider = new firebase_auth__WEBPACK_IMPORTED_MODULE_4__.GoogleAuthProvider();\ngoogleUser.onclick = () => {\n(0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.signInWithPopup)(auth,provider)\n.then((result) => {\n   const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__.GoogleAuthProvider.credentialFromResult(result)\n   const token = credential.accessToken\n   const user = result.user\n   endLogInOrLogOut(false,true,user,true)\n}).catch((error) => {\n   const errorCode = error.code;\n   const errorMessage = error.message;\n   const email = error.email;\n   const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__.GoogleAuthProvider.credentialFromError(error);\n   alert(\"A error happen: \" + errorCode)\n})\n;(0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.getRedirectResult)(auth)\n  .then((result) => {\n    const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__.GoogleAuthProvider.credentialFromResult(result);\n    const token = credential.accessToken;\n\n    const user = result.user;\n  }).catch((error) => {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    const email = error.email;\n    const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__.GoogleAuthProvider.credentialFromError(error);\n  });\n}\ndemoUser.onclick = () =>{\n   closePopUp()\n   nameUserSpan.textContent = \"Hello, your tasks and projects will not be saved when you leave the page, if you want them to be saved please login or register\"\n}\n\nfunction endLogInOrLogOut(logout,login,user,googleUser){\n   closePopUp()\n   if(login === true && logout === false){\n      if(LANGUAJE_SWITCH_BUTTON.checked){\n         LOG_IN_BUTTON.innerHTML =`<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n    </svg> ` + '<span id=\"loginspan\">Cerrar sesión</span>'\n    if(googleUser){\n    nameUserSpan.textContent = \"Hola \" + user.displayName + \"!\"\n\n    }else if(!googleUser){\n    nameUserSpan.textContent = \"Hola \" + user.email + \"!\"\n\n    }\n      } else if (!(LANGUAJE_SWITCH_BUTTON.checked)){\n         LOG_IN_BUTTON.innerHTML =`<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n    </svg> ` + '<span id=\"loginspan\">Log out</span>'\n    if(googleUser){\n      nameUserSpan.textContent = \"Hi \" + user.displayName + \"!\"\n  \n      }else if(!googleUser){\n      nameUserSpan.textContent = \"Hi \" + user.email + \"!\"\n  \n      }\n      }\n   }else if (logout === true && login === false){\n      if(LANGUAJE_SWITCH_BUTTON.checked){\n         LOG_IN_BUTTON.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" /></svg>` + '<span id=\"loginspan\">Iniciar sesion</span>'\n      } else if (!(LANGUAJE_SWITCH_BUTTON.checked)){\n         LOG_IN_BUTTON.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" /></svg>` + '<span id=\"loginspan\">Log in</span>'\n      }\n   } \n}\nfunction throwErrorSpan(error){\n   if(error){\n      nameUserSpan.textContent = ''\n\n      }\n   setTimeout(() => {\n      stateForm.textContent = \"\"\n   }, 4000);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzSTtBQUN6RjtBQUNTO0FBQ1Q7QUFDK0c7QUFDaEg7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFpQjtBQUNqRCxrQ0FBa0Msd0RBQTBCO0FBQzVELHVDQUF1QywyREFBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGdCQUFnQiwyREFBYztBQUM5QixnQkFBZ0Isd0RBQTBCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdFQUFtQjtBQUN0QjtBQUNBO0FBQ0EsR0FBRyxnRUFBbUI7QUFDdEI7O0FBRUE7QUFDQSxHQUFHLGlFQUFvQjtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7QUFDRjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsNERBQWU7QUFDdkUsK0RBQStELDREQUFlO0FBQzlFLDhEQUE4RCw0REFBZTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFlO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsTUFBTSw0REFBZTs7QUFFckI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUosTUFBTSw0REFBZTs7QUFFckI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDLHdEQUEwQjtBQUMzRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzU0FBc1M7QUFDdFM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQUk7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHNEQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHNEQUFTO0FBQ3JCO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixTQUFTLHNEQUFTO0FBQ2xCO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQTBCO0FBQzlEO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQWE7QUFDMUIsYUFBYSxzREFBTztBQUNwQjtBQUNBO0FBQ0EsT0FBTyw4RUFBOEI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRywwRUFBMEI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRyx1REFBTztBQUNWO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLHFCQUFxQiw2REFBa0I7QUFDdkM7QUFDQSw4REFBZTtBQUNmO0FBQ0Esc0JBQXNCLGtGQUF1QztBQUM3RDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlGQUFzQztBQUM1RDtBQUNBLENBQUM7QUFDRCxpRUFBaUI7QUFDakI7QUFDQSx1QkFBdUIsa0ZBQXVDO0FBQzlEOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpRkFBc0M7QUFDN0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2xpZGVIb21lVG9DYWxlbmRhcixzbGlkZUNhbGVuZGFyVG9Ib21lLG9wZW5BZGRQcm9qZWN0QnV0dG9uLG9wZW5Db25maWd1cmF0aW9uLG9wZW5PckNsb3NlVGFzayxjbG9zZVRhc2t9IGZyb20gXCIuL2FuaW1hdGlvbnNcIlxuaW1wb3J0IGxhbmd1YWplU3dpdGNoIGZyb20gXCIuL2xhbmd1YWplU3dpdGNoXCJcbmltcG9ydCB0dXJuTmlnaHRUaGVtZU9yV2hpdGVUaGVtZSBmcm9tIFwiLi90aGVtZVN3aXRjaFwiXG5pbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7Z2V0QXV0aCxjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsc2lnbk91dCxHb29nbGVBdXRoUHJvdmlkZXIsc2lnbkluV2l0aFBvcHVwLGdldFJlZGlyZWN0UmVzdWx0fSBmcm9tICdmaXJlYmFzZS9hdXRoJ1xuaW1wb3J0IHtQcm9qZWN0LFRhc2t9IGZyb20gJy4vcHJvamVjdE9iamVjdCdcbmNvbnN0IEhPTUVfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob21lXCIpXG5jb25zdCBBRERfUFJPSkVDVF9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZF9wcm9qZWN0XCIpXG5jb25zdCBDQUxFTkRBUl9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbGVuZGFyXCIpXG5jb25zdCBTRVRUSU5HU19CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpXG5jb25zdCBMT0dfSU5fQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dpblwiKVxuY29uc3QgTklHSFRfTU9ERV9TV0lUQ0ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrQm94VGhlbWVcIilcbmNvbnN0IExBTkdVQUpFX1NXSVRDSF9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrQm94XCIpXG5jb25zdCBET05FX1BST0pFQ1RfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtbmFtZS1wcm9qZWN0XCIpXG5jb25zdCBBRERfVEFTS19CVVRUT04gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZF90YXNrXCIpXG5cbmNvbnN0IGVsZW1lbnRUb2RvUXVhbnRpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZG9fcXVhbnRpdHlcIilcbmNvbnN0IGVsZW1lbnRJblByb2dyZXNzUXVhbnRpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHJvZ3Jlc3NfcXVhbnRpdHlcIilcbmNvbnN0IGVsZW1lbnRDb21wbGV0ZWRRdWFudGl0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcGxldGVfcXVhbnRpdHlcIilcbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIikgXG5jb25zdCBjYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FsZW5kYXJQYWdlXCIpXG5jb25zdCBob21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNob21lUGFnZVwiKVxuY29uc3Qgc3ZnUGx1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1c1wiKVxuY29uc3QgbGlzdExpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saXN0XCIpXG5jb25zdCBwb3BVcExvZ0luICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wdXAtbG9naW5cIilcbmNvbnN0IGJhY2tncm91bmRQb3BVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja2dyb3VuZC1wb3B1cFwiKVxuY29uc3QgZm9ybVVzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1Vc2VyXCIpXG5jb25zdCBuYW1lVXNlclNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY291bnQtbmFtZVwiKVxuY29uc3Qgc2VsZWN0UHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHNcIilcbmNvbnN0IHRvRG9EaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvX2Rvc1wiKVxuY29uc3QgaW5Qcm9ncmVzc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wcm9ncmVzc1wiKVxuY29uc3QgY29tcGxldGVkRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wbGV0ZWRcIilcbmxldCBwbHVzVG9kbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1c1RvRG9cIilcbmxldCBwbHVzSW5Qcm9ncmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1c0lucHJvZ3Jlc3NcIilcbmxldCBwbHVzQ29tcGxldGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbHVzQ29tcGxldGVkXCIpXG5sZXQgYXJyYXlPZlByb2plY3RzID0gW11cbmxldCBpc1Rhc2tBbHJlYWR5O1xubGV0IHRvZG9RdWFudGl0eSA9IDBcbmxldCBpblByb2dyZXNzUXVhbnRpdHkgPSAwXG5sZXQgY29tcGxldGVkUXVhbnRpdHkgPSAwXG5sZXQgd2hlcmVJc1RoZVRhc2s7XG5IT01FX0JVVFRPTi5vbmNsaWNrID0gKCkgPT4gZGlzcGxheUhvbWVCdXR0b24oKVxuQUREX1BST0pFQ1RfQlVUVE9OLm9uY2xpY2sgPSAoKSA9PiBhZGRQcm9qZWN0QnV0dG9uKClcbkNBTEVOREFSX0JVVFRPTi5vbmNsaWNrID0gKCkgPT4gZGlzcGxheUNhbGVuZGFyQnV0dG9uKClcblNFVFRJTkdTX0JVVFRPTi5vbmNsaWNrID0gKCkgPT4gb3BlbkNvbmZpZ3VyYXRpb24oKVxuTklHSFRfTU9ERV9TV0lUQ0gub25jbGljayA9ICgpID0+IHR1cm5OaWdodFRoZW1lT3JXaGl0ZVRoZW1lKClcbkxBTkdVQUpFX1NXSVRDSF9CVVRUT04ub25jbGljayA9ICgpID0+IGxhbmd1YWplU3dpdGNoKClcbkxPR19JTl9CVVRUT04ub25jbGljayA9ICgpID0+IGRpc3BsYXlQb3BVcE9yTG9nT3V0KClcbkRPTkVfUFJPSkVDVF9CVVRUT04ub25jbGljayA9IChlKSA9PiBjcmVhdGVQcm9qZWN0KGUpXG5BRERfVEFTS19CVVRUT04uZm9yRWFjaCh0YXNrQnV0dG9uID0+IHtcbiAgIHRhc2tCdXR0b24ub25jbGljayA9ICgpID0+IGRpc3BsYXlUYXNrSW5wdXRzKClcbn0pXG5zZWxlY3RQcm9qZWN0Lm9uY2hhbmdlID0gKCkgPT4gY2hhbmdlRGlzcGxheVRvT3B0aW9uU2VsZWN0ZWQoKVxud2luZG93Lm9ubG9hZCA9IGxhbmd1YWplU3dpdGNoKClcbndpbmRvdy5vbmxvYWQgPSB0dXJuTmlnaHRUaGVtZU9yV2hpdGVUaGVtZSgpXG53aW5kb3cub25sb2FkID0gY2hlY2tPcHRpb24oKVxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgIGlmKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJmaXJzdFNlc3Npb25cIikpKXtcbiAgICAgIGxldCBmaXJzdFRpbWVVc2VyID0gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJmaXJzdFNlc3Npb25cIixcIjFcIilcbiAgICAgIGRpc3BsYXlQb3BVcCgpXG4gICB9XG59XG5cblxuZnVuY3Rpb24gY2xvc2VQb3BVcCgpe1xuICAgcG9wVXBMb2dJbi5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgcG9wVXBMb2dJbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZGVzdmFuZWNlcnNlXCIpXG4gICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGJhY2tncm91bmRQb3BVcC5zdHlsZS5kaXNwbGF5ICA9IFwibm9uZVwiXG4gICAgICBcbiAgIH0sIDUwMCk7XG4gICBmb3JtVXNlci5yZXNldCgpXG5cbn1cbmZ1bmN0aW9uIGRpc3BsYXlQb3BVcE9yTG9nT3V0ICgpIHtcbmNvbnN0IGxvZ2luU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5zcGFuXCIpXG5cbiAgICAgaWYobG9naW5TcGFuLnRleHRDb250ZW50ID09IFwiTG9nIGluXCIgfHwgbG9naW5TcGFuLnRleHRDb250ZW50ID09IFwiSW5pY2lhciBzZXNpb25cIil7XG4gICAgICAgIGRpc3BsYXlQb3BVcCgpXG4gICAgIH0gZWxzZSBpZihsb2dpblNwYW4udGV4dENvbnRlbnQgPT0gXCJMb2cgb3V0XCIgfHwgbG9naW5TcGFuLnRleHRDb250ZW50ID09IFwiQ2VycmFyIHNlc2nDs25cIil7XG4gICAgICBsb2dPdXRVc2VyKClcbiAgIH1cbiAgIFxufVxuZnVuY3Rpb24gZGlzcGxheVBvcFVwKCl7XG4gICBiYWNrZ3JvdW5kUG9wVXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgcG9wVXBMb2dJbi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcbiAgIHBvcFVwTG9nSW4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImZyb210b3BcIilcbn1cbmZ1bmN0aW9uIGRpc3BsYXlDYWxlbmRhckJ1dHRvbigpe1xuICAgc2xpZGVIb21lVG9DYWxlbmRhcigpXG59XG5mdW5jdGlvbiBkaXNwbGF5SG9tZUJ1dHRvbigpe1xuICAgc2xpZGVDYWxlbmRhclRvSG9tZSgpXG59XG5cbmZ1bmN0aW9uIGFkZFByb2plY3RCdXR0b24oKXsgIFxuICAgb3BlbkFkZFByb2plY3RCdXR0b24oKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0KGUpe1xuICAgY29uc3QgaW5wdXRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1wcm9qZWN0XCIpXG4gICBpZihpbnB1dFByb2plY3QudmFsdWUgPT0gXCJcIikgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKVxuICAgbGV0IGluZGV4ID0gYXJyYXlPZlByb2plY3RzLmZpbmRJbmRleChvYmplY3Q9PiBvYmplY3QuZ2V0TmFtZVByb2plY3QoKSA9PSBpbnB1dFByb2plY3QudmFsdWUpXG4gICBpZihpbmRleCA+IC0xKXtcbiAgICAgIHJldHVybiBhbGVydChcIlByb2plY3QgYWxyZWFkeSBleGlzdHMsIHBsZWFzZSB1c2UgYW5vdGhlciBuYW1lLlwiKSxlLnByZXZlbnREZWZhdWx0KClcbiAgIH1cbiAgIGUucHJldmVudERlZmF1bHQoKVxuICAgbGV0IG5ld1Byb2plY3QgPSBuZXcgUHJvamVjdChpbnB1dFByb2plY3QudmFsdWUpXG4gICBhcnJheU9mUHJvamVjdHMucHVzaChuZXdQcm9qZWN0KVxuICAgbGV0IG9wdGlvblByb2plY3QgPSBuZXdQcm9qZWN0LmNyZWF0ZVNlbGVjdFByb2plY3QoKVxuICAgc2VsZWN0UHJvamVjdC5hcHBlbmRDaGlsZChvcHRpb25Qcm9qZWN0KVxuICAgaW5wdXRQcm9qZWN0LnZhbHVlID0gbnVsbFxuICAgaWYoTklHSFRfTU9ERV9TV0lUQ0guY2hlY2tlZCl7XG4gICBzZWxlY3RQcm9qZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsZWN0UHJvamVjdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMCwgMCwgMCwgMC4xKVwiICAgICAgIFxuICAgICAgfSwgNTAwKTtcbiAgIH0gZWxzZSBpZighKE5JR0hUX01PREVfU1dJVENILmNoZWNrZWQpKXtcbiAgICAgIHNlbGVjdFByb2plY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE3NCwgMjE0LCAyNDEsIDAuNylcIlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxlY3RQcm9qZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgxNzQsIDIxNCwgMjQxLCAwLjEpXCJcbiAgICAgIH0sIDUwMCk7XG4gICB9XG4gIFxufVxuZnVuY3Rpb24gY2hlY2tPcHRpb24oKXtcbiAgIGxldCBvcHRpb24gPSBzZWxlY3RQcm9qZWN0Lm9wdGlvbnNbc2VsZWN0UHJvamVjdC5zZWxlY3RlZEluZGV4XVxuaWYob3B0aW9uLnRleHQgPT0gXCJQcm9qZWN0c1wiKXtcbiAgIEFERF9UQVNLX0JVVFRPTi5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGFsZXJ0KFwiUGxlYXNlICwgYWRkIGEgcHJvamVjdCB0byBjcmVhdGUgYSB0YXNrLlwiKVxuICAgfSlcbn0gZWxzZSB7XG4gICBBRERfVEFTS19CVVRUT04uZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBkaXNwbGF5VGFza0lucHV0cygpXG4gICB9KVxufVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VEaXNwbGF5VG9PcHRpb25TZWxlY3RlZCgpe1xuICAgbGV0IG9wdGlvbiA9IHNlbGVjdFByb2plY3Qub3B0aW9uc1tzZWxlY3RQcm9qZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgbGV0IGluZGV4UHJvamVjdCA9IGFycmF5T2ZQcm9qZWN0cy5maW5kSW5kZXgob2JqZWN0ID0+IG9iamVjdC5nZXROYW1lUHJvamVjdCgpID09IG9wdGlvbi50ZXh0KVxuICAgdG9Eb0Rpdi5pbm5lckhUTUwgPSBhcnJheU9mUHJvamVjdHNbaW5kZXhQcm9qZWN0XS5nZXRBcnJheU9mVG9Eb1Rhc2soKS5qb2luKClcbiAgIGluUHJvZ3Jlc3NEaXYuaW5uZXJIVE1MID0gYXJyYXlPZlByb2plY3RzW2luZGV4UHJvamVjdF0uZ2V0QXJyYXlPZkluUHJvZ3Jlc3NUYXNrKCkuam9pbigpXG4gICBjb21wbGV0ZWREaXYuaW5uZXJIVE1MID0gYXJyYXlPZlByb2plY3RzW2luZGV4UHJvamVjdF0uZ2V0QXJyYXlPZkNvbXBsZXRlZFRhc2soKS5qb2luKClcbiAgIGNoZWNrT3B0aW9uKClcbn1cbmZ1bmN0aW9uIGRpc3BsYXlUYXNrSW5wdXRzKCl7XG4gICBcbiAgIGlmKHBsdXNUb2RvLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09IFwicm90YXRlXCIpcmV0dXJuIG9wZW5PckNsb3NlVGFzayh0b0RvRGl2LHBsdXNUb2RvKSxpc1Rhc2tBbHJlYWR5ID0gZmFsc2VcbiAgIGlmKHBsdXNJblByb2dyZXNzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09IFwicm90YXRlXCIpIHJldHVybiBvcGVuT3JDbG9zZVRhc2soaW5Qcm9ncmVzc0RpdixwbHVzSW5Qcm9ncmVzcyksaXNUYXNrQWxyZWFkeSA9IGZhbHNlXG4gICBpZihwbHVzQ29tcGxldGVkLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09IFwicm90YXRlXCIpIHJldHVybiBvcGVuT3JDbG9zZVRhc2soY29tcGxldGVkRGl2LHBsdXNDb21wbGV0ZWQpICxpc1Rhc2tBbHJlYWR5ID0gZmFsc2VcbiAgIGlmKHBsdXNDb21wbGV0ZWQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgPT09IHVuZGVmaW5lZCB8fCBwbHVzQ29tcGxldGVkLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09PSBcInJldHVyblwiIHx8IGV2ZW50LnRhcmdldC50YWdOYW1lID09IFwicGF0aFwiKSBpc1Rhc2tBbHJlYWR5ID0gZmFsc2VcbiAgIGlmKGlzVGFza0FscmVhZHkgPT09IHRydWUpIHJldHVyblxuICAgaWYoZXZlbnQuc3JjRWxlbWVudC5pZCA9PSBcImFkZF90b2RvXCIgfHwgZXZlbnQuc3JjRWxlbWVudC5pZCA9PSBcInBsdXNUb0RvXCIpe1xuICAgICAgb3Blbk9yQ2xvc2VUYXNrKHRvRG9EaXYscGx1c1RvZG8pXG4gICAgICBsZXQgZmlyc3RDaGlsZCA9IHRvRG9EaXYuZmlyc3RDaGlsZFxuICAgICAgaWYoZmlyc3RDaGlsZCA9PT0gbnVsbCl7XG4gICAgICAgICB0b0RvRGl2LmFwcGVuZENoaWxkKGNyZWF0ZUlucHV0VGFzaygpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIHRvRG9EaXYuaW5zZXJ0QmVmb3JlKGNyZWF0ZUlucHV0VGFzaygpLHRvRG9EaXYuZmlyc3RDaGlsZClcbiAgICAgICAgIGZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd24xXCIpXG4gICAgICB9XG4gICAgICB3aGVyZUlzVGhlVGFzayA9IFwidG9Eb0RpdlwiXG4gICB9IGVsc2UgaWYoZXZlbnQuc3JjRWxlbWVudC5pZCA9PSBcImFkZF9pbnByb2dyZXNzXCIgfHwgZXZlbnQuc3JjRWxlbWVudC5pZCA9PSBcInBsdXNJbnByb2dyZXNzXCIpe1xuXG4gICAgICBvcGVuT3JDbG9zZVRhc2soaW5Qcm9ncmVzc0RpdixwbHVzSW5Qcm9ncmVzcylcblxuICAgICAgbGV0IGZpcnN0Q2hpbGQgPSBpblByb2dyZXNzRGl2LmZpcnN0Q2hpbGRcbiAgICAgIGlmKGZpcnN0Q2hpbGQgPT09IG51bGwpe1xuICAgICAgICAgaW5Qcm9ncmVzc0Rpdi5hcHBlbmRDaGlsZChjcmVhdGVJbnB1dFRhc2soKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBpblByb2dyZXNzRGl2Lmluc2VydEJlZm9yZShjcmVhdGVJbnB1dFRhc2soKSxpblByb2dyZXNzRGl2LmZpcnN0Q2hpbGQpXG4gICAgICAgICBmaXJzdENoaWxkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJkb3duMVwiKVxuICAgICAgfVxuICAgICAgd2hlcmVJc1RoZVRhc2sgPSBcImluUHJvZ3Jlc3NEaXZcIlxuXG4gICB9ZWxzZSBpZihldmVudC5zcmNFbGVtZW50LmlkID09IFwiYWRkX2NvbXBsZXRlXCIgfHwgZXZlbnQuc3JjRWxlbWVudC5pZCA9PSBcInBsdXNDb21wbGV0ZWRcIil7XG5cbiAgICAgIG9wZW5PckNsb3NlVGFzayhjb21wbGV0ZWREaXYscGx1c0NvbXBsZXRlZClcblxuICAgICAgbGV0IGZpcnN0Q2hpbGQgPSBjb21wbGV0ZWREaXYuZmlyc3RDaGlsZFxuICAgICAgaWYoZmlyc3RDaGlsZCA9PT0gbnVsbCl7XG4gICAgICAgICBjb21wbGV0ZWREaXYuYXBwZW5kQ2hpbGQoY3JlYXRlSW5wdXRUYXNrKCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgY29tcGxldGVkRGl2Lmluc2VydEJlZm9yZShjcmVhdGVJbnB1dFRhc2soKSxjb21wbGV0ZWREaXYuZmlyc3RDaGlsZClcbiAgICAgICAgIGZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd24xXCIpXG4gICAgICB9XG4gICAgICB3aGVyZUlzVGhlVGFzayA9IFwiY29tcGxldGVkRGl2XCJcblxuICAgfVxuICAgaWYoTklHSFRfTU9ERV9TV0lUQ0guY2hlY2tlZCkgdHVybk5pZ2h0VGhlbWVPcldoaXRlVGhlbWUoKVxuICAgaXNUYXNrQWxyZWFkeSA9IHRydWVcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5wdXRUYXNrKCl7XG4gICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICBkaXYuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJ0aXRsZXRhc2tcIj48aW5wdXQgcmVxdWlyZWQgaWQ9XCJ0aXRsZVRhc2tJbnB1dFwiIHBsYWNlaG9sZGVyPVwiVGl0bGVcIj48L2Rpdj48cD48dGV4dGFyZWEgbWF4bGVuZ3RoID0gXCI1MFwiIHBsYWNlaG9sZGVyPVwiRGV0YWlsc1wiIGlkPVwiZGV0YWlsc0lucHV0XCI+PC90ZXh0YXJlYT48L3A+PGlucHV0IGlkPVwic3ViRGF0ZVwiIHR5cGU9XCJkYXRlXCI+PGJ1dHRvbiBpZD1cImRvbmVCdXR0b25UYXNrXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XCI+RG9uZTwvYnV0dG9uPidcbiAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwidGFza1wiKVxuICAgZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJmcm9tdG9wXCIpXG4gICByZXR1cm4gZGl2XG59XG53aW5kb3cub25jbGljayA9ICgpID0+IHtcbiAgIGlmKGV2ZW50LnRhcmdldC5pZCA9PT0gXCJkb25lQnV0dG9uVGFza1wiKXtcbiAgICAgIGxldCBpbnB1dFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVRhc2tJbnB1dFwiKS52YWx1ZVxuICAgICAgbGV0IGlucHV0RGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV0YWlsc0lucHV0XCIpLnZhbHVlXG4gICAgICBsZXQgc3ViRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ViRGF0ZVwiKS52YWx1ZVxuICAgICAgaWYoaW5wdXRUaXRsZS52YWx1ZSA9PT0gXCJcIiB8fCBpbnB1dERldGFpbHMudmFsdWUgPT09IFwiXCIgfHwgc3ViRGF0ZS52YWx1ZSA9PT0gXCJcIikgcmV0dXJuIFxuICAgICAgbGV0IG5ld1Rhc2sgPSBuZXcgVGFzayhpbnB1dFRpdGxlLnZhbHVlLGlucHV0RGV0YWlscy52YWx1ZSxzdWJEYXRlLnZhbHVlKVxuICAgICAgbGV0IG9wdGlvbiA9IHNlbGVjdFByb2plY3Qub3B0aW9uc1tzZWxlY3RQcm9qZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgbGV0IGluZGV4UHJvamVjdCA9IGFycmF5T2ZQcm9qZWN0cy5maW5kSW5kZXgob2JqZWN0ID0+IG9iamVjdC5nZXROYW1lUHJvamVjdCgpID09IG9wdGlvbi50ZXh0KVxuXG4gICAgICBpZih3aGVyZUlzVGhlVGFzayA9PT0gXCJ0b0RvRGl2XCIpe1xuICAgICAgICAgY29uc3QgZWxlbWVudFRvZG9RdWFudGl0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9kb19xdWFudGl0eVwiKVxuICAgICAgICAgdG9kb1F1YW50aXR5KytcbiAgICAgICAgIGVsZW1lbnRUb2RvUXVhbnRpdHkuaW5uZXJIVE1MICA9IFN0cmluZyh0b2RvUXVhbnRpdHkpXG4gICAgICAgICBhcnJheU9mUHJvamVjdHNbaW5kZXhQcm9qZWN0XS5zZXRUYXNrSW5BcnJheU9mVG9Eb1Rhc2sobmV3VGFzaylcbiAgICAgICAgIGxldCBmaXJzdENoaWxkID0gdG9Eb0Rpdi5maXJzdENoaWxkXG4gICAgICAgICB0b0RvRGl2Lmluc2VydEJlZm9yZShjcmVhdGVUYXNrQ2FyZChpbnB1dFRpdGxlLGlucHV0RGV0YWlscyxzdWJEYXRlKSx0b0RvRGl2LmZpcnN0Q2hpbGQpXG4gICAgICAgICBmaXJzdENoaWxkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJkb3duM1wiKSAgICAgICAgXG4gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgIHRvRG9EaXYucmVtb3ZlQ2hpbGQodG9Eb0Rpdi5jaGlsZE5vZGVzWzFdKSAgICAgIFxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICBjbG9zZVRhc2socGx1c1RvZG8pXG4gICAgICAgICAgICBpc1Rhc2tBbHJlYWR5ID0gZmFsc2VcbiAgICAgIH0gXG4gICAgICBlbHNlIGlmKHdoZXJlSXNUaGVUYXNrID09PSBcImluUHJvZ3Jlc3NEaXZcIil7XG4gICAgICAgICBjb25zdCBlbGVtZW50SW5Qcm9ncmVzc1F1YW50aXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnByb2dyZXNzX3F1YW50aXR5XCIpXG4gICAgICAgICBpblByb2dyZXNzUXVhbnRpdHkrK1xuICAgICAgICAgZWxlbWVudEluUHJvZ3Jlc3NRdWFudGl0eS5pbm5lckhUTUwgPSBTdHJpbmcoaW5Qcm9ncmVzc1F1YW50aXR5KVxuICAgICAgICAgYXJyYXlPZlByb2plY3RzW2luZGV4UHJvamVjdF0uc2V0VGFza0luQXJyYXlPZkluUHJvZ3Jlc3NUYXNrKG5ld1Rhc2spXG4gICAgICAgICBsZXQgZmlyc3RDaGlsZCA9IGluUHJvZ3Jlc3NEaXYuZmlyc3RDaGlsZCAgICAgICAgXG4gICAgICAgICBpblByb2dyZXNzRGl2Lmluc2VydEJlZm9yZShjcmVhdGVUYXNrQ2FyZChpbnB1dFRpdGxlLGlucHV0RGV0YWlscyxzdWJEYXRlKSxpblByb2dyZXNzRGl2LmZpcnN0Q2hpbGQpXG4gICAgICAgICBmaXJzdENoaWxkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJkb3duM1wiKVxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpblByb2dyZXNzRGl2LnJlbW92ZUNoaWxkKGluUHJvZ3Jlc3NEaXYuY2hpbGROb2Rlc1sxXSkgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgY2xvc2VUYXNrKHBsdXNJblByb2dyZXNzKVxuICAgICAgICAgICAgaXNUYXNrQWxyZWFkeSA9IGZhbHNlXG4gICAgICAgICB9IGVsc2UgaWYod2hlcmVJc1RoZVRhc2sgPT09IFwiY29tcGxldGVkRGl2XCIpe1xuICAgICAgICAgY29uc3QgZWxlbWVudENvbXBsZXRlZFF1YW50aXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wbGV0ZV9xdWFudGl0eVwiKVxuICAgICAgICAgY29tcGxldGVkUXVhbnRpdHkrK1xuICAgICAgICAgZWxlbWVudENvbXBsZXRlZFF1YW50aXR5LmlubmVySFRNTCA9IFN0cmluZyhjb21wbGV0ZWRRdWFudGl0eSlcbiAgICAgICAgIGFycmF5T2ZQcm9qZWN0c1tpbmRleFByb2plY3RdLnNldFRhc2tJbkFycmF5T2ZDb21wbGV0ZWRUYXNrKG5ld1Rhc2spXG4gICAgICAgICBsZXQgZmlyc3RDaGlsZCA9IGNvbXBsZXRlZERpdi5maXJzdENoaWxkICAgIFxuICAgICAgICAgY29tcGxldGVkRGl2Lmluc2VydEJlZm9yZShjcmVhdGVUYXNrQ2FyZChpbnB1dFRpdGxlLGlucHV0RGV0YWlscyxzdWJEYXRlKSxjb21wbGV0ZWREaXYuZmlyc3RDaGlsZClcbiAgICAgICAgIGZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd24zXCIpXG4gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbXBsZXRlZERpdi5yZW1vdmVDaGlsZChjb21wbGV0ZWREaXYuY2hpbGROb2Rlc1sxXSlcbiAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgY2xvc2VUYXNrKHBsdXNDb21wbGV0ZWQpXG4gICAgICAgICBpc1Rhc2tBbHJlYWR5ID0gZmFsc2VcbiAgICAgIH0gIFxuICAgICAgaWYoTklHSFRfTU9ERV9TV0lUQ0guY2hlY2tlZCkgdHVybk5pZ2h0VGhlbWVPcldoaXRlVGhlbWUoKVxuICAgICAgQUREX1RBU0tfQlVUVE9OLmZvckVhY2godGFza0J1dHRvbiA9PiB7XG4gICAgICAgICB0YXNrQnV0dG9uLmRpc2FibGVkID0gdHJ1ZVxuICAgICAgfSlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgQUREX1RBU0tfQlVUVE9OLmZvckVhY2godGFza0J1dHRvbiA9PiB7XG4gICAgICAgICAgICB0YXNrQnV0dG9uLmRpc2FibGVkID0gZmFsc2VcbiAgICAgICAgIH0pXG4gICAgICB9LCAyMDAwKTtcbiAgICAgIG5ld1Rhc2suc2V0SHRtbChjcmVhdGVUYXNrQ2FyZChpbnB1dFRpdGxlLGlucHV0RGV0YWlscyxzdWJEYXRlKS5pbm5lckhUTUwpXG4gICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PSBcImRlbGV0ZUJ1dHRvblwiKXtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV2ZW50LnRhcmdldC5pZClcbiAgICAgIGRlbGV0ZVRhc2soZGVsZXRlQnV0dG9uKVxuICAgfVxuXG59XG5mdW5jdGlvbiBkZWxldGVUYXNrKHRhc2spe1xuICAgbGV0IHBhcmVudE9mVGFzayA9IHRhc2suY2xvc2VzdChcIiN0YXNrXCIpXG4gICBsZXQgY2FyZCA9IHRhc2suY2xvc2VzdChcIi5jYXJkXCIpXG4gICBsZXQgaW5kZXggPSBBcnJheS5mcm9tKHBhcmVudE9mVGFzay5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKHBhcmVudE9mVGFzaylcbiAgIHBhcmVudE9mVGFzay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhcmVudE9mVGFzaylcbiAgIGxldCBvcHRpb24gPSBzZWxlY3RQcm9qZWN0Lm9wdGlvbnNbc2VsZWN0UHJvamVjdC5zZWxlY3RlZEluZGV4XTtcbiAgIGxldCBpbmRleFByb2plY3QgPSBhcnJheU9mUHJvamVjdHMuZmluZEluZGV4KG9iamVjdCA9PiBvYmplY3QuZ2V0TmFtZVByb2plY3QoKSA9PSBvcHRpb24udGV4dClcbiAgIGlmKGNhcmQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzNdLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBcInRvZG9fcXVhbnRpdHlcIil7XG4gICAgICB0b2RvUXVhbnRpdHktLVxuICAgICAgZWxlbWVudFRvZG9RdWFudGl0eS50ZXh0Q29udGVudCA9IFN0cmluZyh0b2RvUXVhbnRpdHkpXG4gICAgICBhcnJheU9mUHJvamVjdHNbaW5kZXhQcm9qZWN0XS5kZWxldGVUYXNrSW5BcnJheU9mVG9Eb1Rhc2soaW5kZXgpXG4gICB9IGVsc2UgaWYoY2FyZC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbM10uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiaW5wcm9ncmVzc19xdWFudGl0eVwiKXtcbiAgICAgIGluUHJvZ3Jlc3NRdWFudGl0eS0tXG4gICAgICBlbGVtZW50SW5Qcm9ncmVzc1F1YW50aXR5LnRleHRDb250ZW50ID0gU3RyaW5nKGluUHJvZ3Jlc3NRdWFudGl0eSlcbiAgICAgIGFycmF5T2ZQcm9qZWN0c1tpbmRleFByb2plY3RdLmRlbGV0ZVRhc2tJbkFycmF5T2ZJblByb2dyZXNzVGFzayhpbmRleClcblxuICAgfSBlbHNlIGlmKGNhcmQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzNdLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBcImNvbXBsZXRlX3F1YW50aXR5XCIpe1xuICAgICAgY29tcGxldGVkUXVhbnRpdHktLVxuICAgICAgZWxlbWVudENvbXBsZXRlZFF1YW50aXR5LnRleHRDb250ZW50ID0gU3RyaW5nKGNvbXBsZXRlZFF1YW50aXR5KVxuICAgICAgYXJyYXlPZlByb2plY3RzW2luZGV4UHJvamVjdF0uZGVsZXRlVGFza0luQXJyYXlPZkNvbXBsZXRlZFRhc2soaW5kZXgpXG4gICAgICBcbiAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tDYXJkKHRpdGxlLGRldGFpbHMsZGF0ZSl7XG4gICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICBkaXYuc2V0QXR0cmlidXRlKFwiaWRcIixcInRhc2tcIilcbiAgIGRpdi5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cInRpdGxldGFza1wiPjxoMj4nICsgdGl0bGUgKyAgJzwvaDI+PGRpdj4gPHN2ZyBjbGFzcz1cImRlbGV0ZUJ1dHRvblwiIGlkPVwiJysgcmFuZG9tKDAsMTAwMDAwKSArJ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+IDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5IDdsLS44NjcgMTIuMTQyQTIgMiAwIDAxMTYuMTM4IDIxSDcuODYyYTIgMiAwIDAxLTEuOTk1LTEuODU4TDUgN201IDR2Nm00LTZ2Nm0xLTEwVjRhMSAxIDAgMDAtMS0xaC00YTEgMSAwIDAwLTEgMXYzTTQgN2gxNlwiIC8+IDwvc3ZnPiA8c3ZnIGlkPScrIHJhbmRvbSgwLDEwMDAwMCkgKycgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzPVwicGluQnV0dG9uXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUuMTcyIDdsLTYuNTg2IDYuNTg2YTIgMiAwIDEwMi44MjggMi44MjhsNi40MTQtNi41ODZhNCA0IDAgMDAtNS42NTYtNS42NTZsLTYuNDE1IDYuNTg1YTYgNiAwIDEwOC40ODYgOC40ODZMMjAuNSAxM1wiIC8+PC9zdmc+IDwvZGl2PiA8L2Rpdj4gPHA+JysgZGV0YWlscyArJzwvcD4gPHN1YiBpZD1cImRhdGVcIj4nICsgZGF0ZSArICc8L3N1Yj4nXG4gICByZXR1cm4gZGl2XG59XG5jb25zdCByYW5kb20gPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcbi8vIEZJUkVCQVNFXG5jb25zdCBlbWFpbEVsZW1lbnQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbC1pbnB1dFwiKVxuY29uc3QgcGFzc3dvcmRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXNzd29yZC1pbnB1dFwiKVxuY29uc3Qgc2lnblVwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbi11cFwiKVxuY29uc3Qgc2lnbkluRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbi1pblwiKVxuY29uc3QgZ29vZ2xlVXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29vZ2xlVXNlclwiKVxuY29uc3QgZGVtb1VzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbW9Vc2VyXCIpXG5jb25zdCBzdGF0ZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlXCIpXG5cbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuXG4gICBhcGlLZXk6IFwiQUl6YVN5Ql85Yk44d3NuY3Z1VkNJRW56WUlGaGctbXdXRnU5VF9zXCIsXG4gXG4gICBhdXRoRG9tYWluOiBcInRvLWRvLWFwcC03ODBiMi5maXJlYmFzZWFwcC5jb21cIixcbiBcbiAgIHByb2plY3RJZDogXCJ0by1kby1hcHAtNzgwYjJcIixcbiBcbiAgIHN0b3JhZ2VCdWNrZXQ6IFwidG8tZG8tYXBwLTc4MGIyLmFwcHNwb3QuY29tXCIsXG4gXG4gICBtZXNzYWdpbmdTZW5kZXJJZDogXCI0MTE0MjE4MTQwMjdcIixcbiBcbiAgIGFwcElkOiBcIjE6NDExNDIxODE0MDI3OndlYjpkZTE0M2ZiMGQxNTNjOGZhOGRjNjBlXCIsXG4gXG4gICBtZWFzdXJlbWVudElkOiBcIkctV0VFREdMU1YzMlwiXG4gXG4gfTtcbiBjb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcbmNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcClcbnNpZ25VcEVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCxlbWFpbEVsZW1lbnQudmFsdWUscGFzc3dvcmRFbGVtZW50LnZhbHVlKS50aGVuKCh1c2VyQ3JlZGVudGlhbCkgPT4ge1xuICAgICAgICAgIGZvcm1Vc2VyLnJlc2V0KClcbiAgICAgICAgICBjb25zdCB1c2VyID0gdXNlckNyZWRlbnRpYWwudXNlclxuICAgICAgICAgIGVuZExvZ0luT3JMb2dPdXQoZmFsc2UsdHJ1ZSx1c2VyLGZhbHNlKVxuICAgICAgICAgfSlcbiAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICBjb25zdCBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgIHN0YXRlRm9ybS50ZXh0Q29udGVudCA9ICBlcnJvckNvZGVcbiAgICAgICAgIHRocm93RXJyb3JTcGFuKGVycm9yKVxuICAgICAgfSkgICAgIFxufVxuc2lnbkluRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgIGUucHJldmVudERlZmF1bHQoKVxuICAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCxlbWFpbEVsZW1lbnQudmFsdWUscGFzc3dvcmRFbGVtZW50LnZhbHVlKVxuICAgLnRoZW4oKHVzZXJDcmVkZW50aWFsKSA9PiB7XG4gICAgICBmb3JtVXNlci5yZXNldCgpXG4gICAgICBjb25zdCB1c2VyID0gdXNlckNyZWRlbnRpYWwudXNlclxuICAgICAgZW5kTG9nSW5PckxvZ091dChmYWxzZSx0cnVlLHVzZXIsZmFsc2UpXG4gICB9KVxuICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICBzdGF0ZUZvcm0udGV4dENvbnRlbnQgPSAgZXJyb3JDb2RlXG4gICAgIHRocm93RXJyb3JTcGFuKGVycm9yKVxuICAgfSkgIFxufVxuZnVuY3Rpb24gbG9nT3V0VXNlcigpe1xuICAgc2lnbk91dChhdXRoKVxuICAgLnRoZW4oKCk9PntcbiAgICAgIGVuZExvZ0luT3JMb2dPdXQodHJ1ZSxmYWxzZSlcbiAgICAgIG5hbWVVc2VyU3Bhbi50ZXh0Q29udGVudCA9IFwiXCJcbiAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgIGFsZXJ0KGVycm9yLm1lc3NhZ2UpXG4gICB9KVxufVxuY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG5nb29nbGVVc2VyLm9uY2xpY2sgPSAoKSA9PiB7XG5zaWduSW5XaXRoUG9wdXAoYXV0aCxwcm92aWRlcilcbi50aGVuKChyZXN1bHQpID0+IHtcbiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KVxuICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuXG4gICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXJcbiAgIGVuZExvZ0luT3JMb2dPdXQoZmFsc2UsdHJ1ZSx1c2VyLHRydWUpXG59KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgIGNvbnN0IGVycm9yQ29kZSA9IGVycm9yLmNvZGU7XG4gICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgY29uc3QgZW1haWwgPSBlcnJvci5lbWFpbDtcbiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcik7XG4gICBhbGVydChcIkEgZXJyb3IgaGFwcGVuOiBcIiArIGVycm9yQ29kZSlcbn0pXG5nZXRSZWRpcmVjdFJlc3VsdChhdXRoKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcblxuICAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgIGNvbnN0IGVtYWlsID0gZXJyb3IuZW1haWw7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbUVycm9yKGVycm9yKTtcbiAgfSk7XG59XG5kZW1vVXNlci5vbmNsaWNrID0gKCkgPT57XG4gICBjbG9zZVBvcFVwKClcbiAgIG5hbWVVc2VyU3Bhbi50ZXh0Q29udGVudCA9IFwiSGVsbG8sIHlvdXIgdGFza3MgYW5kIHByb2plY3RzIHdpbGwgbm90IGJlIHNhdmVkIHdoZW4geW91IGxlYXZlIHRoZSBwYWdlLCBpZiB5b3Ugd2FudCB0aGVtIHRvIGJlIHNhdmVkIHBsZWFzZSBsb2dpbiBvciByZWdpc3RlclwiXG59XG5cbmZ1bmN0aW9uIGVuZExvZ0luT3JMb2dPdXQobG9nb3V0LGxvZ2luLHVzZXIsZ29vZ2xlVXNlcil7XG4gICBjbG9zZVBvcFVwKClcbiAgIGlmKGxvZ2luID09PSB0cnVlICYmIGxvZ291dCA9PT0gZmFsc2Upe1xuICAgICAgaWYoTEFOR1VBSkVfU1dJVENIX0JVVFRPTi5jaGVja2VkKXtcbiAgICAgICAgIExPR19JTl9CVVRUT04uaW5uZXJIVE1MID1gPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJoLTYgdy02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyAxNmw0LTRtMCAwbC00LTRtNCA0SDdtNiA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoNGEzIDMgMCAwMTMgM3YxXCIgLz5cbiAgICA8L3N2Zz4gYCArICc8c3BhbiBpZD1cImxvZ2luc3BhblwiPkNlcnJhciBzZXNpw7NuPC9zcGFuPidcbiAgICBpZihnb29nbGVVc2VyKXtcbiAgICBuYW1lVXNlclNwYW4udGV4dENvbnRlbnQgPSBcIkhvbGEgXCIgKyB1c2VyLmRpc3BsYXlOYW1lICsgXCIhXCJcblxuICAgIH1lbHNlIGlmKCFnb29nbGVVc2VyKXtcbiAgICBuYW1lVXNlclNwYW4udGV4dENvbnRlbnQgPSBcIkhvbGEgXCIgKyB1c2VyLmVtYWlsICsgXCIhXCJcblxuICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIShMQU5HVUFKRV9TV0lUQ0hfQlVUVE9OLmNoZWNrZWQpKXtcbiAgICAgICAgIExPR19JTl9CVVRUT04uaW5uZXJIVE1MID1gPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJoLTYgdy02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyAxNmw0LTRtMCAwbC00LTRtNCA0SDdtNiA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoNGEzIDMgMCAwMTMgM3YxXCIgLz5cbiAgICA8L3N2Zz4gYCArICc8c3BhbiBpZD1cImxvZ2luc3BhblwiPkxvZyBvdXQ8L3NwYW4+J1xuICAgIGlmKGdvb2dsZVVzZXIpe1xuICAgICAgbmFtZVVzZXJTcGFuLnRleHRDb250ZW50ID0gXCJIaSBcIiArIHVzZXIuZGlzcGxheU5hbWUgKyBcIiFcIlxuICBcbiAgICAgIH1lbHNlIGlmKCFnb29nbGVVc2VyKXtcbiAgICAgIG5hbWVVc2VyU3Bhbi50ZXh0Q29udGVudCA9IFwiSGkgXCIgKyB1c2VyLmVtYWlsICsgXCIhXCJcbiAgXG4gICAgICB9XG4gICAgICB9XG4gICB9ZWxzZSBpZiAobG9nb3V0ID09PSB0cnVlICYmIGxvZ2luID09PSBmYWxzZSl7XG4gICAgICBpZihMQU5HVUFKRV9TV0lUQ0hfQlVUVE9OLmNoZWNrZWQpe1xuICAgICAgICAgTE9HX0lOX0JVVFRPTi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJoLTYgdy02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSAxNmwtNC00bTAgMGw0LTRtLTQgNGgxNG0tNSA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoN2EzIDMgMCAwMTMgM3YxXCIgLz48L3N2Zz5gICsgJzxzcGFuIGlkPVwibG9naW5zcGFuXCI+SW5pY2lhciBzZXNpb248L3NwYW4+J1xuICAgICAgfSBlbHNlIGlmICghKExBTkdVQUpFX1NXSVRDSF9CVVRUT04uY2hlY2tlZCkpe1xuICAgICAgICAgTE9HX0lOX0JVVFRPTi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJoLTYgdy02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSAxNmwtNC00bTAgMGw0LTRtLTQgNGgxNG0tNSA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoN2EzIDMgMCAwMTMgM3YxXCIgLz48L3N2Zz5gICsgJzxzcGFuIGlkPVwibG9naW5zcGFuXCI+TG9nIGluPC9zcGFuPidcbiAgICAgIH1cbiAgIH0gXG59XG5mdW5jdGlvbiB0aHJvd0Vycm9yU3BhbihlcnJvcil7XG4gICBpZihlcnJvcil7XG4gICAgICBuYW1lVXNlclNwYW4udGV4dENvbnRlbnQgPSAnJ1xuXG4gICAgICB9XG4gICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHN0YXRlRm9ybS50ZXh0Q29udGVudCA9IFwiXCJcbiAgIH0sIDQwMDApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/jsCalendar.js":
/*!***************************!*\
  !*** ./src/jsCalendar.js ***!
  \***************************/
/***/ (() => {

eval("/*\r\n * jsCalendar v1.4.4\r\n *\r\n *\r\n * MIT License\r\n *\r\n * Copyright (c) 2019 Grammatopoulos Athanasios-Vasileios\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n *\r\n */\r\n\r\nvar jsCalendar = (function(){\r\n\r\n    // Constructor\r\n    function JsCalendar(){\r\n        // No parameters\r\n        if (arguments.length === 0) {\r\n            // Do nothing\r\n            return;\r\n        }\r\n        else {\r\n            // Construct calendar\r\n            this._construct(arguments);\r\n        }\r\n    }\r\n\r\n    // Version\r\n    JsCalendar.version = 'v1.4.4';\r\n\r\n    // Sub-Constructor\r\n    JsCalendar.prototype._construct = function(args) {\r\n        // Parse arguments\r\n        args = this._parseArguments(args);\r\n        // Set a target\r\n        this._setTarget(args.target);\r\n        // Init calendar\r\n        this._init(args.options);\r\n        // Init target\r\n        this._initTarget();\r\n        // Set date\r\n        this._setDate(\r\n            (args.date !== null) ? args.date :\r\n            (this._target.dataset.hasOwnProperty('date')) ? this._target.dataset.date :\r\n            new Date()\r\n        );\r\n        // If invalid date\r\n        if (!this._now) throw new Error('jsCalendar: Date is outside range.');\r\n        // Create\r\n        this._create();\r\n        // Update\r\n        this._update();\r\n    };\r\n\r\n    // Languages\r\n    JsCalendar.prototype.languages = {\r\n        // Default English language\r\n        en : {\r\n            // Months Names\r\n            months : ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n            // Days Names\r\n            days : ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n            // Default handlers\r\n            _dateStringParser : function(key, date) {return JsCalendar._defaultDateStringParser(key, date, this);},\r\n            _dayStringParser : function(key, date) {return JsCalendar._defaultDayStringParser(key, date, this);}\r\n        }\r\n    };\r\n\r\n    // Init calendar\r\n    JsCalendar.prototype._init = function(options) {\r\n        // Init elements object\r\n        this._elements = {};\r\n        // Events init\r\n        this._events = {};\r\n        this._events.date = [];\r\n        this._events.month = [];\r\n        this._events.day_render = [];\r\n        this._events.date_render = [];\r\n        this._events.month_render = [];\r\n        // Dates variables\r\n        this._now = null;\r\n        this._date = null;\r\n        this._selected = [];\r\n        // Language object\r\n        this.language = {};\r\n        // Parse options\r\n        this._parseOptions(options);\r\n    };\r\n\r\n    // Parse options\r\n    JsCalendar.prototype._parseArguments = function(args) {\r\n        // Arguments object\r\n        var obj = {\r\n            target : null,\r\n            date : null,\r\n            options : {}\r\n        };\r\n\r\n        // If no arguments\r\n        if (args.length === 0) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: No parameters were given.');\r\n        }\r\n\r\n        // Only 1 argument\r\n        else if (args.length === 1) {\r\n\r\n            // If target element\r\n            if (\r\n                (\r\n                    // If html element\r\n                    ((typeof HTMLElement === 'object') ? (args[0] instanceof HTMLElement) : args[0]) &&\r\n                    (typeof args[0] === 'object') && (args[0] !== null) && (args[0].nodeType === 1) &&\r\n                    (typeof args[0].nodeName === 'string')\r\n                ) || (\r\n                    // Or string\r\n                    typeof args[0] === 'string'\r\n                )\r\n            ) {\r\n                obj.target = args[0];\r\n            }\r\n\r\n            // Options argument\r\n            else {\r\n                // Init arguments\r\n                obj.options = args[0];\r\n                // Get target\r\n                if (typeof args[0].target !== 'undefined') {\r\n                    obj.target = args[0].target;\r\n                }\r\n                else {\r\n                    // Throw an error\r\n                    throw new Error('jsCalendar: Not target was given.');\r\n                }\r\n                // Get date\r\n                if (typeof args[0].date !== 'undefined') {\r\n                    obj.date = args[0].date;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Many arguments\r\n        else {\r\n\r\n            // First is target\r\n            obj.target = args[0];\r\n\r\n            // If date\r\n            if (args.length >= 2) {\r\n                obj.date = args[1];\r\n            }\r\n\r\n            // If options\r\n            if (args.length >= 3) {\r\n                obj.options = args[2];\r\n            }\r\n\r\n        }\r\n\r\n        // Return object\r\n        return obj;\r\n    };\r\n\r\n    // Default options\r\n    JsCalendar.options = {\r\n        language : 'en',\r\n        zeroFill : false,\r\n        monthFormat : 'month',\r\n        dayFormat : 'D',\r\n        firstDayOfTheWeek : 1,\r\n        navigator : true,\r\n        navigatorPosition : 'both',\r\n        min : false,\r\n        max : false,\r\n        onMonthRender : false,\r\n        onDayRender : false,\r\n        onDateRender : false\r\n    };\r\n\r\n    // Parse options\r\n    JsCalendar.prototype._parseOptions = function(doptions) {\r\n        // Options Object\r\n        this._options = {};\r\n        // Input options object (dirty)\r\n        var options = {};\r\n\r\n        // Load default and input options\r\n        for (var item in JsCalendar.options) {\r\n            // Default options\r\n            if (JsCalendar.options.hasOwnProperty(item)) {\r\n                this._options[item] = JsCalendar.options[item];\r\n            }\r\n            // Dynamic options\r\n            if (doptions.hasOwnProperty(item)) {\r\n                options[item] = doptions[item];\r\n            }\r\n            // Dataset options\r\n            else if (this._target.dataset.hasOwnProperty(item)) {\r\n                options[item] = this._target.dataset[item];\r\n            }\r\n        }\r\n\r\n        // Check options\r\n        if (typeof options.zeroFill !== 'undefined'){\r\n            if (options.zeroFill === 'false' || !options.zeroFill) {\r\n                this._options.zeroFill = false;\r\n            }\r\n            else {\r\n                this._options.zeroFill = true;\r\n            }\r\n        }\r\n        if (typeof options.monthFormat !== 'undefined'){\r\n            this._options.monthFormat = options.monthFormat;\r\n        }\r\n        if (typeof options.dayFormat !== 'undefined'){\r\n            this._options.dayFormat = options.dayFormat;\r\n        }\r\n        if (typeof options.navigator !== 'undefined'){\r\n            if (options.navigator === 'false' || !options.navigator) {\r\n                this._options.navigator = false;\r\n            }\r\n            else {\r\n                this._options.navigator = true;\r\n            }\r\n        }\r\n        if (typeof options.navigatorPosition !== 'undefined'){\r\n            this._options.navigatorPosition = options.navigatorPosition;\r\n        }\r\n\r\n        // Language\r\n        if (typeof options.language === 'string' && typeof this.languages[options.language] !== 'undefined'){\r\n            this._options.language = options.language;\r\n        }\r\n        // Set language\r\n        this.setLanguage(this._options.language);\r\n\r\n        // Set first day of the week\r\n        if (typeof options.fdotw !== 'undefined'){\r\n            options.firstDayOfTheWeek = options.fdotw;\r\n        }\r\n        if (typeof options.firstDayOfTheWeek !== 'undefined'){\r\n            // If day number\r\n            if (typeof options.firstDayOfTheWeek === 'number') {\r\n                // Range check (no need to check for bigger than 7 but I don't trust anyone)\r\n                if (options.firstDayOfTheWeek >= 1 && options.firstDayOfTheWeek <= 7) {\r\n                    this._options.firstDayOfTheWeek = options.firstDayOfTheWeek;\r\n                }\r\n            }\r\n            // If string\r\n            if (typeof options.firstDayOfTheWeek === 'string') {\r\n                // If day number\r\n                if (options.firstDayOfTheWeek.match(/^[1-7]$/)) {\r\n                    this._options.firstDayOfTheWeek = parseInt(options.firstDayOfTheWeek, 10);\r\n                }\r\n                // else use it as a day name\r\n                else {\r\n                    // So find day\r\n                    this._options.firstDayOfTheWeek = this.language.days.indexOf(options.firstDayOfTheWeek) + 1;\r\n\r\n                    // Range check (no need to check for bigger then 7 but I don't trust anyone)\r\n                    if (this._options.firstDayOfTheWeek < 1 || this._options.firstDayOfTheWeek > 7) {\r\n                        this._options.firstDayOfTheWeek = 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Set min calendar date\r\n        if (typeof options.min !== 'undefined' && options.min !== 'false' && options.min !== false) {\r\n            // Parse date\r\n            this._options.min = tools.parseDate(options.min);\r\n        }\r\n        // Set max calendar date\r\n        if (typeof options.max !== 'undefined' && options.max !== 'false' && options.max !== false) {\r\n            // Parse date\r\n            this._options.max = tools.parseDate(options.max);\r\n        }\r\n        \r\n        // Set render handlers\r\n        if (typeof options.onMonthRender !== 'undefined') {\r\n            // Passed as function name string\r\n            if (\r\n                typeof options.onMonthRender === 'string' &&\r\n                typeof window[options.onMonthRender] === 'function'\r\n            ) {\r\n                this._on('month_render', window[options.onMonthRender]);\r\n            }\r\n            // Passed as function\r\n            else if (typeof options.onMonthRender === 'function') {\r\n                this._on('month_render', options.onMonthRender);\r\n            }\r\n        }\r\n        if (typeof options.onDayRender !== 'undefined') {\r\n            // Passed as function name string\r\n            if (\r\n                typeof options.onDayRender === 'string' &&\r\n                typeof window[options.onDayRender] === 'function'\r\n            ) {\r\n                this._on('day_render', window[options.onDayRender]);\r\n            }\r\n            // Passed as function\r\n            else if (typeof options.onDayRender === 'function') {\r\n                this._on('day_render', options.onDayRender);\r\n            }\r\n        }\r\n        if (typeof options.onDateRender !== 'undefined') {\r\n            // Passed as function name string\r\n            if (\r\n                typeof options.onDateRender === 'string' &&\r\n                typeof window[options.onDateRender] === 'function'\r\n            ) {\r\n                this._on('date_render', window[options.onDateRender]);\r\n            }\r\n            // Passed as function\r\n            else if (typeof options.onDateRender === 'function') {\r\n                this._on('date_render', options.onDateRender);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Set target\r\n    JsCalendar.prototype._setTarget = function(element) {\r\n        // Parse target\r\n        var target = tools.getElement(element);\r\n        // If target not found\r\n        if (!target) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Target was not found.');\r\n        }\r\n        else {\r\n            // Save element\r\n            this._target = target;\r\n\r\n            // Link object to list\r\n            var id = this._target.id;\r\n            if (id && id.length > 0) {\r\n                jsCalendarObjects['#' + id] = this;\r\n            }\r\n        }\r\n    };\r\n\r\n    // Init target\r\n    JsCalendar.prototype._initTarget = function() {\r\n        // Add class\r\n        if (this._target.className.length > 0){\r\n            this._target.className += ' ';\r\n        }\r\n        this._target.className += 'jsCalendar';\r\n\r\n        // Create table\r\n        this._elements.table = document.createElement('table');\r\n        // Create table header\r\n        this._elements.head = document.createElement('thead');\r\n        this._elements.table.appendChild(this._elements.head);\r\n        // Create table body\r\n        this._elements.body = document.createElement('tbody');\r\n        this._elements.table.appendChild(this._elements.body);\r\n\r\n        // Insert on page\r\n        this._target.appendChild(this._elements.table);\r\n    };\r\n\r\n    // Check if date in range\r\n    JsCalendar.prototype._isDateInRange = function(date) {\r\n        // If no range\r\n        if (this._options.min === false && this._options.max === false) {\r\n            return true;\r\n        }\r\n\r\n        // Parse date\r\n        date = tools.parseDate(date);\r\n        \r\n        // Check min\r\n        if (this._options.min !== false && this._options.min.getTime() > date.getTime()) {\r\n            return false;\r\n        }\r\n        // Check max\r\n        if (this._options.max !== false && this._options.max.getTime() < date.getTime()) {\r\n            return false;\r\n        }\r\n\r\n        // In range\r\n        return true;\r\n    };\r\n\r\n    // Set a Date\r\n    JsCalendar.prototype._setDate = function(date) {\r\n        // Parse date\r\n        date = tools.parseDate(date);\r\n        // Check date not in range\r\n        if (!this._isDateInRange(date)) {\r\n            return;\r\n        }\r\n        // Set data\r\n        this._now = date;\r\n        this._date = new Date(this._now.getFullYear(), this._now.getMonth(), 1);\r\n    };\r\n\r\n    // Convert to date string\r\n    JsCalendar.prototype._parseToDateString = function(date, format) {\r\n        var lang = this.language;\r\n        return format.replace(/(MONTH|month|MMM|mmm|mm|m|MM|M|DAY|day|DDD|ddd|dd|d|DD|D|YYYY|yyyy)/g, function(key) {\r\n            return lang.dateStringParser(key, date);\r\n        });\r\n    };\r\n\r\n    // Get visible month\r\n    JsCalendar.prototype._getVisibleMonth = function(date) {\r\n        // For date\r\n        if (typeof date === 'undefined') {\r\n            // Get saved date\r\n            date = this._date;\r\n        }\r\n        else {\r\n            date = tools.parseDate(date);\r\n        }\r\n\r\n        // Get month's first day\r\n        var first = new Date(date.getTime());\r\n        first.setDate(1);\r\n\r\n        // First day of the month index\r\n        var firstDay = first.getDay() - (this._options.firstDayOfTheWeek - 1);\r\n        if (firstDay < 0) {\r\n            firstDay += 7;\r\n        }\r\n\r\n        // Get month's name\r\n        var lang = this.language;\r\n        var name = this._options.monthFormat.replace(/(MONTH|month|MMM|mmm|##|#|YYYY|yyyy)/g, function(key) {\r\n            return lang.dateStringParser(key, first);\r\n        });\r\n\r\n        // Get visible days\r\n        var days = this._getVisibleDates(date);\r\n        var daysInMonth = new Date(first.getYear() + 1900, first.getMonth() + 1, 0).getDate();\r\n\r\n        var current = -1;\r\n        // If this is the month\r\n        if (first.getYear() === this._now.getYear() && first.getMonth() === this._now.getMonth()) {\r\n            // Calculate current\r\n            current = firstDay + this._now.getDate() - 1;\r\n        }\r\n\r\n        // Return object\r\n        return {\r\n            name : name,\r\n            days : days,\r\n            start : firstDay + 1,\r\n            current : current,\r\n            end : firstDay + daysInMonth\r\n        };\r\n    };\r\n\r\n    // Get visible dates\r\n    JsCalendar.prototype._getVisibleDates = function(date) {\r\n        // For date\r\n        if (typeof date === 'undefined') {\r\n            // Get saved date\r\n            date = this._date;\r\n        }\r\n        else {\r\n            date = tools.parseDate(date);\r\n        }\r\n\r\n        // Visible days array\r\n        var dates = [];\r\n        // Get first day of the month\r\n        var first = new Date(date.getTime());\r\n        first.setDate(1);\r\n        first.setHours(0, 0, 0, 0);\r\n\r\n        // Count days of previous month to show\r\n        var previous = first.getDay() - (this._options.firstDayOfTheWeek - 1);\r\n        if (previous < 0) {\r\n            previous += 7;\r\n        }\r\n        // Set day to month's first\r\n        var day = new Date(first.getTime());\r\n        // Previous month's days\r\n        while (previous > 0) {\r\n            // Calculate previous day\r\n            day.setDate(day.getDate() - 1);\r\n            // Add page on frond of the list\r\n            dates.unshift(new Date(day.getTime()));\r\n            // Previous\r\n            previous --;\r\n        }\r\n\r\n        // Set day to month's first\r\n        day = new Date(first.getTime());\r\n        // This month's days\r\n        do {\r\n            // Add page on back of the list\r\n            dates.push(new Date(day.getTime()));\r\n            // Calculate next day\r\n            day.setDate(day.getDate() + 1);\r\n            // Repeat until next month\r\n        } while (day.getDate() !== 1);\r\n\r\n        // Next month's days\r\n        var next = 42 - dates.length;\r\n        // Add days left\r\n        while (next > 0) {\r\n            // Add page on back of the list\r\n            dates.push(new Date(day.getTime()));\r\n            // Calculate next day\r\n            day.setDate(day.getDate() + 1);\r\n            // Next\r\n            next --;\r\n        }\r\n\r\n        // Return days\r\n        return dates;\r\n    };\r\n\r\n    // Create calendar\r\n    JsCalendar.prototype._create = function() {\r\n        var i, j;\r\n        // Save instance\r\n        var that = this;\r\n\r\n        // Set created flag\r\n        this._elements.created = true;\r\n\r\n        // Head rows\r\n        this._elements.headRows = [];\r\n        for (i = 0; i < 2; i++) {\r\n            this._elements.headRows.push(document.createElement('tr'));\r\n            this._elements.head.appendChild(this._elements.headRows[i]);\r\n        }\r\n\r\n        // Month row\r\n        var title_header = document.createElement('th');\r\n        title_header.setAttribute('colspan', 7);\r\n        this._elements.headRows[0].className = 'jsCalendar-title-row';\r\n        this._elements.headRows[0].appendChild(title_header);\r\n\r\n        this._elements.headLeft = document.createElement('div');\r\n        this._elements.headLeft.className = 'jsCalendar-title-left';\r\n        title_header.appendChild(this._elements.headLeft);\r\n        this._elements.month = document.createElement('div');\r\n        this._elements.month.className = 'jsCalendar-title-name';\r\n        title_header.appendChild(this._elements.month);\r\n        this._elements.headRight = document.createElement('div');\r\n        this._elements.headRight.className = 'jsCalendar-title-right';\r\n        title_header.appendChild(this._elements.headRight);\r\n\r\n        // Navigation\r\n        if (this._options.navigator) {\r\n            this._elements.navLeft = document.createElement('div');\r\n            this._elements.navLeft.className = 'jsCalendar-nav-left';\r\n            this._elements.navRight = document.createElement('div');\r\n            this._elements.navRight.className = 'jsCalendar-nav-right';\r\n\r\n            if (this._options.navigatorPosition === 'left') {\r\n                this._elements.headLeft.appendChild(this._elements.navLeft);\r\n                this._elements.headLeft.appendChild(this._elements.navRight);\r\n            }\r\n            else if (this._options.navigatorPosition === 'right') {\r\n                this._elements.headRight.appendChild(this._elements.navLeft);\r\n                this._elements.headRight.appendChild(this._elements.navRight);\r\n            }\r\n            else {\r\n                this._elements.headLeft.appendChild(this._elements.navLeft);\r\n                this._elements.headRight.appendChild(this._elements.navRight);\r\n            }\r\n\r\n            // Event listeners\r\n            this._elements.navLeft.addEventListener('click', function(event){\r\n                that.previous();\r\n                var date = new Date(that._date.getTime());\r\n                date.setDate(1);\r\n                that._eventFire('month', date, event);\r\n            }, false);\r\n            this._elements.navRight.addEventListener('click', function(event){\r\n                that.next();\r\n                var date = new Date(that._date.getTime());\r\n                date.setDate(1);\r\n                that._eventFire('month', date, event);\r\n            }, false);\r\n        }\r\n\r\n        // Days row\r\n        this._elements.headRows[1].className = 'jsCalendar-week-days';\r\n        title_header.className = 'jsCalendar-title';\r\n        this._elements.days = [];\r\n        for (i = 0; i < 7; i++) {\r\n            this._elements.days.push(document.createElement('th'));\r\n            this._elements.headRows[1].appendChild(this._elements.days[\r\n                this._elements.days.length - 1\r\n            ]);\r\n        }\r\n\r\n        // Body rows\r\n        this._elements.bodyRows = [];\r\n        this._elements.bodyCols = [];\r\n        // 6 rows\r\n        for (i = 0; i < 6; i++) {\r\n            this._elements.bodyRows.push(document.createElement('tr'));\r\n            this._elements.body.appendChild(this._elements.bodyRows[i]);\r\n            // 7 days\r\n            for (j = 0; j < 7; j++) {\r\n                this._elements.bodyCols.push(document.createElement('td'));\r\n                this._elements.bodyRows[i].appendChild(this._elements.bodyCols[i * 7 + j]);\r\n                this._elements.bodyCols[i * 7 + j].addEventListener('click', (function(index){\r\n                    return function (event) {\r\n                        that._eventFire('date', that._active[index], event);\r\n                    };\r\n                })(i * 7 + j), false);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Select dates on calendar\r\n    JsCalendar.prototype._selectDates = function(dates) {\r\n        // Copy array instance\r\n        dates = dates.slice();\r\n\r\n        // Parse dates\r\n        for (var i = 0; i < dates.length; i++) {\r\n            dates[i] = tools.parseDate(dates[i]);\r\n            dates[i].setHours(0, 0, 0, 0);\r\n            dates[i] = dates[i].getTime();\r\n        }\r\n\r\n        // Insert dates on array\r\n        for (i = dates.length - 1; i >= 0; i--) {\r\n            // If not already selected\r\n            if (this._selected.indexOf(dates[i]) < 0) {\r\n                this._selected.push(dates[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Un-select dates on calendar\r\n    JsCalendar.prototype._unselectDates = function(dates) {\r\n        // Copy array instance\r\n        dates = dates.slice();\r\n\r\n        // Parse dates\r\n        for (var i = 0; i < dates.length; i++) {\r\n            dates[i] = tools.parseDate(dates[i]);\r\n            dates[i].setHours(0, 0, 0, 0);\r\n            dates[i] = dates[i].getTime();\r\n        }\r\n\r\n        // Remove dates of the array\r\n        var index;\r\n        for (i = dates.length - 1; i >= 0; i--) {\r\n            // If selected\r\n            index = this._selected.indexOf(dates[i]);\r\n            if (index >= 0) {\r\n                this._selected.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Unselect all dates on calendar\r\n    JsCalendar.prototype._unselectAllDates = function() {\r\n        // While not empty\r\n        while (this._selected.length) {\r\n            this._selected.pop();\r\n        }\r\n    };\r\n\r\n    // Update calendar\r\n    JsCalendar.prototype._update = function() {\r\n        // Get month info\r\n        var month = this._getVisibleMonth(this._date);\r\n        // Save data\r\n        this._active = month.days.slice();\r\n        // Update month name\r\n        this._elements.month.textContent = month.name;\r\n\r\n        // Check zeros filling\r\n        var prefix = (this._options.zeroFill) ? '0' : '';\r\n\r\n        // Populate days\r\n        var text;\r\n        for (var i = month.days.length - 1; i >= 0; i--) {\r\n            text = month.days[i].getDate();\r\n            this._elements.bodyCols[i].textContent = (text < 10 ? prefix + text : text);\r\n\r\n            // If date is selected\r\n            if (this._selected.indexOf(month.days[i].getTime()) >= 0) {\r\n                this._elements.bodyCols[i].className = 'jsCalendar-selected';\r\n            }\r\n            else {\r\n                this._elements.bodyCols[i].removeAttribute('class');\r\n            }\r\n        }\r\n\r\n        // Previous month\r\n        for (i = 0; i < month.start - 1; i++) {\r\n            this._elements.bodyCols[i].className = 'jsCalendar-previous';\r\n        }\r\n        // Current day\r\n        if (month.current >= 0) {\r\n            if (this._elements.bodyCols[month.current].className.length > 0) {\r\n                this._elements.bodyCols[month.current].className += ' jsCalendar-current';\r\n            }\r\n            else {\r\n                this._elements.bodyCols[month.current].className = 'jsCalendar-current';\r\n            }\r\n        }\r\n        // Next month\r\n        for (i = month.end; i < month.days.length; i++) {\r\n            this._elements.bodyCols[i].className = 'jsCalendar-next';\r\n        }\r\n\r\n        // Set days of the week locale\r\n        for (i = 0; i < 7; i++) {\r\n            var that = this;\r\n            this._elements.days[i].textContent = this._options.dayFormat.replace(/(DAY|day|DDD|ddd|DD|dd|D)/g, function(key) {\r\n                return that.language.dayStringParser(\r\n                    key,\r\n                    (i + that._options.firstDayOfTheWeek - 1) % 7\r\n                );\r\n            });\r\n        }\r\n\r\n        // Call render handlers\r\n        var j;\r\n        if (this._events.month_render.length > 0) {\r\n            var date = month.days[month.start];\r\n            // Clear any style\r\n            this._elements.month.removeAttribute('style');\r\n            // Call the render handlers\r\n            for (j = 0; j < this._events.month_render.length; j++) {\r\n                this._events.month_render[j].call(this,\r\n                    // Month index\r\n                    date.getMonth(),\r\n                    // Pass the html element\r\n                    this._elements.month,\r\n                    // Info about that month\r\n                    {\r\n                        start : new Date(date.getTime()),\r\n                        end : new Date(date.getFullYear(), date.getMonth() + 1, 0, 23, 59, 59, 999),\r\n                        numberOfDays : month.end - month.start + 1\r\n                    }\r\n                );\r\n            }\r\n        }\r\n        if (this._events.day_render.length > 0) {\r\n            for (i = 0; i < 7; i++) {\r\n                // Clear any style\r\n                this._elements.days[i].removeAttribute('style');\r\n                // Call the render handler\r\n                for (j = 0; j < this._events.day_render.length; j++) {\r\n                    this._events.day_render[j].call(this,\r\n                        // Day index\r\n                        (i + this._options.firstDayOfTheWeek - 1) % 7,\r\n                        // Pass the html element\r\n                        this._elements.days[i],\r\n                        // Info about that day\r\n                        {\r\n                            position : i\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        if (this._events.date_render.length > 0) {\r\n            for (i = 0; i < month.days.length; i++) {\r\n                // Clear any style\r\n                this._elements.bodyCols[i].removeAttribute('style');\r\n                // Call the render handler\r\n                for (j = 0; j < this._events.date_render.length; j++) {\r\n                    this._events.date_render[j].call(this,\r\n                        // Date should be clonned\r\n                        new Date(month.days[i].getTime()),\r\n                        // Pass the html element\r\n                        this._elements.bodyCols[i],\r\n                        // Info about that date\r\n                        {\r\n                            isCurrent : (month.current == i),\r\n                            isSelected : (this._selected.indexOf(month.days[i].getTime()) >= 0),\r\n                            isPreviousMonth : (i < month.start),\r\n                            isCurrentMonth : (month.start <= i && i <= month.end),\r\n                            isNextMonth : (month.end < i),\r\n                            position : {x: i%7, y: Math.floor(i/7)}\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    // Fire all event listeners\r\n    JsCalendar.prototype._eventFire = function(name, date, event) {\r\n        if (!this._events.hasOwnProperty(name)) return;\r\n        // Search events\r\n        for (var i = 0; i < this._events[name].length; i++) {\r\n            (function(callback, instance) {\r\n                // Call asynchronous\r\n                setTimeout(function(){\r\n                    // Call callback\r\n                    callback.call(instance, event, new Date(date.getTime()));\r\n                }, 0);\r\n            })(this._events[name][i], this);\r\n        }\r\n    };\r\n\r\n    // Add a event listener\r\n    // This method will be exposed on the future\r\n    JsCalendar.prototype._on = function(name, callback) {\r\n        // If callback is a function\r\n        if(typeof callback === 'function'){\r\n            // Add to the list\r\n            this._events[name].push(callback);\r\n        }\r\n\r\n        // Not a function\r\n        else {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid callback function.');\r\n        }\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Add a event listeners\r\n    JsCalendar.prototype.onDateClick = function(callback) {\r\n        return this._on('date', callback);\r\n    };\r\n    JsCalendar.prototype.onMonthChange = function(callback) {\r\n        return this._on('month', callback);\r\n    };\r\n    JsCalendar.prototype.onDayRender = function(callback) {\r\n        return this._on('day_render', callback);\r\n    };\r\n    JsCalendar.prototype.onDateRender = function(callback) {\r\n        return this._on('date_render', callback);\r\n    };\r\n    JsCalendar.prototype.onMonthRender = function(callback) {\r\n        return this._on('month_render', callback);\r\n    };\r\n\r\n    // Goto a date\r\n    JsCalendar.prototype.set = function(date){\r\n        // Set new date\r\n        this._setDate(date);\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Set min date\r\n    JsCalendar.prototype.min = function(date){\r\n        // If value\r\n        if (date) {\r\n            // Set min date\r\n            this._options.min = tools.parseDate(date);\r\n        }\r\n        // Disable\r\n        else {\r\n            this._options.min = false;\r\n        }\r\n\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Set max date\r\n    JsCalendar.prototype.max = function(date){\r\n        // If value\r\n        if (date) {\r\n            // Set max date\r\n            this._options.max = tools.parseDate(date);\r\n        }\r\n        // Disable\r\n        else {\r\n            this._options.max = false;\r\n        }\r\n\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Refresh\r\n    // Safe _update\r\n    JsCalendar.prototype.refresh = function(date) {\r\n        // If date provided\r\n        if (typeof date !== 'undefined') {\r\n            // If date is in range\r\n            if (this._isDateInRange(date)) {\r\n                this._date = tools.parseDate(date);\r\n            }\r\n        }\r\n\r\n        // If calendar elements ready\r\n        if (this._elements.created === true) {\r\n            this._update();\r\n        }\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Next month\r\n    JsCalendar.prototype.next = function(n){\r\n        // Next number\r\n        if (typeof n !== 'number') {\r\n            n = 1;\r\n        }\r\n\r\n        // Calculate date\r\n        var date = new Date(this._date.getFullYear(), this._date.getMonth() + n, 1);\r\n\r\n        // If date is not in range\r\n        if (!this._isDateInRange(date)) {\r\n            return this;\r\n        }\r\n\r\n        // Set date\r\n        this._date = date;\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Next month\r\n    JsCalendar.prototype.previous = function(n){\r\n        // Next number\r\n        if (typeof n !== 'number') {\r\n            n = 1;\r\n        }\r\n\r\n        // Calculate date (last day of previous month)\r\n        var date = new Date(this._date.getFullYear(), this._date.getMonth() - n + 1, 0);\r\n\r\n        // If date is not in range\r\n        if (!this._isDateInRange(date)) {\r\n            return this;\r\n        }\r\n\r\n        // Set date\r\n        this._date = date;\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Goto a date\r\n    JsCalendar.prototype.goto = function(date){\r\n        this.refresh(date);\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Reset to the date\r\n    JsCalendar.prototype.reset = function(){\r\n        this.refresh(this._now);\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Select dates\r\n    JsCalendar.prototype.select = function(dates){\r\n        // If no arguments\r\n        if (typeof dates === 'undefined') {\r\n            // Return\r\n            return this;\r\n        }\r\n\r\n        // If dates not array\r\n        if (!(dates instanceof Array)) {\r\n            // Lets make it an array\r\n            dates = [dates];\r\n        }\r\n        // Select dates\r\n        this._selectDates(dates);\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Unselect dates\r\n    JsCalendar.prototype.unselect = function(dates){\r\n        // If no arguments\r\n        if (typeof dates === 'undefined') {\r\n            // Return\r\n            return this;\r\n        }\r\n\r\n        // If dates not array\r\n        if (!(dates instanceof Array)) {\r\n            // Lets make it an array\r\n            dates = [dates];\r\n        }\r\n        // Unselect dates\r\n        this._unselectDates(dates);\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n    // Unselect all dates\r\n    JsCalendar.prototype.clearselect = function(){\r\n        // Unselect all dates\r\n        this._unselectAllDates();\r\n        // Refresh\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n    // Unselect all dates (alias)\r\n    JsCalendar.prototype.clearSelected = JsCalendar.prototype.clearselect;\r\n\r\n    // Get selected dates\r\n    JsCalendar.prototype.getSelected = function(options){\r\n        // Check if no options\r\n        if (typeof options !== 'object') {\r\n            options = {};\r\n        }\r\n\r\n        // Copy selected array\r\n        var dates = this._selected.slice();\r\n\r\n        // Options - Sort array\r\n        if (options.sort) {\r\n            if (options.sort === true) {\r\n                dates.sort();\r\n            }\r\n            else if (typeof options.sort === 'string') {\r\n                if (options.sort.toLowerCase() === 'asc') {\r\n                    dates.sort();\r\n                }\r\n                else if (options.sort.toLowerCase() === 'desc'){\r\n                    dates.sort();\r\n                    dates.reverse();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Options - Data type\r\n        if (options.type && typeof options.type === 'string') {\r\n            var i;\r\n            // Convert to date object\r\n            if (options.type.toLowerCase() === 'date'){\r\n                for (i = dates.length - 1; i >= 0; i--) {\r\n                    dates[i] = new Date(dates[i]);\r\n                }\r\n            }\r\n            // If not a timestamp - convert to custom format\r\n            else if (options.type.toLowerCase() !== 'timestamp') {\r\n                for (i = dates.length - 1; i >= 0; i--) {\r\n                    dates[i] = this._parseToDateString(new Date(dates[i]), options.type);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Return dates\r\n        return dates;\r\n    };\r\n\r\n    // Check if date is selected\r\n    JsCalendar.prototype.isSelected = function(date){\r\n        // If no arguments or null\r\n        if (typeof date === 'undefined' || date === null) {\r\n            // Return\r\n            return false;\r\n        }\r\n\r\n        // Parse date\r\n        date = tools.parseDate(date);\r\n        date.setHours(0, 0, 0, 0);\r\n        date = date.getTime();\r\n\r\n        // If selected\r\n        if (this._selected.indexOf(date) >= 0) {\r\n            return true;\r\n        }\r\n        // If not selected\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // Check if date is visible in calendar\r\n    JsCalendar.prototype.isVisible = function(date){\r\n        // If no arguments or null\r\n        if (typeof date === 'undefined' || date === null) {\r\n            // Return\r\n            return false;\r\n        }\r\n\r\n        // Parse date\r\n        date = tools.parseDate(date);\r\n        date.setHours(0, 0, 0, 0);\r\n        date = date.getTime();\r\n\r\n        // Get visible dates\r\n        var visible = this._getVisibleDates();\r\n        // Check if date is inside visible dates\r\n        if (visible[0].getTime() <= date && visible[visible.length - 1].getTime() >= date) {\r\n            return true;\r\n        }\r\n        // Not visible\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // Check if date is in active month\r\n    JsCalendar.prototype.isInMonth = function(date){\r\n        // If no arguments or null\r\n        if (typeof date === 'undefined' || date === null) {\r\n            // Return\r\n            return false;\r\n        }\r\n\r\n        // Parse date and get month\r\n        var month = tools.parseDate(date);\r\n        month.setHours(0, 0, 0, 0);\r\n        month.setDate(1);\r\n\r\n        // Parse active month date\r\n        var active = tools.parseDate(this._date);\r\n        active.setHours(0, 0, 0, 0);\r\n        active.setDate(1);\r\n        \r\n        // If same month\r\n        if (month.getTime() === active.getTime()) {\r\n            return true;\r\n        }\r\n        // Other month\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // Set language\r\n    JsCalendar.prototype.setLanguage = function(code) {\r\n        // Check if language exist\r\n        if (typeof code !== 'string'){\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language code.');\r\n        }\r\n        if (typeof this.languages[code] === 'undefined'){\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Language not found.');\r\n        }\r\n\r\n        // Change language\r\n        this._options.language = code;\r\n\r\n        // Set new language as active\r\n        var language = this.languages[code];\r\n        this.language.months = language.months;\r\n        this.language.days = language.days;\r\n        this.language.dateStringParser = language._dateStringParser;\r\n        this.language.dayStringParser = language._dayStringParser;\r\n\r\n        // Refresh calendar\r\n        this.refresh();\r\n\r\n        // Return\r\n        return this;\r\n    };\r\n\r\n\r\n    // Static foo methods (well... not really static)\r\n\r\n    // Auto init calendars\r\n    JsCalendar.autoFind = function() {\r\n        // Get all auto-calendars\r\n        var calendars = document.getElementsByClassName('auto-jsCalendar');\r\n        // For each auto-calendar\r\n        for (var i = 0; i < calendars.length; i++) {\r\n            // If not loaded\r\n            if (calendars[i].getAttribute('jsCalendar-loaded') !== 'true') {\r\n                // Set as loaded\r\n                calendars[i].setAttribute('jsCalendar-loaded', 'true');\r\n                // Create\r\n                new JsCalendar({target: calendars[i]});\r\n            }\r\n        }\r\n    };\r\n    \r\n    // Tools\r\n    var tools = JsCalendar.tools = {};\r\n    // Parse to javascript date object\r\n    tools.parseDate = function(date, silent) {\r\n        // If set now date\r\n        if (typeof date === 'undefined' || date === null || date === 'now') {\r\n            // Get date now\r\n            date = new Date();\r\n        }\r\n\r\n        // If date is string\r\n        else if (typeof date === 'string') {\r\n            // Parse date string\r\n            date = date.replace(/-/g,'/').match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4,4})$/i);\r\n            // If match\r\n            if (date !== null) {\r\n                var month_index = parseInt(date[2], 10) - 1;\r\n                // Parse date\r\n                date = new Date(date[3], month_index, date[1]);\r\n                // Check if date does not exist\r\n                if (!date || date.getMonth() !== month_index) {\r\n                    // Throw an error\r\n                    if (!silent) throw new Error('jsCalendar: Date does not exist.');\r\n                    return null;\r\n                }\r\n            }\r\n            // Can't parse string\r\n            else {\r\n                // Throw an error\r\n                if (!silent) throw new Error('jsCalendar: Failed to parse date.');\r\n                return null;\r\n            }\r\n        }\r\n\r\n        // If it is a number\r\n        else if (typeof date === 'number') {\r\n            // Get time from timestamp\r\n            date = new Date(date);\r\n        }\r\n\r\n        // If it not a date \r\n        else if (!(date instanceof Date)) {\r\n            // Throw an error\r\n            if (!silent) throw new Error('jsCalendar: Invalid date.');\r\n            return null;\r\n        }\r\n\r\n        // Return date\r\n        return new Date(date.getTime());\r\n    };\r\n    tools.stringToDate = tools.parseDate;\r\n    // Date to string\r\n    tools.dateToString = function(date, format, lang) {\r\n        // Find lang\r\n        var languages = JsCalendar.prototype.languages;\r\n        if (!lang || !languages.hasOwnProperty(lang)) {\r\n            lang = 'en';\r\n        }\r\n\r\n        // Call parser\r\n        return JsCalendar.prototype._parseToDateString.apply(\r\n            {language : {\r\n                months : languages[lang].months,\r\n                days : languages[lang].days,\r\n                dateStringParser : languages[lang]._dateStringParser,\r\n                dayStringParser : languages[lang]._dayStringParser\r\n            }},\r\n            [date, format]\r\n        );\r\n    };\r\n    // Get element\r\n    tools.getElement = function(element) {\r\n        // Check if not valid\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        // If string\r\n        if (typeof element === 'string') {\r\n            // Get element by id\r\n            if (element[0] === '#') {\r\n                return document.getElementById(element.substring(1));\r\n            }\r\n            // Get element by class-name\r\n            else if (element[0] === '.') {\r\n                return document.getElementsByClassName(element.substring(1))[0];\r\n            }\r\n        }\r\n        \r\n        // or if it is HTML element (just a naive-simple check)\r\n        else if (element.tagName && element.nodeName && element.ownerDocument && element.removeAttribute) {\r\n            return element;\r\n        }\r\n\r\n        // Unknown\r\n        return null;\r\n    };\r\n    \r\n    // Get a new object\r\n    JsCalendar.new = function(){\r\n        // Create new object\r\n        var obj = new JsCalendar();\r\n        // Construct calendar\r\n        obj._construct(arguments);\r\n        // Return new object\r\n        return obj;\r\n    };\r\n    \r\n    // Manage existing jsCalendar objects\r\n    var jsCalendarObjects = {};\r\n    JsCalendar.set = function(identifier, calendar){\r\n        if (calendar instanceof JsCalendar) {\r\n            jsCalendarObjects[identifier] = calendar;\r\n            return true;\r\n        }\r\n        throw new Error('jsCalendar: The second parameter is not a jsCalendar.');\r\n    };\r\n    JsCalendar.get = function(identifier){\r\n        if (jsCalendarObjects.hasOwnProperty(identifier)) {\r\n            return jsCalendarObjects[identifier];\r\n        }\r\n        return null;\r\n    };\r\n    JsCalendar.del = function(identifier){\r\n        if (jsCalendarObjects.hasOwnProperty(identifier)) {\r\n            delete jsCalendarObjects[identifier];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    \r\n    // Add a new language\r\n    JsCalendar.addLanguage = function(language){\r\n        // Check if language object is valid\r\n        if (typeof language === 'undefined') {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: No language object was given.');\r\n        }\r\n        // Check if valid language code\r\n        if (typeof language.code !== 'string') {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language code.');\r\n        }\r\n        // Check language months\r\n        if (!(language.months instanceof Array)) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language months.');\r\n        }\r\n        if (language.months.length !== 12) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language months length.');\r\n        }\r\n        // Check language days\r\n        if (!(language.days instanceof Array)) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language days.');\r\n        }\r\n        if (language.days.length !== 7) {\r\n            // Throw an error\r\n            throw new Error('jsCalendar: Invalid language days length.');\r\n        }\r\n\r\n        // Now save language\r\n        JsCalendar.prototype.languages[language.code] = language;\r\n\r\n        // Generate language string format handlers\r\n        language._dateStringParser = (\r\n            language.hasOwnProperty('dateStringParser') ?\r\n            function(key, date) {return language.dateStringParser(key, date) || JsCalendar._defaultDateStringParser(key, date, language);} :\r\n            function(key, date) {return JsCalendar._defaultDateStringParser(key, date, language);}\r\n        );\r\n        language._dayStringParser = (\r\n            language.hasOwnProperty('dayStringParser') ?\r\n            function(key, day) {return language.dayStringParser(key, day) || JsCalendar._defaultDayStringParser(key, day, language);} :\r\n            function(key, day) {return JsCalendar._defaultDayStringParser(key, day, language);}\r\n        );\r\n    };\r\n\r\n    // Default function to handle date-string parsing\r\n    JsCalendar._defaultDateStringParser = function(key, date, lang){\r\n        switch(key) {\r\n            case 'MONTH':\r\n            case 'month':\r\n                return lang.months[date.getMonth()];\r\n            case 'MMM':\r\n            case 'mmm':\r\n                return lang.months[date.getMonth()].substring(0, 3);\r\n            case 'mm':\r\n                return lang.months[date.getMonth()].substring(0, 2);\r\n            case 'm':\r\n                return lang.months[date.getMonth()].substring(0, 1);\r\n            case 'MM':\r\n                return (date.getMonth() < 9 ? '0' : '') + (date.getMonth() + 1);\r\n            case 'M':\r\n                return date.getMonth() + 1;\r\n            case '##':\r\n                return (date.getMonth() < 9 ? '0' : '') + (date.getMonth() + 1);\r\n            case '#':\r\n                return date.getMonth() + 1;\r\n            case 'DAY':\r\n            case 'day':\r\n                return lang.days[date.getDay()];\r\n            case 'DDD':\r\n            case 'ddd':\r\n                return lang.days[date.getDay()].substring(0, 3);\r\n            case 'dd':\r\n                return lang.days[date.getDay()].substring(0, 2);\r\n            case 'd':\r\n                return lang.days[date.getDay()].substring(0, 1);\r\n            case 'DD':\r\n                return (date.getDate() <= 9 ? '0' : '') + date.getDate();\r\n            case 'D':\r\n                return date.getDate();\r\n            case 'YYYY':\r\n            case 'yyyy':\r\n                return date.getYear() + 1900;\r\n        }\r\n    };\r\n\r\n    // Default function to handle date-string parsing\r\n    JsCalendar._defaultDayStringParser = function(key, day, lang){\r\n        switch(key) {\r\n            case 'DAY':\r\n            case 'day':\r\n                return lang.days[day];\r\n            case 'DDD':\r\n            case 'ddd':\r\n                return lang.days[day].substring(0, 3);\r\n            case 'DD':\r\n            case 'dd':\r\n                return lang.days[day].substring(0, 2);\r\n            case 'D':\r\n                return lang.days[day].substring(0, 1);\r\n        }\r\n    };\r\n\r\n    // Load any language on the load list\r\n    (function(){\r\n        // If a list exist\r\n        if (typeof window.jsCalendar_language2load !== 'undefined') {\r\n            // While list not empty\r\n            while (window.jsCalendar_language2load.length) {\r\n                // Make it asynchronous\r\n                setTimeout((function (language) {\r\n                    // Return timeout callback\r\n                    return function() {\r\n                        JsCalendar.addLanguage(language);\r\n                    };\r\n                })(window.jsCalendar_language2load.pop()), 0);\r\n            }\r\n            // Clean up useless list\r\n            delete window.jsCalendar_language2load;\r\n        }\r\n    })();\r\n\r\n    // Init auto calendars\r\n    // After the page loads\r\n    window.addEventListener('load', function() {\r\n        // Get calendars\r\n        JsCalendar.autoFind();\r\n    }, false);\r\n\r\n    // Return\r\n    return JsCalendar;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanNDYWxlbmRhci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw2REFBNkQ7QUFDbEgsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtCQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUJBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQ0FBc0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9DQUFvQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUNBQXFDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtCQUErQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUk7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDBHQUEwRztBQUMzSSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNHQUFzRztBQUN0SSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdF90b3AvLi9zcmMvanNDYWxlbmRhci5qcz8yNmRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIGpzQ2FsZW5kYXIgdjEuNC40XHJcbiAqXHJcbiAqXHJcbiAqIE1JVCBMaWNlbnNlXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxOSBHcmFtbWF0b3BvdWxvcyBBdGhhbmFzaW9zLVZhc2lsZWlvc1xyXG4gKlxyXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG4gKlxyXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcclxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuICpcclxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcclxuICogU09GVFdBUkUuXHJcbiAqXHJcbiAqL1xyXG5cclxudmFyIGpzQ2FsZW5kYXIgPSAoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAvLyBDb25zdHJ1Y3RvclxyXG4gICAgZnVuY3Rpb24gSnNDYWxlbmRhcigpe1xyXG4gICAgICAgIC8vIE5vIHBhcmFtZXRlcnNcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCBjYWxlbmRhclxyXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJ1Y3QoYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvblxyXG4gICAgSnNDYWxlbmRhci52ZXJzaW9uID0gJ3YxLjQuNCc7XHJcblxyXG4gICAgLy8gU3ViLUNvbnN0cnVjdG9yXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fY29uc3RydWN0ID0gZnVuY3Rpb24oYXJncykge1xyXG4gICAgICAgIC8vIFBhcnNlIGFyZ3VtZW50c1xyXG4gICAgICAgIGFyZ3MgPSB0aGlzLl9wYXJzZUFyZ3VtZW50cyhhcmdzKTtcclxuICAgICAgICAvLyBTZXQgYSB0YXJnZXRcclxuICAgICAgICB0aGlzLl9zZXRUYXJnZXQoYXJncy50YXJnZXQpO1xyXG4gICAgICAgIC8vIEluaXQgY2FsZW5kYXJcclxuICAgICAgICB0aGlzLl9pbml0KGFyZ3Mub3B0aW9ucyk7XHJcbiAgICAgICAgLy8gSW5pdCB0YXJnZXRcclxuICAgICAgICB0aGlzLl9pbml0VGFyZ2V0KCk7XHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9zZXREYXRlKFxyXG4gICAgICAgICAgICAoYXJncy5kYXRlICE9PSBudWxsKSA/IGFyZ3MuZGF0ZSA6XHJcbiAgICAgICAgICAgICh0aGlzLl90YXJnZXQuZGF0YXNldC5oYXNPd25Qcm9wZXJ0eSgnZGF0ZScpKSA/IHRoaXMuX3RhcmdldC5kYXRhc2V0LmRhdGUgOlxyXG4gICAgICAgICAgICBuZXcgRGF0ZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBJZiBpbnZhbGlkIGRhdGVcclxuICAgICAgICBpZiAoIXRoaXMuX25vdykgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBEYXRlIGlzIG91dHNpZGUgcmFuZ2UuJyk7XHJcbiAgICAgICAgLy8gQ3JlYXRlXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlKCk7XHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExhbmd1YWdlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUubGFuZ3VhZ2VzID0ge1xyXG4gICAgICAgIC8vIERlZmF1bHQgRW5nbGlzaCBsYW5ndWFnZVxyXG4gICAgICAgIGVuIDoge1xyXG4gICAgICAgICAgICAvLyBNb250aHMgTmFtZXNcclxuICAgICAgICAgICAgbW9udGhzIDogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXHJcbiAgICAgICAgICAgIC8vIERheXMgTmFtZXNcclxuICAgICAgICAgICAgZGF5cyA6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXSxcclxuICAgICAgICAgICAgLy8gRGVmYXVsdCBoYW5kbGVyc1xyXG4gICAgICAgICAgICBfZGF0ZVN0cmluZ1BhcnNlciA6IGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIHRoaXMpO30sXHJcbiAgICAgICAgICAgIF9kYXlTdHJpbmdQYXJzZXIgOiBmdW5jdGlvbihrZXksIGRhdGUpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERheVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIHRoaXMpO31cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXQgY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIC8vIEluaXQgZWxlbWVudHMgb2JqZWN0XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSB7fTtcclxuICAgICAgICAvLyBFdmVudHMgaW5pdFxyXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5kYXRlID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLm1vbnRoID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLmRheV9yZW5kZXIgPSBbXTtcclxuICAgICAgICB0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXIgPSBbXTtcclxuICAgICAgICB0aGlzLl9ldmVudHMubW9udGhfcmVuZGVyID0gW107XHJcbiAgICAgICAgLy8gRGF0ZXMgdmFyaWFibGVzXHJcbiAgICAgICAgdGhpcy5fbm93ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9kYXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgIC8vIExhbmd1YWdlIG9iamVjdFxyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSB7fTtcclxuICAgICAgICAvLyBQYXJzZSBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fcGFyc2VPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQYXJzZSBvcHRpb25zXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VBcmd1bWVudHMgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgICAgICAgLy8gQXJndW1lbnRzIG9iamVjdFxyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA6IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGUgOiBudWxsLFxyXG4gICAgICAgICAgICBvcHRpb25zIDoge31cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHNcclxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBObyBwYXJhbWV0ZXJzIHdlcmUgZ2l2ZW4uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPbmx5IDEgYXJndW1lbnRcclxuICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGFyZ2V0IGVsZW1lbnRcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGh0bWwgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICgodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0JykgPyAoYXJnc1swXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA6IGFyZ3NbMF0pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0JykgJiYgKGFyZ3NbMF0gIT09IG51bGwpICYmIChhcmdzWzBdLm5vZGVUeXBlID09PSAxKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgYXJnc1swXS5ub2RlTmFtZSA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICApIHx8IChcclxuICAgICAgICAgICAgICAgICAgICAvLyBPciBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoudGFyZ2V0ID0gYXJnc1swXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT3B0aW9ucyBhcmd1bWVudFxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEluaXQgYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucyA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0udGFyZ2V0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai50YXJnZXQgPSBhcmdzWzBdLnRhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBOb3QgdGFyZ2V0IHdhcyBnaXZlbi4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEdldCBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0uZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouZGF0ZSA9IGFyZ3NbMF0uZGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWFueSBhcmd1bWVudHNcclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IGlzIHRhcmdldFxyXG4gICAgICAgICAgICBvYmoudGFyZ2V0ID0gYXJnc1swXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGRhdGVcclxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgICAgIG9iai5kYXRlID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMgPSBhcmdzWzJdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIG9iamVjdFxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xyXG4gICAgSnNDYWxlbmRhci5vcHRpb25zID0ge1xyXG4gICAgICAgIGxhbmd1YWdlIDogJ2VuJyxcclxuICAgICAgICB6ZXJvRmlsbCA6IGZhbHNlLFxyXG4gICAgICAgIG1vbnRoRm9ybWF0IDogJ21vbnRoJyxcclxuICAgICAgICBkYXlGb3JtYXQgOiAnRCcsXHJcbiAgICAgICAgZmlyc3REYXlPZlRoZVdlZWsgOiAxLFxyXG4gICAgICAgIG5hdmlnYXRvciA6IHRydWUsXHJcbiAgICAgICAgbmF2aWdhdG9yUG9zaXRpb24gOiAnYm90aCcsXHJcbiAgICAgICAgbWluIDogZmFsc2UsXHJcbiAgICAgICAgbWF4IDogZmFsc2UsXHJcbiAgICAgICAgb25Nb250aFJlbmRlciA6IGZhbHNlLFxyXG4gICAgICAgIG9uRGF5UmVuZGVyIDogZmFsc2UsXHJcbiAgICAgICAgb25EYXRlUmVuZGVyIDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy8gUGFyc2Ugb3B0aW9uc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3BhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uKGRvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gT3B0aW9ucyBPYmplY3RcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0ge307XHJcbiAgICAgICAgLy8gSW5wdXQgb3B0aW9ucyBvYmplY3QgKGRpcnR5KVxyXG4gICAgICAgIHZhciBvcHRpb25zID0ge307XHJcblxyXG4gICAgICAgIC8vIExvYWQgZGVmYXVsdCBhbmQgaW5wdXQgb3B0aW9uc1xyXG4gICAgICAgIGZvciAodmFyIGl0ZW0gaW4gSnNDYWxlbmRhci5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoSnNDYWxlbmRhci5vcHRpb25zLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW2l0ZW1dID0gSnNDYWxlbmRhci5vcHRpb25zW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIER5bmFtaWMgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoZG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbaXRlbV0gPSBkb3B0aW9uc1tpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEYXRhc2V0IG9wdGlvbnNcclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fdGFyZ2V0LmRhdGFzZXQuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbaXRlbV0gPSB0aGlzLl90YXJnZXQuZGF0YXNldFtpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgb3B0aW9uc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy56ZXJvRmlsbCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy56ZXJvRmlsbCA9PT0gJ2ZhbHNlJyB8fCAhb3B0aW9ucy56ZXJvRmlsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy56ZXJvRmlsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy56ZXJvRmlsbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1vbnRoRm9ybWF0ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubW9udGhGb3JtYXQgPSBvcHRpb25zLm1vbnRoRm9ybWF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGF5Rm9ybWF0ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZGF5Rm9ybWF0ID0gb3B0aW9ucy5kYXlGb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5uYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdG9yID09PSAnZmFsc2UnIHx8ICFvcHRpb25zLm5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubmF2aWdhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmF2aWdhdG9yUG9zaXRpb24gIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3JQb3NpdGlvbiA9IG9wdGlvbnMubmF2aWdhdG9yUG9zaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMYW5ndWFnZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sYW5ndWFnZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHRoaXMubGFuZ3VhZ2VzW29wdGlvbnMubGFuZ3VhZ2VdICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgbGFuZ3VhZ2VcclxuICAgICAgICB0aGlzLnNldExhbmd1YWdlKHRoaXMuX29wdGlvbnMubGFuZ3VhZ2UpO1xyXG5cclxuICAgICAgICAvLyBTZXQgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZkb3R3ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSBvcHRpb25zLmZkb3R3O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgLy8gSWYgZGF5IG51bWJlclxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSYW5nZSBjaGVjayAobm8gbmVlZCB0byBjaGVjayBmb3IgYmlnZ2VyIHRoYW4gNyBidXQgSSBkb24ndCB0cnVzdCBhbnlvbmUpXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA+PSAxICYmIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPD0gNykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBkYXkgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXJzdERheU9mVGhlV2Vlay5tYXRjaCgvXlsxLTddJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA9IHBhcnNlSW50KG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWssIDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGVsc2UgdXNlIGl0IGFzIGEgZGF5IG5hbWVcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvIGZpbmQgZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA9IHRoaXMubGFuZ3VhZ2UuZGF5cy5pbmRleE9mKG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWspICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmFuZ2UgY2hlY2sgKG5vIG5lZWQgdG8gY2hlY2sgZm9yIGJpZ2dlciB0aGVuIDcgYnV0IEkgZG9uJ3QgdHJ1c3QgYW55b25lKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIDwgMSB8fCB0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID4gNykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBtaW4gY2FsZW5kYXIgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5taW4gIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMubWluICE9PSAnZmFsc2UnICYmIG9wdGlvbnMubWluICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gdG9vbHMucGFyc2VEYXRlKG9wdGlvbnMubWluKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IG1heCBjYWxlbmRhciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1heCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucy5tYXggIT09ICdmYWxzZScgJiYgb3B0aW9ucy5tYXggIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5tYXggPSB0b29scy5wYXJzZURhdGUob3B0aW9ucy5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgcmVuZGVyIGhhbmRsZXJzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTW9udGhSZW5kZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFBhc3NlZCBhcyBmdW5jdGlvbiBuYW1lIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5vbk1vbnRoUmVuZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvd1tvcHRpb25zLm9uTW9udGhSZW5kZXJdID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ21vbnRoX3JlbmRlcicsIHdpbmRvd1tvcHRpb25zLm9uTW9udGhSZW5kZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub25Nb250aFJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ21vbnRoX3JlbmRlcicsIG9wdGlvbnMub25Nb250aFJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uRGF5UmVuZGVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb24gbmFtZSBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25EYXlSZW5kZXIgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93W29wdGlvbnMub25EYXlSZW5kZXJdID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RheV9yZW5kZXInLCB3aW5kb3dbb3B0aW9ucy5vbkRheVJlbmRlcl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBhc3NlZCBhcyBmdW5jdGlvblxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5vbkRheVJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RheV9yZW5kZXInLCBvcHRpb25zLm9uRGF5UmVuZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb24gbmFtZSBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvd1tvcHRpb25zLm9uRGF0ZVJlbmRlcl0gPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbignZGF0ZV9yZW5kZXInLCB3aW5kb3dbb3B0aW9ucy5vbkRhdGVSZW5kZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbignZGF0ZV9yZW5kZXInLCBvcHRpb25zLm9uRGF0ZVJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCB0YXJnZXRcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9zZXRUYXJnZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gUGFyc2UgdGFyZ2V0XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IHRvb2xzLmdldEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgLy8gSWYgdGFyZ2V0IG5vdCBmb3VuZFxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogVGFyZ2V0IHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBTYXZlIGVsZW1lbnRcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgLy8gTGluayBvYmplY3QgdG8gbGlzdFxyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLl90YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgIGlmIChpZCAmJiBpZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBqc0NhbGVuZGFyT2JqZWN0c1snIycgKyBpZF0gPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0IHRhcmdldFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2luaXRUYXJnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBBZGQgY2xhc3NcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0LmNsYXNzTmFtZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmNsYXNzTmFtZSArPSAnICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3RhcmdldC5jbGFzc05hbWUgKz0gJ2pzQ2FsZW5kYXInO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGFibGVcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy50YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRhYmxlIGhlYWRlclxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmhlYWQpO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0YWJsZSBib2R5XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMudGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuYm9keSk7XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBvbiBwYWdlXHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLnRhYmxlKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpbiByYW5nZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2lzRGF0ZUluUmFuZ2UgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgLy8gSWYgbm8gcmFuZ2VcclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5taW4gPT09IGZhbHNlICYmIHRoaXMuX29wdGlvbnMubWF4ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIG1pblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm1pbiAhPT0gZmFsc2UgJiYgdGhpcy5fb3B0aW9ucy5taW4uZ2V0VGltZSgpID4gZGF0ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBtYXhcclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5tYXggIT09IGZhbHNlICYmIHRoaXMuX29wdGlvbnMubWF4LmdldFRpbWUoKSA8IGRhdGUuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluIHJhbmdlXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCBhIERhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9zZXREYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIC8vIENoZWNrIGRhdGUgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IGRhdGFcclxuICAgICAgICB0aGlzLl9ub3cgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMuX2RhdGUgPSBuZXcgRGF0ZSh0aGlzLl9ub3cuZ2V0RnVsbFllYXIoKSwgdGhpcy5fbm93LmdldE1vbnRoKCksIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IHRvIGRhdGUgc3RyaW5nXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VUb0RhdGVTdHJpbmcgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgbGFuZyA9IHRoaXMubGFuZ3VhZ2U7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC8oTU9OVEh8bW9udGh8TU1NfG1tbXxtbXxtfE1NfE18REFZfGRheXxERER8ZGRkfGRkfGR8RER8RHxZWVlZfHl5eXkpL2csIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGFuZy5kYXRlU3RyaW5nUGFyc2VyKGtleSwgZGF0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdldCB2aXNpYmxlIG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZ2V0VmlzaWJsZU1vbnRoID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIEZvciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgc2F2ZWQgZGF0ZVxyXG4gICAgICAgICAgICBkYXRlID0gdGhpcy5fZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgbW9udGgncyBmaXJzdCBkYXlcclxuICAgICAgICB2YXIgZmlyc3QgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgZmlyc3Quc2V0RGF0ZSgxKTtcclxuXHJcbiAgICAgICAgLy8gRmlyc3QgZGF5IG9mIHRoZSBtb250aCBpbmRleFxyXG4gICAgICAgIHZhciBmaXJzdERheSA9IGZpcnN0LmdldERheSgpIC0gKHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgLSAxKTtcclxuICAgICAgICBpZiAoZmlyc3REYXkgPCAwKSB7XHJcbiAgICAgICAgICAgIGZpcnN0RGF5ICs9IDc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgbW9udGgncyBuYW1lXHJcbiAgICAgICAgdmFyIGxhbmcgPSB0aGlzLmxhbmd1YWdlO1xyXG4gICAgICAgIHZhciBuYW1lID0gdGhpcy5fb3B0aW9ucy5tb250aEZvcm1hdC5yZXBsYWNlKC8oTU9OVEh8bW9udGh8TU1NfG1tbXwjI3wjfFlZWVl8eXl5eSkvZywgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsYW5nLmRhdGVTdHJpbmdQYXJzZXIoa2V5LCBmaXJzdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB2aXNpYmxlIGRheXNcclxuICAgICAgICB2YXIgZGF5cyA9IHRoaXMuX2dldFZpc2libGVEYXRlcyhkYXRlKTtcclxuICAgICAgICB2YXIgZGF5c0luTW9udGggPSBuZXcgRGF0ZShmaXJzdC5nZXRZZWFyKCkgKyAxOTAwLCBmaXJzdC5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudCA9IC0xO1xyXG4gICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIG1vbnRoXHJcbiAgICAgICAgaWYgKGZpcnN0LmdldFllYXIoKSA9PT0gdGhpcy5fbm93LmdldFllYXIoKSAmJiBmaXJzdC5nZXRNb250aCgpID09PSB0aGlzLl9ub3cuZ2V0TW9udGgoKSkge1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gZmlyc3REYXkgKyB0aGlzLl9ub3cuZ2V0RGF0ZSgpIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBvYmplY3RcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lIDogbmFtZSxcclxuICAgICAgICAgICAgZGF5cyA6IGRheXMsXHJcbiAgICAgICAgICAgIHN0YXJ0IDogZmlyc3REYXkgKyAxLFxyXG4gICAgICAgICAgICBjdXJyZW50IDogY3VycmVudCxcclxuICAgICAgICAgICAgZW5kIDogZmlyc3REYXkgKyBkYXlzSW5Nb250aFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdldCB2aXNpYmxlIGRhdGVzXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZ2V0VmlzaWJsZURhdGVzID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIEZvciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgc2F2ZWQgZGF0ZVxyXG4gICAgICAgICAgICBkYXRlID0gdGhpcy5fZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWaXNpYmxlIGRheXMgYXJyYXlcclxuICAgICAgICB2YXIgZGF0ZXMgPSBbXTtcclxuICAgICAgICAvLyBHZXQgZmlyc3QgZGF5IG9mIHRoZSBtb250aFxyXG4gICAgICAgIHZhciBmaXJzdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICBmaXJzdC5zZXREYXRlKDEpO1xyXG4gICAgICAgIGZpcnN0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG5cclxuICAgICAgICAvLyBDb3VudCBkYXlzIG9mIHByZXZpb3VzIG1vbnRoIHRvIHNob3dcclxuICAgICAgICB2YXIgcHJldmlvdXMgPSBmaXJzdC5nZXREYXkoKSAtICh0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIC0gMSk7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzIDwgMCkge1xyXG4gICAgICAgICAgICBwcmV2aW91cyArPSA3O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgZGF5IHRvIG1vbnRoJ3MgZmlyc3RcclxuICAgICAgICB2YXIgZGF5ID0gbmV3IERhdGUoZmlyc3QuZ2V0VGltZSgpKTtcclxuICAgICAgICAvLyBQcmV2aW91cyBtb250aCdzIGRheXNcclxuICAgICAgICB3aGlsZSAocHJldmlvdXMgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwcmV2aW91cyBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSAtIDEpO1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBmcm9uZCBvZiB0aGUgbGlzdFxyXG4gICAgICAgICAgICBkYXRlcy51bnNoaWZ0KG5ldyBEYXRlKGRheS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgLy8gUHJldmlvdXNcclxuICAgICAgICAgICAgcHJldmlvdXMgLS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgZGF5IHRvIG1vbnRoJ3MgZmlyc3RcclxuICAgICAgICBkYXkgPSBuZXcgRGF0ZShmaXJzdC5nZXRUaW1lKCkpO1xyXG4gICAgICAgIC8vIFRoaXMgbW9udGgncyBkYXlzXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBiYWNrIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgIGRhdGVzLnB1c2gobmV3IERhdGUoZGF5LmdldFRpbWUoKSkpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAvLyBSZXBlYXQgdW50aWwgbmV4dCBtb250aFxyXG4gICAgICAgIH0gd2hpbGUgKGRheS5nZXREYXRlKCkgIT09IDEpO1xyXG5cclxuICAgICAgICAvLyBOZXh0IG1vbnRoJ3MgZGF5c1xyXG4gICAgICAgIHZhciBuZXh0ID0gNDIgLSBkYXRlcy5sZW5ndGg7XHJcbiAgICAgICAgLy8gQWRkIGRheXMgbGVmdFxyXG4gICAgICAgIHdoaWxlIChuZXh0ID4gMCkge1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBiYWNrIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgIGRhdGVzLnB1c2gobmV3IERhdGUoZGF5LmdldFRpbWUoKSkpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAvLyBOZXh0XHJcbiAgICAgICAgICAgIG5leHQgLS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gZGF5c1xyXG4gICAgICAgIHJldHVybiBkYXRlcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGksIGo7XHJcbiAgICAgICAgLy8gU2F2ZSBpbnN0YW5jZVxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gU2V0IGNyZWF0ZWQgZmxhZ1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmNyZWF0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBIZWFkIHJvd3NcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUm93cyA9IFtdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3MucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkUm93c1tpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb250aCByb3dcclxuICAgICAgICB2YXIgdGl0bGVfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcclxuICAgICAgICB0aXRsZV9oZWFkZXIuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgNyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMF0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUtcm93JztcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUm93c1swXS5hcHBlbmRDaGlsZCh0aXRsZV9oZWFkZXIpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRMZWZ0LmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXRpdGxlLWxlZnQnO1xyXG4gICAgICAgIHRpdGxlX2hlYWRlci5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkTGVmdCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubW9udGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tb250aC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci10aXRsZS1uYW1lJztcclxuICAgICAgICB0aXRsZV9oZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubW9udGgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci10aXRsZS1yaWdodCc7XHJcbiAgICAgICAgdGl0bGVfaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodCk7XHJcblxyXG4gICAgICAgIC8vIE5hdmlnYXRpb25cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5uYXZMZWZ0LmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLW5hdi1sZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2UmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2UmlnaHQuY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItbmF2LXJpZ2h0JztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5hdmlnYXRvclBvc2l0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRMZWZ0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLm5hdkxlZnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZExlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX29wdGlvbnMubmF2aWdhdG9yUG9zaXRpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZMZWZ0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZMZWZ0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5uYXZMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgdGhhdC5wcmV2aW91cygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGF0Ll9kYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldERhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9ldmVudEZpcmUoJ21vbnRoJywgZGF0ZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm5hdlJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgdGhhdC5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoYXQuX2RhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZSgxKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuX2V2ZW50RmlyZSgnbW9udGgnLCBkYXRlLCBldmVudCk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERheXMgcm93XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItd2Vlay1kYXlzJztcclxuICAgICAgICB0aXRsZV9oZWFkZXIuY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUnO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMgPSBbXTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMV0uYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuZGF5c1tcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJvZHkgcm93c1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzID0gW107XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHMgPSBbXTtcclxuICAgICAgICAvLyA2IHJvd3NcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuYm9keVJvd3NbaV0pO1xyXG4gICAgICAgICAgICAvLyA3IGRheXNcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IDc7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHMucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzW2ldLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2kgKiA3ICsgal0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaSAqIDcgKyBqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9ldmVudEZpcmUoJ2RhdGUnLCB0aGF0Ll9hY3RpdmVbaW5kZXhdLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pKGkgKiA3ICsgaiksIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gU2VsZWN0IGRhdGVzIG9uIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fc2VsZWN0RGF0ZXMgPSBmdW5jdGlvbihkYXRlcykge1xyXG4gICAgICAgIC8vIENvcHkgYXJyYXkgaW5zdGFuY2VcclxuICAgICAgICBkYXRlcyA9IGRhdGVzLnNsaWNlKCk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkYXRlc1tpXSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgIGRhdGVzW2ldLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICBkYXRlc1tpXSA9IGRhdGVzW2ldLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBkYXRlcyBvbiBhcnJheVxyXG4gICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCBhbHJlYWR5IHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGRhdGVzW2ldKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkLnB1c2goZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbi1zZWxlY3QgZGF0ZXMgb24gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl91bnNlbGVjdERhdGVzID0gZnVuY3Rpb24oZGF0ZXMpIHtcclxuICAgICAgICAvLyBDb3B5IGFycmF5IGluc3RhbmNlXHJcbiAgICAgICAgZGF0ZXMgPSBkYXRlcy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSB0b29scy5wYXJzZURhdGUoZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICBkYXRlc1tpXS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSBkYXRlc1tpXS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgZGF0ZXMgb2YgdGhlIGFycmF5XHJcbiAgICAgICAgdmFyIGluZGV4O1xyXG4gICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXMgb24gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl91bnNlbGVjdEFsbERhdGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gV2hpbGUgbm90IGVtcHR5XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuX3NlbGVjdGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZC5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVwZGF0ZSBjYWxlbmRhclxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEdldCBtb250aCBpbmZvXHJcbiAgICAgICAgdmFyIG1vbnRoID0gdGhpcy5fZ2V0VmlzaWJsZU1vbnRoKHRoaXMuX2RhdGUpO1xyXG4gICAgICAgIC8vIFNhdmUgZGF0YVxyXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IG1vbnRoLmRheXMuc2xpY2UoKTtcclxuICAgICAgICAvLyBVcGRhdGUgbW9udGggbmFtZVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoLnRleHRDb250ZW50ID0gbW9udGgubmFtZTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgemVyb3MgZmlsbGluZ1xyXG4gICAgICAgIHZhciBwcmVmaXggPSAodGhpcy5fb3B0aW9ucy56ZXJvRmlsbCkgPyAnMCcgOiAnJztcclxuXHJcbiAgICAgICAgLy8gUG9wdWxhdGUgZGF5c1xyXG4gICAgICAgIHZhciB0ZXh0O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBtb250aC5kYXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBtb250aC5kYXlzW2ldLmdldERhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0udGV4dENvbnRlbnQgPSAodGV4dCA8IDEwID8gcHJlZml4ICsgdGV4dCA6IHRleHQpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgZGF0ZSBpcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihtb250aC5kYXlzW2ldLmdldFRpbWUoKSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItc2VsZWN0ZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQcmV2aW91cyBtb250aFxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb250aC5zdGFydCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1wcmV2aW91cyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEN1cnJlbnQgZGF5XHJcbiAgICAgICAgaWYgKG1vbnRoLmN1cnJlbnQgPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudHMuYm9keUNvbHNbbW9udGguY3VycmVudF0uY2xhc3NOYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW21vbnRoLmN1cnJlbnRdLmNsYXNzTmFtZSArPSAnIGpzQ2FsZW5kYXItY3VycmVudCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1ttb250aC5jdXJyZW50XS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1jdXJyZW50JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOZXh0IG1vbnRoXHJcbiAgICAgICAgZm9yIChpID0gbW9udGguZW5kOyBpIDwgbW9udGguZGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1uZXh0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkYXlzIG9mIHRoZSB3ZWVrIGxvY2FsZVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzW2ldLnRleHRDb250ZW50ID0gdGhpcy5fb3B0aW9ucy5kYXlGb3JtYXQucmVwbGFjZSgvKERBWXxkYXl8REREfGRkZHxERHxkZHxEKS9nLCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0Lmxhbmd1YWdlLmRheVN0cmluZ1BhcnNlcihcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgKGkgKyB0aGF0Ll9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIC0gMSkgJSA3XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGwgcmVuZGVyIGhhbmRsZXJzXHJcbiAgICAgICAgdmFyIGo7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG1vbnRoLmRheXNbbW9udGguc3RhcnRdO1xyXG4gICAgICAgICAgICAvLyBDbGVhciBhbnkgc3R5bGVcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubW9udGgucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSByZW5kZXIgaGFuZGxlcnNcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXJbal0uY2FsbCh0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vbnRoIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIGh0bWwgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBtb250aFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA6IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCwgMjMsIDU5LCA1OSwgOTk5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZEYXlzIDogbW9udGguZW5kIC0gbW9udGguc3RhcnQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmRheV9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBhbnkgc3R5bGVcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXNbaV0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcmVuZGVyIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9ldmVudHMuZGF5X3JlbmRlci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5kYXlfcmVuZGVyW2pdLmNhbGwodGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGF5IGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpICsgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayAtIDEpICUgNyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0aGUgaHRtbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBkYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9udGguZGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHN0eWxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSByZW5kZXIgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2V2ZW50cy5kYXRlX3JlbmRlci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5kYXRlX3JlbmRlcltqXS5jYWxsKHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERhdGUgc2hvdWxkIGJlIGNsb25uZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUobW9udGguZGF5c1tpXS5nZXRUaW1lKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBodG1sIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudCA6IChtb250aC5jdXJyZW50ID09IGkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA6ICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKG1vbnRoLmRheXNbaV0uZ2V0VGltZSgpKSA+PSAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJldmlvdXNNb250aCA6IChpIDwgbW9udGguc3RhcnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDdXJyZW50TW9udGggOiAobW9udGguc3RhcnQgPD0gaSAmJiBpIDw9IG1vbnRoLmVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05leHRNb250aCA6IChtb250aC5lbmQgPCBpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIDoge3g6IGklNywgeTogTWF0aC5mbG9vcihpLzcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gRmlyZSBhbGwgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZXZlbnRGaXJlID0gZnVuY3Rpb24obmFtZSwgZGF0ZSwgZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIFNlYXJjaCBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2V2ZW50c1tuYW1lXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24oY2FsbGJhY2ssIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGFzeW5jaHJvbm91c1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGluc3RhbmNlLCBldmVudCwgbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9KSh0aGlzLl9ldmVudHNbbmFtZV1baV0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQWRkIGEgZXZlbnQgbGlzdGVuZXJcclxuICAgIC8vIFRoaXMgbWV0aG9kIHdpbGwgYmUgZXhwb3NlZCBvbiB0aGUgZnV0dXJlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fb24gPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIC8vIElmIGNhbGxiYWNrIGlzIGEgZnVuY3Rpb25cclxuICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAvLyBBZGQgdG8gdGhlIGxpc3RcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW25hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90IGEgZnVuY3Rpb25cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBhIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUub25EYXRlQ2xpY2sgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbignZGF0ZScsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5vbk1vbnRoQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ21vbnRoJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uRGF5UmVuZGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ2RheV9yZW5kZXInLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUub25EYXRlUmVuZGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ2RhdGVfcmVuZGVyJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uTW9udGhSZW5kZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbignbW9udGhfcmVuZGVyJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHb3RvIGEgZGF0ZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgLy8gU2V0IG5ldyBkYXRlXHJcbiAgICAgICAgdGhpcy5fc2V0RGF0ZShkYXRlKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgbWluIGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIHZhbHVlXHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IG1pbiBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEaXNhYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgbWF4IGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIHZhbHVlXHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IG1heCBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWF4ID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEaXNhYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWF4ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZWZyZXNoXHJcbiAgICAvLyBTYWZlIF91cGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgLy8gSWYgZGF0ZSBwcm92aWRlZFxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gSWYgZGF0ZSBpcyBpbiByYW5nZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEYXRlSW5SYW5nZShkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgY2FsZW5kYXIgZWxlbWVudHMgcmVhZHlcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudHMuY3JlYXRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBOZXh0IG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obil7XHJcbiAgICAgICAgLy8gTmV4dCBudW1iZXJcclxuICAgICAgICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIG4gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRhdGVcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuX2RhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5fZGF0ZS5nZXRNb250aCgpICsgbiwgMSk7XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGUgaXMgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9kYXRlID0gZGF0ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE5leHQgbW9udGhcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24obil7XHJcbiAgICAgICAgLy8gTmV4dCBudW1iZXJcclxuICAgICAgICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIG4gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRhdGUgKGxhc3QgZGF5IG9mIHByZXZpb3VzIG1vbnRoKVxyXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhpcy5fZGF0ZS5nZXRGdWxsWWVhcigpLCB0aGlzLl9kYXRlLmdldE1vbnRoKCkgLSBuICsgMSwgMCk7XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGUgaXMgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9kYXRlID0gZGF0ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdvdG8gYSBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5nb3RvID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKGRhdGUpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVzZXQgdG8gdGhlIGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLnJlZnJlc2godGhpcy5fbm93KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbGVjdCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZXMpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZXMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGVzIG5vdCBhcnJheVxyXG4gICAgICAgIGlmICghKGRhdGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIExldHMgbWFrZSBpdCBhbiBhcnJheVxyXG4gICAgICAgICAgICBkYXRlcyA9IFtkYXRlc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNlbGVjdCBkYXRlc1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdERhdGVzKGRhdGVzKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUudW5zZWxlY3QgPSBmdW5jdGlvbihkYXRlcyl7XHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgZGF0ZXMgbm90IGFycmF5XHJcbiAgICAgICAgaWYgKCEoZGF0ZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgLy8gTGV0cyBtYWtlIGl0IGFuIGFycmF5XHJcbiAgICAgICAgICAgIGRhdGVzID0gW2RhdGVzXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVW5zZWxlY3QgZGF0ZXNcclxuICAgICAgICB0aGlzLl91bnNlbGVjdERhdGVzKGRhdGVzKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmNsZWFyc2VsZWN0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXNcclxuICAgICAgICB0aGlzLl91bnNlbGVjdEFsbERhdGVzKCk7XHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXMgKGFsaWFzKVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZCA9IEpzQ2FsZW5kYXIucHJvdG90eXBlLmNsZWFyc2VsZWN0O1xyXG5cclxuICAgIC8vIEdldCBzZWxlY3RlZCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICAvLyBDaGVjayBpZiBubyBvcHRpb25zXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHNlbGVjdGVkIGFycmF5XHJcbiAgICAgICAgdmFyIGRhdGVzID0gdGhpcy5fc2VsZWN0ZWQuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gT3B0aW9ucyAtIFNvcnQgYXJyYXlcclxuICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5zb3J0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc29ydC50b0xvd2VyQ2FzZSgpID09PSAnYXNjJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc29ydC50b0xvd2VyQ2FzZSgpID09PSAnZGVzYycpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbnMgLSBEYXRhIHR5cGVcclxuICAgICAgICBpZiAob3B0aW9ucy50eXBlICYmIHR5cGVvZiBvcHRpb25zLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2RhdGUnKXtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXNbaV0gPSBuZXcgRGF0ZShkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgbm90IGEgdGltZXN0YW1wIC0gY29udmVydCB0byBjdXN0b20gZm9ybWF0XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpICE9PSAndGltZXN0YW1wJykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gZGF0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlc1tpXSA9IHRoaXMuX3BhcnNlVG9EYXRlU3RyaW5nKG5ldyBEYXRlKGRhdGVzW2ldKSwgb3B0aW9ucy50eXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIGRhdGVzXHJcbiAgICAgICAgcmV0dXJuIGRhdGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHNlbGVjdGVkXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5pc1NlbGVjdGVkID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzIG9yIG51bGxcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGRhdGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgZGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAvLyBJZiBzZWxlY3RlZFxyXG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGRhdGUpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vdCBzZWxlY3RlZFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHZpc2libGUgaW4gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50cyBvciBudWxsXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJyB8fCBkYXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIGRhdGUgPSBkYXRlLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHZpc2libGUgZGF0ZXNcclxuICAgICAgICB2YXIgdmlzaWJsZSA9IHRoaXMuX2dldFZpc2libGVEYXRlcygpO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGRhdGUgaXMgaW5zaWRlIHZpc2libGUgZGF0ZXNcclxuICAgICAgICBpZiAodmlzaWJsZVswXS5nZXRUaW1lKCkgPD0gZGF0ZSAmJiB2aXNpYmxlW3Zpc2libGUubGVuZ3RoIC0gMV0uZ2V0VGltZSgpID49IGRhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdCB2aXNpYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGRhdGUgaXMgaW4gYWN0aXZlIG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5pc0luTW9udGggPSBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgb3IgbnVsbFxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFyc2UgZGF0ZSBhbmQgZ2V0IG1vbnRoXHJcbiAgICAgICAgdmFyIG1vbnRoID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIG1vbnRoLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIG1vbnRoLnNldERhdGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGFjdGl2ZSBtb250aCBkYXRlXHJcbiAgICAgICAgdmFyIGFjdGl2ZSA9IHRvb2xzLnBhcnNlRGF0ZSh0aGlzLl9kYXRlKTtcclxuICAgICAgICBhY3RpdmUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgYWN0aXZlLnNldERhdGUoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgc2FtZSBtb250aFxyXG4gICAgICAgIGlmIChtb250aC5nZXRUaW1lKCkgPT09IGFjdGl2ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE90aGVyIG1vbnRoXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCBsYW5ndWFnZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2V0TGFuZ3VhZ2UgPSBmdW5jdGlvbihjb2RlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbGFuZ3VhZ2UgZXhpc3RcclxuICAgICAgICBpZiAodHlwZW9mIGNvZGUgIT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGxhbmd1YWdlIGNvZGUuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5sYW5ndWFnZXNbY29kZV0gPT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBMYW5ndWFnZSBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGFuZ2UgbGFuZ3VhZ2VcclxuICAgICAgICB0aGlzLl9vcHRpb25zLmxhbmd1YWdlID0gY29kZTtcclxuXHJcbiAgICAgICAgLy8gU2V0IG5ldyBsYW5ndWFnZSBhcyBhY3RpdmVcclxuICAgICAgICB2YXIgbGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlc1tjb2RlXTtcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLm1vbnRocyA9IGxhbmd1YWdlLm1vbnRocztcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLmRheXMgPSBsYW5ndWFnZS5kYXlzO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UuZGF0ZVN0cmluZ1BhcnNlciA9IGxhbmd1YWdlLl9kYXRlU3RyaW5nUGFyc2VyO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UuZGF5U3RyaW5nUGFyc2VyID0gbGFuZ3VhZ2UuX2RheVN0cmluZ1BhcnNlcjtcclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaCBjYWxlbmRhclxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBmb28gbWV0aG9kcyAod2VsbC4uLiBub3QgcmVhbGx5IHN0YXRpYylcclxuXHJcbiAgICAvLyBBdXRvIGluaXQgY2FsZW5kYXJzXHJcbiAgICBKc0NhbGVuZGFyLmF1dG9GaW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gR2V0IGFsbCBhdXRvLWNhbGVuZGFyc1xyXG4gICAgICAgIHZhciBjYWxlbmRhcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdXRvLWpzQ2FsZW5kYXInKTtcclxuICAgICAgICAvLyBGb3IgZWFjaCBhdXRvLWNhbGVuZGFyXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxlbmRhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gSWYgbm90IGxvYWRlZFxyXG4gICAgICAgICAgICBpZiAoY2FsZW5kYXJzW2ldLmdldEF0dHJpYnV0ZSgnanNDYWxlbmRhci1sb2FkZWQnKSAhPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgYXMgbG9hZGVkXHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhcnNbaV0uc2V0QXR0cmlidXRlKCdqc0NhbGVuZGFyLWxvYWRlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVcclxuICAgICAgICAgICAgICAgIG5ldyBKc0NhbGVuZGFyKHt0YXJnZXQ6IGNhbGVuZGFyc1tpXX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gVG9vbHNcclxuICAgIHZhciB0b29scyA9IEpzQ2FsZW5kYXIudG9vbHMgPSB7fTtcclxuICAgIC8vIFBhcnNlIHRvIGphdmFzY3JpcHQgZGF0ZSBvYmplY3RcclxuICAgIHRvb2xzLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHNpbGVudCkge1xyXG4gICAgICAgIC8vIElmIHNldCBub3cgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZSA9PT0gbnVsbCB8fCBkYXRlID09PSAnbm93Jykge1xyXG4gICAgICAgICAgICAvLyBHZXQgZGF0ZSBub3dcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBkYXRlIGlzIHN0cmluZ1xyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRlIHN0cmluZ1xyXG4gICAgICAgICAgICBkYXRlID0gZGF0ZS5yZXBsYWNlKC8tL2csJy8nKS5tYXRjaCgvXihcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHs0LDR9KSQvaSk7XHJcbiAgICAgICAgICAgIC8vIElmIG1hdGNoXHJcbiAgICAgICAgICAgIGlmIChkYXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhfaW5kZXggPSBwYXJzZUludChkYXRlWzJdLCAxMCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgZGF0ZVxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGVbM10sIG1vbnRoX2luZGV4LCBkYXRlWzFdKTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGRhdGUgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghZGF0ZSB8fCBkYXRlLmdldE1vbnRoKCkgIT09IG1vbnRoX2luZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBEYXRlIGRvZXMgbm90IGV4aXN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENhbid0IHBhcnNlIHN0cmluZ1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBGYWlsZWQgdG8gcGFyc2UgZGF0ZS4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBpdCBpcyBhIG51bWJlclxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGltZSBmcm9tIHRpbWVzdGFtcFxyXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBpdCBub3QgYSBkYXRlIFxyXG4gICAgICAgIGVsc2UgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIGlmICghc2lsZW50KSB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgZGF0ZS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gZGF0ZVxyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICB9O1xyXG4gICAgdG9vbHMuc3RyaW5nVG9EYXRlID0gdG9vbHMucGFyc2VEYXRlO1xyXG4gICAgLy8gRGF0ZSB0byBzdHJpbmdcclxuICAgIHRvb2xzLmRhdGVUb1N0cmluZyA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgbGFuZykge1xyXG4gICAgICAgIC8vIEZpbmQgbGFuZ1xyXG4gICAgICAgIHZhciBsYW5ndWFnZXMgPSBKc0NhbGVuZGFyLnByb3RvdHlwZS5sYW5ndWFnZXM7XHJcbiAgICAgICAgaWYgKCFsYW5nIHx8ICFsYW5ndWFnZXMuaGFzT3duUHJvcGVydHkobGFuZykpIHtcclxuICAgICAgICAgICAgbGFuZyA9ICdlbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHBhcnNlclxyXG4gICAgICAgIHJldHVybiBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VUb0RhdGVTdHJpbmcuYXBwbHkoXHJcbiAgICAgICAgICAgIHtsYW5ndWFnZSA6IHtcclxuICAgICAgICAgICAgICAgIG1vbnRocyA6IGxhbmd1YWdlc1tsYW5nXS5tb250aHMsXHJcbiAgICAgICAgICAgICAgICBkYXlzIDogbGFuZ3VhZ2VzW2xhbmddLmRheXMsXHJcbiAgICAgICAgICAgICAgICBkYXRlU3RyaW5nUGFyc2VyIDogbGFuZ3VhZ2VzW2xhbmddLl9kYXRlU3RyaW5nUGFyc2VyLFxyXG4gICAgICAgICAgICAgICAgZGF5U3RyaW5nUGFyc2VyIDogbGFuZ3VhZ2VzW2xhbmddLl9kYXlTdHJpbmdQYXJzZXJcclxuICAgICAgICAgICAgfX0sXHJcbiAgICAgICAgICAgIFtkYXRlLCBmb3JtYXRdXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICAvLyBHZXQgZWxlbWVudFxyXG4gICAgdG9vbHMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBub3QgdmFsaWRcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBzdHJpbmdcclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBlbGVtZW50IGJ5IGlkXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50WzBdID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnN1YnN0cmluZygxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gR2V0IGVsZW1lbnQgYnkgY2xhc3MtbmFtZVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50WzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGVsZW1lbnQuc3Vic3RyaW5nKDEpKVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBvciBpZiBpdCBpcyBIVE1MIGVsZW1lbnQgKGp1c3QgYSBuYWl2ZS1zaW1wbGUgY2hlY2spXHJcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudC50YWdOYW1lICYmIGVsZW1lbnQubm9kZU5hbWUgJiYgZWxlbWVudC5vd25lckRvY3VtZW50ICYmIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVW5rbm93blxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gR2V0IGEgbmV3IG9iamVjdFxyXG4gICAgSnNDYWxlbmRhci5uZXcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgb2JqZWN0XHJcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBKc0NhbGVuZGFyKCk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IGNhbGVuZGFyXHJcbiAgICAgICAgb2JqLl9jb25zdHJ1Y3QoYXJndW1lbnRzKTtcclxuICAgICAgICAvLyBSZXR1cm4gbmV3IG9iamVjdFxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBNYW5hZ2UgZXhpc3RpbmcganNDYWxlbmRhciBvYmplY3RzXHJcbiAgICB2YXIganNDYWxlbmRhck9iamVjdHMgPSB7fTtcclxuICAgIEpzQ2FsZW5kYXIuc2V0ID0gZnVuY3Rpb24oaWRlbnRpZmllciwgY2FsZW5kYXIpe1xyXG4gICAgICAgIGlmIChjYWxlbmRhciBpbnN0YW5jZW9mIEpzQ2FsZW5kYXIpIHtcclxuICAgICAgICAgICAganNDYWxlbmRhck9iamVjdHNbaWRlbnRpZmllcl0gPSBjYWxlbmRhcjtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogVGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgbm90IGEganNDYWxlbmRhci4nKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLmdldCA9IGZ1bmN0aW9uKGlkZW50aWZpZXIpe1xyXG4gICAgICAgIGlmIChqc0NhbGVuZGFyT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganNDYWxlbmRhck9iamVjdHNbaWRlbnRpZmllcl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIuZGVsID0gZnVuY3Rpb24oaWRlbnRpZmllcil7XHJcbiAgICAgICAgaWYgKGpzQ2FsZW5kYXJPYmplY3RzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBqc0NhbGVuZGFyT2JqZWN0c1tpZGVudGlmaWVyXTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEFkZCBhIG5ldyBsYW5ndWFnZVxyXG4gICAgSnNDYWxlbmRhci5hZGRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmd1YWdlKXtcclxuICAgICAgICAvLyBDaGVjayBpZiBsYW5ndWFnZSBvYmplY3QgaXMgdmFsaWRcclxuICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IE5vIGxhbmd1YWdlIG9iamVjdCB3YXMgZ2l2ZW4uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGlmIHZhbGlkIGxhbmd1YWdlIGNvZGVcclxuICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlLmNvZGUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBjb2RlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBsYW5ndWFnZSBtb250aHNcclxuICAgICAgICBpZiAoIShsYW5ndWFnZS5tb250aHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGxhbmd1YWdlIG1vbnRocy4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhbmd1YWdlLm1vbnRocy5sZW5ndGggIT09IDEyKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBtb250aHMgbGVuZ3RoLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBsYW5ndWFnZSBkYXlzXHJcbiAgICAgICAgaWYgKCEobGFuZ3VhZ2UuZGF5cyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgbGFuZ3VhZ2UgZGF5cy4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhbmd1YWdlLmRheXMubGVuZ3RoICE9PSA3KSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBkYXlzIGxlbmd0aC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdyBzYXZlIGxhbmd1YWdlXHJcbiAgICAgICAgSnNDYWxlbmRhci5wcm90b3R5cGUubGFuZ3VhZ2VzW2xhbmd1YWdlLmNvZGVdID0gbGFuZ3VhZ2U7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRlIGxhbmd1YWdlIHN0cmluZyBmb3JtYXQgaGFuZGxlcnNcclxuICAgICAgICBsYW5ndWFnZS5fZGF0ZVN0cmluZ1BhcnNlciA9IChcclxuICAgICAgICAgICAgbGFuZ3VhZ2UuaGFzT3duUHJvcGVydHkoJ2RhdGVTdHJpbmdQYXJzZXInKSA/XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBsYW5ndWFnZS5kYXRlU3RyaW5nUGFyc2VyKGtleSwgZGF0ZSkgfHwgSnNDYWxlbmRhci5fZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIoa2V5LCBkYXRlLCBsYW5ndWFnZSk7fSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIGxhbmd1YWdlKTt9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsYW5ndWFnZS5fZGF5U3RyaW5nUGFyc2VyID0gKFxyXG4gICAgICAgICAgICBsYW5ndWFnZS5oYXNPd25Qcm9wZXJ0eSgnZGF5U3RyaW5nUGFyc2VyJykgP1xyXG4gICAgICAgICAgICBmdW5jdGlvbihrZXksIGRheSkge3JldHVybiBsYW5ndWFnZS5kYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXkpIHx8IEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXksIGxhbmd1YWdlKTt9IDpcclxuICAgICAgICAgICAgZnVuY3Rpb24oa2V5LCBkYXkpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERheVN0cmluZ1BhcnNlcihrZXksIGRheSwgbGFuZ3VhZ2UpO31cclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uIHRvIGhhbmRsZSBkYXRlLXN0cmluZyBwYXJzaW5nXHJcbiAgICBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlciA9IGZ1bmN0aW9uKGtleSwgZGF0ZSwgbGFuZyl7XHJcbiAgICAgICAgc3dpdGNoKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdNT05USCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldO1xyXG4gICAgICAgICAgICBjYXNlICdNTU0nOlxyXG4gICAgICAgICAgICBjYXNlICdtbW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcubW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsIDMpO1xyXG4gICAgICAgICAgICBjYXNlICdtbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5tb250aHNbZGF0ZS5nZXRNb250aCgpXS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ20nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcubW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgICAgICBjYXNlICdNTSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUuZ2V0TW9udGgoKSA8IDkgPyAnMCcgOiAnJykgKyAoZGF0ZS5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgICAgIGNhc2UgJ00nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgIGNhc2UgJyMjJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0ZS5nZXRNb250aCgpIDwgOSA/ICcwJyA6ICcnKSArIChkYXRlLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgICAgICAgY2FzZSAnIyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICAgY2FzZSAnREFZJzpcclxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF0ZS5nZXREYXkoKV07XHJcbiAgICAgICAgICAgIGNhc2UgJ0RERCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2RkZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RhdGUuZ2V0RGF5KCldLnN1YnN0cmluZygwLCAzKTtcclxuICAgICAgICAgICAgY2FzZSAnZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXRlLmdldERheSgpXS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXRlLmdldERheSgpXS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgIGNhc2UgJ0REJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0ZS5nZXREYXRlKCkgPD0gOSA/ICcwJyA6ICcnKSArIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICAgICAgY2FzZSAnWVlZWSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3l5eXknOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0WWVhcigpICsgMTkwMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERlZmF1bHQgZnVuY3Rpb24gdG8gaGFuZGxlIGRhdGUtc3RyaW5nIHBhcnNpbmdcclxuICAgIEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIgPSBmdW5jdGlvbihrZXksIGRheSwgbGFuZyl7XHJcbiAgICAgICAgc3dpdGNoKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdEQVknOlxyXG4gICAgICAgICAgICBjYXNlICdkYXknOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXldO1xyXG4gICAgICAgICAgICBjYXNlICdEREQnOlxyXG4gICAgICAgICAgICBjYXNlICdkZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXldLnN1YnN0cmluZygwLCAzKTtcclxuICAgICAgICAgICAgY2FzZSAnREQnOlxyXG4gICAgICAgICAgICBjYXNlICdkZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RheV0uc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF5XS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb2FkIGFueSBsYW5ndWFnZSBvbiB0aGUgbG9hZCBsaXN0XHJcbiAgICAoZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBJZiBhIGxpc3QgZXhpc3RcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5qc0NhbGVuZGFyX2xhbmd1YWdlMmxvYWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFdoaWxlIGxpc3Qgbm90IGVtcHR5XHJcbiAgICAgICAgICAgIHdoaWxlICh3aW5kb3cuanNDYWxlbmRhcl9sYW5ndWFnZTJsb2FkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBpdCBhc3luY2hyb25vdXNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uIChsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aW1lb3V0IGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBKc0NhbGVuZGFyLmFkZExhbmd1YWdlKGxhbmd1YWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSkod2luZG93LmpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZC5wb3AoKSksIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHVzZWxlc3MgbGlzdFxyXG4gICAgICAgICAgICBkZWxldGUgd2luZG93LmpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZDtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8vIEluaXQgYXV0byBjYWxlbmRhcnNcclxuICAgIC8vIEFmdGVyIHRoZSBwYWdlIGxvYWRzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEdldCBjYWxlbmRhcnNcclxuICAgICAgICBKc0NhbGVuZGFyLmF1dG9GaW5kKCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy8gUmV0dXJuXHJcbiAgICByZXR1cm4gSnNDYWxlbmRhcjtcclxufSkoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/jsCalendar.js\n");

/***/ }),

/***/ "./src/languajeSwitch.js":
/*!*******************************!*\
  !*** ./src/languajeSwitch.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ languajeSwitch)\n/* harmony export */ });\nfunction languajeSwitch(){\nconst LANGUAJE_SWITCH_BUTTON = document.getElementById(\"checkBox\")\nconst homespan = document.getElementById(\"homespan\")\nconst addprojectspan = document.getElementById(\"addprojectspan\")\nconst calendarspan = document.getElementById(\"spancalendar\")\nconst settingsspan = document.getElementById(\"loginsettings\")\nconst loginspan = document.getElementById(\"loginspan\")\nconst todotext = document.getElementById(\"todotext\")\nconst inprogresstext = document.getElementById(\"inprogresstext\")\nconst completetext = document.getElementById(\"completedtext\")\nconst selectprojects = document.getElementById(\"projectdefault\")\nconst dayoption = document.getElementById(\"dayoption\")\nconst weekoption = document.getElementById(\"weekoption\")\nconst yearoption = document.getElementById(\"yearoption\")\nconst selectdefaultweek = document.getElementById(\"selectdefaultweek\")\nconst labelinput = document.getElementById(\"labelinput\")\nconst inputproject = document.getElementById(\"input-project\")\nconst submitnameproject = document.getElementById(\"submit-name-project\")\nif(LANGUAJE_SWITCH_BUTTON.checked){\n    homespan.textContent = \"Casa\"\n    addprojectspan.textContent = \"Añadir proyecto\"\n    calendarspan.textContent = \"Calendario\"\n    settingsspan.textContent = \"Configuraciones\"\n    if(loginspan.textContent === \"Log out\"){\n        loginspan.textContent = \"Cerrar sesión\"\n    } else if (loginspan.textContent === \"Log in\"){\n    loginspan.textContent = \"Iniciar sesion\"\n\n    }\n    todotext.textContent = \"Para hacer\"\n    inprogresstext.textContent = \"En progreso\"\n    completetext.textContent = \"Completado\"\n    selectprojects.textContent = \"Proyectos\"\n    dayoption.textContent = \"Dia\"\n    weekoption.textContent = \"Semana\"\n    yearoption.textContent = \"Año\"\n    selectdefaultweek.textContent = \"Todas\"\n    labelinput.textContent = \"Nombre del proyecto\"\n    inputproject.setAttribute(\"placeholder\",\"Ej: Mi rutina de gimnasio...\")\n    submitnameproject.setAttribute(\"value\",\"Hecho\")\n } else if (LANGUAJE_SWITCH_BUTTON.checked == false){\n    homespan.textContent = \"Home\"\n    addprojectspan.textContent = \"Add project\"\n    calendarspan.textContent = \"Calendar\"\n    settingsspan.textContent = \"Configuration\"\n    if(loginspan.textContent === \"Cerrar sesión\"){\n        loginspan.textContent = \"Log out\"\n    } else if (loginspan.textContent === \"Iniciar sesion\"){\n    loginspan.textContent = \"Log in\"\n\n    }\n    todotext.textContent = \"To do\"\n    inprogresstext.textContent = \"In progress\"\n    completetext.textContent = \"Completed\"\n    selectprojects.textContent = \"Projects\"\n    dayoption.textContent = \"Day\"\n    weekoption.textContent = \"Week\"\n    yearoption.textContent = \"Year\"\n    selectdefaultweek.textContent = \"All\"\n    labelinput.textContent = \"Name of the project\"\n    inputproject.setAttribute(\"placeholder\",\"Ex: My gym routine...\")\n    submitnameproject.setAttribute(\"value\",\"Done\")\n}\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFuZ3VhamVTd2l0Y2guanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0X3RvcC8uL3NyYy9sYW5ndWFqZVN3aXRjaC5qcz9iMTRjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxhbmd1YWplU3dpdGNoKCl7XG5jb25zdCBMQU5HVUFKRV9TV0lUQ0hfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVja0JveFwiKVxuY29uc3QgaG9tZXNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVzcGFuXCIpXG5jb25zdCBhZGRwcm9qZWN0c3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkcHJvamVjdHNwYW5cIilcbmNvbnN0IGNhbGVuZGFyc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3BhbmNhbGVuZGFyXCIpXG5jb25zdCBzZXR0aW5nc3NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ2luc2V0dGluZ3NcIilcbmNvbnN0IGxvZ2luc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5zcGFuXCIpXG5jb25zdCB0b2RvdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9kb3RleHRcIilcbmNvbnN0IGlucHJvZ3Jlc3N0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnByb2dyZXNzdGV4dFwiKVxuY29uc3QgY29tcGxldGV0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wbGV0ZWR0ZXh0XCIpXG5jb25zdCBzZWxlY3Rwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdGRlZmF1bHRcIilcbmNvbnN0IGRheW9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF5b3B0aW9uXCIpXG5jb25zdCB3ZWVrb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWVrb3B0aW9uXCIpXG5jb25zdCB5ZWFyb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ5ZWFyb3B0aW9uXCIpXG5jb25zdCBzZWxlY3RkZWZhdWx0d2VlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0ZGVmYXVsdHdlZWtcIilcbmNvbnN0IGxhYmVsaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhYmVsaW5wdXRcIilcbmNvbnN0IGlucHV0cHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtcHJvamVjdFwiKVxuY29uc3Qgc3VibWl0bmFtZXByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1uYW1lLXByb2plY3RcIilcbmlmKExBTkdVQUpFX1NXSVRDSF9CVVRUT04uY2hlY2tlZCl7XG4gICAgaG9tZXNwYW4udGV4dENvbnRlbnQgPSBcIkNhc2FcIlxuICAgIGFkZHByb2plY3RzcGFuLnRleHRDb250ZW50ID0gXCJBw7FhZGlyIHByb3llY3RvXCJcbiAgICBjYWxlbmRhcnNwYW4udGV4dENvbnRlbnQgPSBcIkNhbGVuZGFyaW9cIlxuICAgIHNldHRpbmdzc3Bhbi50ZXh0Q29udGVudCA9IFwiQ29uZmlndXJhY2lvbmVzXCJcbiAgICBpZihsb2dpbnNwYW4udGV4dENvbnRlbnQgPT09IFwiTG9nIG91dFwiKXtcbiAgICAgICAgbG9naW5zcGFuLnRleHRDb250ZW50ID0gXCJDZXJyYXIgc2VzacOzblwiXG4gICAgfSBlbHNlIGlmIChsb2dpbnNwYW4udGV4dENvbnRlbnQgPT09IFwiTG9nIGluXCIpe1xuICAgIGxvZ2luc3Bhbi50ZXh0Q29udGVudCA9IFwiSW5pY2lhciBzZXNpb25cIlxuXG4gICAgfVxuICAgIHRvZG90ZXh0LnRleHRDb250ZW50ID0gXCJQYXJhIGhhY2VyXCJcbiAgICBpbnByb2dyZXNzdGV4dC50ZXh0Q29udGVudCA9IFwiRW4gcHJvZ3Jlc29cIlxuICAgIGNvbXBsZXRldGV4dC50ZXh0Q29udGVudCA9IFwiQ29tcGxldGFkb1wiXG4gICAgc2VsZWN0cHJvamVjdHMudGV4dENvbnRlbnQgPSBcIlByb3llY3Rvc1wiXG4gICAgZGF5b3B0aW9uLnRleHRDb250ZW50ID0gXCJEaWFcIlxuICAgIHdlZWtvcHRpb24udGV4dENvbnRlbnQgPSBcIlNlbWFuYVwiXG4gICAgeWVhcm9wdGlvbi50ZXh0Q29udGVudCA9IFwiQcOxb1wiXG4gICAgc2VsZWN0ZGVmYXVsdHdlZWsudGV4dENvbnRlbnQgPSBcIlRvZGFzXCJcbiAgICBsYWJlbGlucHV0LnRleHRDb250ZW50ID0gXCJOb21icmUgZGVsIHByb3llY3RvXCJcbiAgICBpbnB1dHByb2plY3Quc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIixcIkVqOiBNaSBydXRpbmEgZGUgZ2ltbmFzaW8uLi5cIilcbiAgICBzdWJtaXRuYW1lcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiSGVjaG9cIilcbiB9IGVsc2UgaWYgKExBTkdVQUpFX1NXSVRDSF9CVVRUT04uY2hlY2tlZCA9PSBmYWxzZSl7XG4gICAgaG9tZXNwYW4udGV4dENvbnRlbnQgPSBcIkhvbWVcIlxuICAgIGFkZHByb2plY3RzcGFuLnRleHRDb250ZW50ID0gXCJBZGQgcHJvamVjdFwiXG4gICAgY2FsZW5kYXJzcGFuLnRleHRDb250ZW50ID0gXCJDYWxlbmRhclwiXG4gICAgc2V0dGluZ3NzcGFuLnRleHRDb250ZW50ID0gXCJDb25maWd1cmF0aW9uXCJcbiAgICBpZihsb2dpbnNwYW4udGV4dENvbnRlbnQgPT09IFwiQ2VycmFyIHNlc2nDs25cIil7XG4gICAgICAgIGxvZ2luc3Bhbi50ZXh0Q29udGVudCA9IFwiTG9nIG91dFwiXG4gICAgfSBlbHNlIGlmIChsb2dpbnNwYW4udGV4dENvbnRlbnQgPT09IFwiSW5pY2lhciBzZXNpb25cIil7XG4gICAgbG9naW5zcGFuLnRleHRDb250ZW50ID0gXCJMb2cgaW5cIlxuXG4gICAgfVxuICAgIHRvZG90ZXh0LnRleHRDb250ZW50ID0gXCJUbyBkb1wiXG4gICAgaW5wcm9ncmVzc3RleHQudGV4dENvbnRlbnQgPSBcIkluIHByb2dyZXNzXCJcbiAgICBjb21wbGV0ZXRleHQudGV4dENvbnRlbnQgPSBcIkNvbXBsZXRlZFwiXG4gICAgc2VsZWN0cHJvamVjdHMudGV4dENvbnRlbnQgPSBcIlByb2plY3RzXCJcbiAgICBkYXlvcHRpb24udGV4dENvbnRlbnQgPSBcIkRheVwiXG4gICAgd2Vla29wdGlvbi50ZXh0Q29udGVudCA9IFwiV2Vla1wiXG4gICAgeWVhcm9wdGlvbi50ZXh0Q29udGVudCA9IFwiWWVhclwiXG4gICAgc2VsZWN0ZGVmYXVsdHdlZWsudGV4dENvbnRlbnQgPSBcIkFsbFwiXG4gICAgbGFiZWxpbnB1dC50ZXh0Q29udGVudCA9IFwiTmFtZSBvZiB0aGUgcHJvamVjdFwiXG4gICAgaW5wdXRwcm9qZWN0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsXCJFeDogTXkgZ3ltIHJvdXRpbmUuLi5cIilcbiAgICBzdWJtaXRuYW1lcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiRG9uZVwiKVxufVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/languajeSwitch.js\n");

/***/ }),

/***/ "./src/projectObject.js":
/*!******************************!*\
  !*** ./src/projectObject.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Project\": () => (/* binding */ Project),\n/* harmony export */   \"Task\": () => (/* binding */ Task)\n/* harmony export */ });\n \n\nfunction Project(name){\n    this.name = name\n    this.toDoTask = []\n    this.inProgressTask = []\n    this.completedTask = []\n\n    const getNameProject = () => {\n        return this.name\n    }\n    const getArrayOfToDoTask = () => {\n        return this.toDoTask\n    }\n    const getArrayOfInProgressTask = () => {\n        return this.inProgressTask\n    }\n    const getArrayOfCompletedTask= () => {\n        return this.completedTask\n    }\n    const setTaskInArrayOfToDoTask = (task) => {\n        getArrayOfToDoTask().push(task)\n    }\n    const setTaskInArrayOfInProgressTask = (task) => {\n        getArrayOfInProgressTask().push(task)\n    }\n    const setTaskInArrayOfCompletedTask = (task) => {\n        getArrayOfCompletedTask().push(task)\n    }\n    const deleteTaskInArrayOfToDoTask = (index) => {\n        getArrayOfToDoTask().splice(index,1)\n    }\n    const deleteTaskInArrayOfInProgressTask = (index) => {\n        getArrayOfInProgressTask().splice(index,1)\n    }\n    const deleteTaskInArrayOfCompletedTask = (index) => {\n        getArrayOfCompletedTask().splice(index,1)\n    }\n    \n    const createSelectProject = () => {\n        const projectSelect = document.createElement(\"option\")\n        projectSelect.textContent = getNameProject()\n        return projectSelect\n    }\n    return {getNameProject,getArrayOfToDoTask,getArrayOfInProgressTask,getArrayOfCompletedTask,setTaskInArrayOfToDoTask,setTaskInArrayOfInProgressTask,setTaskInArrayOfCompletedTask,createSelectProject,deleteTaskInArrayOfToDoTask,deleteTaskInArrayOfInProgressTask,deleteTaskInArrayOfCompletedTask}\n}\n\nfunction Task(name,details,date){\n    this.name = name\n    this.details = details\n    this.date = date\n    const getNameTask = () => {\n        return this.name\n    }\n    const getDetailsTask = () => {\n        return this.details\n    }\n    const getDateTask = () => {\n        return this.date\n    }\n    const setHtml = (html) => {\n        this.html = html\n    }\n    const getHtml = () => {\n        return this.html\n    }\n    return {getNameTask,getDetailsTask,getDateTask,getHtml,setHtml}\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcHJvamVjdE9iamVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQjs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdF90b3AvLi9zcmMvcHJvamVjdE9iamVjdC5qcz81YjNkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7UHJvamVjdCxUYXNrfSBcblxuZnVuY3Rpb24gUHJvamVjdChuYW1lKXtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy50b0RvVGFzayA9IFtdXG4gICAgdGhpcy5pblByb2dyZXNzVGFzayA9IFtdXG4gICAgdGhpcy5jb21wbGV0ZWRUYXNrID0gW11cblxuICAgIGNvbnN0IGdldE5hbWVQcm9qZWN0ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lXG4gICAgfVxuICAgIGNvbnN0IGdldEFycmF5T2ZUb0RvVGFzayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9Eb1Rhc2tcbiAgICB9XG4gICAgY29uc3QgZ2V0QXJyYXlPZkluUHJvZ3Jlc3NUYXNrID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pblByb2dyZXNzVGFza1xuICAgIH1cbiAgICBjb25zdCBnZXRBcnJheU9mQ29tcGxldGVkVGFzaz0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZWRUYXNrXG4gICAgfVxuICAgIGNvbnN0IHNldFRhc2tJbkFycmF5T2ZUb0RvVGFzayA9ICh0YXNrKSA9PiB7XG4gICAgICAgIGdldEFycmF5T2ZUb0RvVGFzaygpLnB1c2godGFzaylcbiAgICB9XG4gICAgY29uc3Qgc2V0VGFza0luQXJyYXlPZkluUHJvZ3Jlc3NUYXNrID0gKHRhc2spID0+IHtcbiAgICAgICAgZ2V0QXJyYXlPZkluUHJvZ3Jlc3NUYXNrKCkucHVzaCh0YXNrKVxuICAgIH1cbiAgICBjb25zdCBzZXRUYXNrSW5BcnJheU9mQ29tcGxldGVkVGFzayA9ICh0YXNrKSA9PiB7XG4gICAgICAgIGdldEFycmF5T2ZDb21wbGV0ZWRUYXNrKCkucHVzaCh0YXNrKVxuICAgIH1cbiAgICBjb25zdCBkZWxldGVUYXNrSW5BcnJheU9mVG9Eb1Rhc2sgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgZ2V0QXJyYXlPZlRvRG9UYXNrKCkuc3BsaWNlKGluZGV4LDEpXG4gICAgfVxuICAgIGNvbnN0IGRlbGV0ZVRhc2tJbkFycmF5T2ZJblByb2dyZXNzVGFzayA9IChpbmRleCkgPT4ge1xuICAgICAgICBnZXRBcnJheU9mSW5Qcm9ncmVzc1Rhc2soKS5zcGxpY2UoaW5kZXgsMSlcbiAgICB9XG4gICAgY29uc3QgZGVsZXRlVGFza0luQXJyYXlPZkNvbXBsZXRlZFRhc2sgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgZ2V0QXJyYXlPZkNvbXBsZXRlZFRhc2soKS5zcGxpY2UoaW5kZXgsMSlcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3JlYXRlU2VsZWN0UHJvamVjdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgcHJvamVjdFNlbGVjdC50ZXh0Q29udGVudCA9IGdldE5hbWVQcm9qZWN0KClcbiAgICAgICAgcmV0dXJuIHByb2plY3RTZWxlY3RcbiAgICB9XG4gICAgcmV0dXJuIHtnZXROYW1lUHJvamVjdCxnZXRBcnJheU9mVG9Eb1Rhc2ssZ2V0QXJyYXlPZkluUHJvZ3Jlc3NUYXNrLGdldEFycmF5T2ZDb21wbGV0ZWRUYXNrLHNldFRhc2tJbkFycmF5T2ZUb0RvVGFzayxzZXRUYXNrSW5BcnJheU9mSW5Qcm9ncmVzc1Rhc2ssc2V0VGFza0luQXJyYXlPZkNvbXBsZXRlZFRhc2ssY3JlYXRlU2VsZWN0UHJvamVjdCxkZWxldGVUYXNrSW5BcnJheU9mVG9Eb1Rhc2ssZGVsZXRlVGFza0luQXJyYXlPZkluUHJvZ3Jlc3NUYXNrLGRlbGV0ZVRhc2tJbkFycmF5T2ZDb21wbGV0ZWRUYXNrfVxufVxuXG5mdW5jdGlvbiBUYXNrKG5hbWUsZGV0YWlscyxkYXRlKXtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy5kZXRhaWxzID0gZGV0YWlsc1xuICAgIHRoaXMuZGF0ZSA9IGRhdGVcbiAgICBjb25zdCBnZXROYW1lVGFzayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZVxuICAgIH1cbiAgICBjb25zdCBnZXREZXRhaWxzVGFzayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWlsc1xuICAgIH1cbiAgICBjb25zdCBnZXREYXRlVGFzayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVxuICAgIH1cbiAgICBjb25zdCBzZXRIdG1sID0gKGh0bWwpID0+IHtcbiAgICAgICAgdGhpcy5odG1sID0gaHRtbFxuICAgIH1cbiAgICBjb25zdCBnZXRIdG1sID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5odG1sXG4gICAgfVxuICAgIHJldHVybiB7Z2V0TmFtZVRhc2ssZ2V0RGV0YWlsc1Rhc2ssZ2V0RGF0ZVRhc2ssZ2V0SHRtbCxzZXRIdG1sfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/projectObject.js\n");

/***/ }),

/***/ "./src/themeSwitch.js":
/*!****************************!*\
  !*** ./src/themeSwitch.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ turnNightThemeOrWhiteTheme)\n/* harmony export */ });\nfunction turnNightThemeOrWhiteTheme(){\n    const NIGHT_MODE_SWITCH = document.getElementById(\"checkBoxTheme\")\n    const html = document.querySelector(\"html\")\n    const body = document.querySelector(\"body\")\n    const container = document.getElementById(\"container\")\n    const content = document.querySelector(\".content\")\n    const nav = document.querySelector(\"nav\")\n    const headerHomePage = document.querySelector(\".header\")\n    const homePage = document.getElementById(\"homePage\")\n    const selectProjects = document.querySelectorAll(\"select\")\n    const settingOptions = document.getElementById(\"settings-options\")\n    const formInputProject = document.getElementById(\"form-input-project\")\n    const calendarPage = document.querySelector(\"#calendarPage\")\n    const card = document.querySelectorAll(\".card\")\n    const addTask = document.querySelectorAll(\".add_task\")\n    const quantityTask = document.querySelectorAll(\".quantity\")\n    const task = document.querySelectorAll(\"#task\")\n    const footer = document.querySelector(\"footer\")\n    const svg = document.querySelectorAll(\"svg\")\n    const button = document.querySelectorAll(\"button\")\n    const submitNameProject = document.getElementById(\"submit-name-project\")\n    const popupContainer = document.getElementById(\"popup-login\")\n    const signup = document.getElementById(\"sign-up\")\n    const signin = document.getElementById(\"sign-in\")\n    const googleuser = document.getElementById(\"googleUser\")\n    const demouser = document.getElementById(\"demoUser\")\n    let backgroundColorBlack  = \"rgb(48, 48, 48)\"\n    let backgroundColorContainerBlack = \"#424242\"\n    let backgroundColorHomePageAndCalendarBlack = \"#3e3e3e\"\n    let colorLettersBlackTheme = \"#FFFFFF\"\n    let backgroundColorWhite  = \"#f7fcff\"\n    let backgroundColorCardsBlack = \"#404040\"\n    let selectAndAddProjectBottonBlack = \"rgba(0, 0, 0, 0.1)\"\n\n   \n    if(NIGHT_MODE_SWITCH.checked){\n        \n        html.style.backgroundColor = backgroundColorBlack\n        body.style.backgroundColor = backgroundColorBlack;\n        container.style.backgroundColor = backgroundColorContainerBlack\n        container.style.color = colorLettersBlackTheme\n        content.style.backgroundColor = backgroundColorHomePageAndCalendarBlack\n        homePage.style.backgroundColor = backgroundColorHomePageAndCalendarBlack\n        homePage.style.color = colorLettersBlackTheme\n        calendarPage.style.backgroundColor = backgroundColorHomePageAndCalendarBlack\n        calendarPage.style.color = colorLettersBlackTheme\n        headerHomePage.style.color = colorLettersBlackTheme\n        selectProjects.forEach(select => {\n            select.style.color = colorLettersBlackTheme\n            select.style.background = selectAndAddProjectBottonBlack\n        })\n        \n        card.forEach(card => {\n            card.style.backgroundColor = backgroundColorCardsBlack\n        })\n        addTask.forEach(button => {\n            button.style.backgroundColor = selectAndAddProjectBottonBlack\n            button.style.color  = colorLettersBlackTheme\n        })\n        quantityTask.forEach(quantity =>{\n            quantity.style.backgroundColor = selectAndAddProjectBottonBlack\n            quantity.style.color = colorLettersBlackTheme\n        })\n        task.forEach(task =>{\n            task.style.backgroundColor = \"rgba(151, 151, 151, 0.4)\"\n            task.style.border = \"none\"\n            task.style.color = \"white\"\n        })\n        button.forEach(button => {\n            button.style.backgroundColor = selectAndAddProjectBottonBlack\n        })\n        footer.style.color = colorLettersBlackTheme\n        svg.forEach(svgs =>{\n            svgs.style.color = colorLettersBlackTheme\n        } )\n        submitNameProject.style.backgroundColor = selectAndAddProjectBottonBlack\n        popupContainer.style.backgroundColor = backgroundColorBlack\n        popupContainer.style.color = colorLettersBlackTheme\n        signin.style.color = colorLettersBlackTheme\n        signin.style.border = \"1px solid white\"\n        signup.style.color = colorLettersBlackTheme\n        signup.style.border = \"1px solid white\"\n        googleuser.style.border = \"1px solid white\"\n        googleuser.style.background = \"none\"\n        demouser.style.background = \"none\"\n        demouser.style.border = \"1px solid white\"\n        demouser.style.color = colorLettersBlackTheme\n    }else if(NIGHT_MODE_SWITCH.checked == false){\n        html.style.backgroundColor = backgroundColorWhite\n        body.style.backgroundColor = backgroundColorWhite;\n        container.style.backgroundColor = \"white\"\n        container.style.color = \"black\"\n        content.style.backgroundColor = \"rgba(250,252,252,0.4)\"\n        homePage.style.backgroundColor = \"rgba(250,252,252,0.4)\"\n        homePage.style.color = \"black\"\n        calendarPage.style.backgroundColor = \"rgba(250,252,252,0.4)\"\n        calendarPage.style.color = \"black\"\n        headerHomePage.style.color = \"black\"\n        selectProjects.forEach(select => {\n            select.style.color = \"black\"\n            select.style.background = \"rgba(174,214,241,0.1)\"\n        })\n        \n        card.forEach(card => {\n            card.style.backgroundColor = \"rgba(174,214,241,0.03)\"\n        })\n        addTask.forEach(button => {\n            button.style.backgroundColor = \"rgba(174,214,241,0.1)\"\n            button.style.color  = \"black\"\n        })\n        quantityTask.forEach(quantity =>{\n            quantity.style.backgroundColor = \"rgba(174,214,241,0.1)\"\n            quantity.style.color = \"black\"\n        })\n        task.forEach(task =>{\n            task.style.backgroundColor = \"white\"\n            task.style.color = \"black\"\n        })\n        footer.style.color = \"black\"\n        svg.forEach(svgs =>{\n            svgs.style.color = \"black\"\n        } )\n        submitNameProject.style.backgroundColor = \"rgb(174,214,241)\"\n        popupContainer.style.backgroundColor = \"white\"\n        popupContainer.style.color = \"black\"\n         signin.style.color = \"black\"\n        signin.style.border = \"1px solid black\"\n        signup.style.color = \"black\"\n        signup.style.border = \"1px solid black\"\n        googleuser.style.border = \"1px solid black\"\n        googleuser.style.background = \"none\"\n        demouser.style.background = \"none\"\n        demouser.style.color = \"black\"\n        demouser.style.border = \"1px solid black\"\n\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGhlbWVTd2l0Y2guanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0X3RvcC8uL3NyYy90aGVtZVN3aXRjaC5qcz82ZGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHR1cm5OaWdodFRoZW1lT3JXaGl0ZVRoZW1lKCl7XG4gICAgY29uc3QgTklHSFRfTU9ERV9TV0lUQ0ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrQm94VGhlbWVcIilcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIilcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIilcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKVxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIilcbiAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibmF2XCIpXG4gICAgY29uc3QgaGVhZGVySG9tZVBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKVxuICAgIGNvbnN0IGhvbWVQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob21lUGFnZVwiKVxuICAgIGNvbnN0IHNlbGVjdFByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFwiKVxuICAgIGNvbnN0IHNldHRpbmdPcHRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5ncy1vcHRpb25zXCIpXG4gICAgY29uc3QgZm9ybUlucHV0UHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1pbnB1dC1wcm9qZWN0XCIpXG4gICAgY29uc3QgY2FsZW5kYXJQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYWxlbmRhclBhZ2VcIilcbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkXCIpXG4gICAgY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWRkX3Rhc2tcIilcbiAgICBjb25zdCBxdWFudGl0eVRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnF1YW50aXR5XCIpXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdGFza1wiKVxuICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb290ZXJcIilcbiAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3ZnXCIpXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImJ1dHRvblwiKVxuICAgIGNvbnN0IHN1Ym1pdE5hbWVQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtbmFtZS1wcm9qZWN0XCIpXG4gICAgY29uc3QgcG9wdXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwLWxvZ2luXCIpXG4gICAgY29uc3Qgc2lnbnVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduLXVwXCIpXG4gICAgY29uc3Qgc2lnbmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduLWluXCIpXG4gICAgY29uc3QgZ29vZ2xldXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29vZ2xlVXNlclwiKVxuICAgIGNvbnN0IGRlbW91c2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZW1vVXNlclwiKVxuICAgIGxldCBiYWNrZ3JvdW5kQ29sb3JCbGFjayAgPSBcInJnYig0OCwgNDgsIDQ4KVwiXG4gICAgbGV0IGJhY2tncm91bmRDb2xvckNvbnRhaW5lckJsYWNrID0gXCIjNDI0MjQyXCJcbiAgICBsZXQgYmFja2dyb3VuZENvbG9ySG9tZVBhZ2VBbmRDYWxlbmRhckJsYWNrID0gXCIjM2UzZTNlXCJcbiAgICBsZXQgY29sb3JMZXR0ZXJzQmxhY2tUaGVtZSA9IFwiI0ZGRkZGRlwiXG4gICAgbGV0IGJhY2tncm91bmRDb2xvcldoaXRlICA9IFwiI2Y3ZmNmZlwiXG4gICAgbGV0IGJhY2tncm91bmRDb2xvckNhcmRzQmxhY2sgPSBcIiM0MDQwNDBcIlxuICAgIGxldCBzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2sgPSBcInJnYmEoMCwgMCwgMCwgMC4xKVwiXG5cbiAgIFxuICAgIGlmKE5JR0hUX01PREVfU1dJVENILmNoZWNrZWQpe1xuICAgICAgICBcbiAgICAgICAgaHRtbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JCbGFja1xuICAgICAgICBib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckJsYWNrO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yQ29udGFpbmVyQmxhY2tcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICBjb250ZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckhvbWVQYWdlQW5kQ2FsZW5kYXJCbGFja1xuICAgICAgICBob21lUGFnZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JIb21lUGFnZUFuZENhbGVuZGFyQmxhY2tcbiAgICAgICAgaG9tZVBhZ2Uuc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIGNhbGVuZGFyUGFnZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JIb21lUGFnZUFuZENhbGVuZGFyQmxhY2tcbiAgICAgICAgY2FsZW5kYXJQYWdlLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICBoZWFkZXJIb21lUGFnZS5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgc2VsZWN0UHJvamVjdHMuZm9yRWFjaChzZWxlY3QgPT4ge1xuICAgICAgICAgICAgc2VsZWN0LnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICAgICAgc2VsZWN0LnN0eWxlLmJhY2tncm91bmQgPSBzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2tcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGNhcmQuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yQ2FyZHNCbGFja1xuICAgICAgICB9KVxuICAgICAgICBhZGRUYXNrLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2tcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5jb2xvciAgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIH0pXG4gICAgICAgIHF1YW50aXR5VGFzay5mb3JFYWNoKHF1YW50aXR5ID0+e1xuICAgICAgICAgICAgcXVhbnRpdHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2VsZWN0QW5kQWRkUHJvamVjdEJvdHRvbkJsYWNrXG4gICAgICAgICAgICBxdWFudGl0eS5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgfSlcbiAgICAgICAgdGFzay5mb3JFYWNoKHRhc2sgPT57XG4gICAgICAgICAgICB0YXNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgxNTEsIDE1MSwgMTUxLCAwLjQpXCJcbiAgICAgICAgICAgIHRhc2suc3R5bGUuYm9yZGVyID0gXCJub25lXCJcbiAgICAgICAgICAgIHRhc2suc3R5bGUuY29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgfSlcbiAgICAgICAgYnV0dG9uLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2tcbiAgICAgICAgfSlcbiAgICAgICAgZm9vdGVyLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICBzdmcuZm9yRWFjaChzdmdzID0+e1xuICAgICAgICAgICAgc3Zncy5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgfSApXG4gICAgICAgIHN1Ym1pdE5hbWVQcm9qZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNlbGVjdEFuZEFkZFByb2plY3RCb3R0b25CbGFja1xuICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JCbGFja1xuICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgc2lnbmluLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICBzaWduaW4uc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgd2hpdGVcIlxuICAgICAgICBzaWdudXAuc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIHNpZ251cC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCB3aGl0ZVwiXG4gICAgICAgIGdvb2dsZXVzZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgd2hpdGVcIlxuICAgICAgICBnb29nbGV1c2VyLnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIlxuICAgICAgICBkZW1vdXNlci5zdHlsZS5iYWNrZ3JvdW5kID0gXCJub25lXCJcbiAgICAgICAgZGVtb3VzZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgd2hpdGVcIlxuICAgICAgICBkZW1vdXNlci5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICB9ZWxzZSBpZihOSUdIVF9NT0RFX1NXSVRDSC5jaGVja2VkID09IGZhbHNlKXtcbiAgICAgICAgaHRtbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JXaGl0ZVxuICAgICAgICBib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcldoaXRlO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBjb250ZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgyNTAsMjUyLDI1MiwwLjQpXCJcbiAgICAgICAgaG9tZVBhZ2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1MCwyNTIsMjUyLDAuNClcIlxuICAgICAgICBob21lUGFnZS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBjYWxlbmRhclBhZ2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1MCwyNTIsMjUyLDAuNClcIlxuICAgICAgICBjYWxlbmRhclBhZ2Uuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgaGVhZGVySG9tZVBhZ2Uuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgc2VsZWN0UHJvamVjdHMuZm9yRWFjaChzZWxlY3QgPT4ge1xuICAgICAgICAgICAgc2VsZWN0LnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBzZWxlY3Quc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgxNzQsMjE0LDI0MSwwLjEpXCJcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGNhcmQuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE3NCwyMTQsMjQxLDAuMDMpXCJcbiAgICAgICAgfSlcbiAgICAgICAgYWRkVGFzay5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE3NCwyMTQsMjQxLDAuMSlcIlxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmNvbG9yICA9IFwiYmxhY2tcIlxuICAgICAgICB9KVxuICAgICAgICBxdWFudGl0eVRhc2suZm9yRWFjaChxdWFudGl0eSA9PntcbiAgICAgICAgICAgIHF1YW50aXR5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgxNzQsMjE0LDI0MSwwLjEpXCJcbiAgICAgICAgICAgIHF1YW50aXR5LnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgIH0pXG4gICAgICAgIHRhc2suZm9yRWFjaCh0YXNrID0+e1xuICAgICAgICAgICAgdGFzay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgICAgIHRhc2suc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgfSlcbiAgICAgICAgZm9vdGVyLnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgIHN2Zy5mb3JFYWNoKHN2Z3MgPT57XG4gICAgICAgICAgICBzdmdzLnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgIH0gKVxuICAgICAgICBzdWJtaXROYW1lUHJvamVjdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYigxNzQsMjE0LDI0MSlcIlxuICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgcG9wdXBDb250YWluZXIuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgIHNpZ25pbi5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBzaWduaW4uc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICBzaWdudXAuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgc2lnbnVwLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgZ29vZ2xldXNlci5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIGdvb2dsZXVzZXIuc3R5bGUuYmFja2dyb3VuZCA9IFwibm9uZVwiXG4gICAgICAgIGRlbW91c2VyLnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIlxuICAgICAgICBkZW1vdXNlci5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBkZW1vdXNlci5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG5cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/themeSwitch.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunktodolist_top"] = self["webpackChunktodolist_top"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["vendors-node_modules_firebase_app_dist_index_esm_js-node_modules_firebase_auth_dist_index_esm_js"], () => (__webpack_require__("./src/index.js")))
/******/ 	__webpack_require__.O(undefined, ["vendors-node_modules_firebase_app_dist_index_esm_js-node_modules_firebase_auth_dist_index_esm_js"], () => (__webpack_require__("./src/jsCalendar.js")))
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_firebase_app_dist_index_esm_js-node_modules_firebase_auth_dist_index_esm_js"], () => (__webpack_require__("./node_modules/firebase/auth/dist/index.esm.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;