(()=>{"use strict";document.getElementById("home"),document.getElementById("add_project");const e=document.getElementById("calendar"),t=(document.getElementById("settings"),document.getElementById("login"),document.querySelector(".content"),document.querySelector("#calendarPage")),n=document.querySelector("#homePage"),o=document.getElementById("plus"),s=document.getElementById("form-input-project"),r=document.getElementById("settings-options"),a=document.getElementById("svg-config");function i(){const e=document.getElementById("checkBox"),t=document.getElementById("homespan"),n=document.getElementById("addprojectspan"),o=document.getElementById("spancalendar"),s=document.getElementById("loginsettings"),r=document.getElementById("loginspan"),a=document.getElementById("todotext"),i=document.getElementById("inprogresstext"),l=document.getElementById("completedtext"),d=document.getElementById("projectdefault"),h=document.getElementById("dayoption"),c=document.getElementById("weekoption"),u=document.getElementById("yearoption"),g=document.getElementById("selectdefaultweek"),m=document.getElementById("labelinput"),y=document.getElementById("input-project"),p=document.getElementById("submit-name-project");e.checked?(t.textContent="Casa",n.textContent="Añadir proyecto",o.textContent="Calendario",s.textContent="Configuraciones",r.textContent="Iniciar sesion",a.textContent="Para hacer",i.textContent="En progreso",l.textContent="Completado",d.textContent="Proyectos",h.textContent="Dia",c.textContent="Semana",u.textContent="Año",g.textContent="Esta semana",m.textContent="Nombre del proyecto",y.setAttribute("placeholder","Ej: Mi rutina de gimnasio..."),p.setAttribute("value","Hecho")):0==e.checked&&(t.textContent="Home",n.textContent="Add project",o.textContent="Calendar",s.textContent="Configuration",r.textContent="Log in",a.textContent="To do",i.textContent="In progress",l.textContent="Completed",d.textContent="Projects",h.textContent="Day",c.textContent="Week",u.textContent="Year",g.textContent="This week",m.textContent="Name of the project",y.setAttribute("placeholder","Ex: My gym rutine..."),p.setAttribute("value","Done"))}function l(){const e=document.getElementById("checkBoxTheme"),t=document.querySelector("html"),n=document.querySelector("body"),o=document.getElementById("container"),s=document.querySelector(".content"),r=(document.querySelector("nav"),document.querySelector(".header")),a=document.getElementById("homePage"),i=document.querySelectorAll("select"),l=(document.getElementById("settings-options"),document.getElementById("form-input-project"),document.querySelector("#calendarPage")),d=document.querySelectorAll(".card"),h=document.querySelectorAll(".add_task"),c=document.querySelectorAll(".quantity"),u=document.querySelectorAll(".task"),g=document.querySelector("footer"),m=document.querySelectorAll("svg"),y=document.getElementById("submit-name-project"),p=document.getElementById("popup-login");let f="rgb(48, 48, 48)",_="#3e3e3e",D="#FFFFFF",v="#f7fcff",b="rgba(0, 0, 0, 0.1)";e.checked?(t.style.backgroundColor=f,n.style.backgroundColor=f,o.style.backgroundColor="#424242",o.style.color=D,s.style.backgroundColor=_,a.style.backgroundColor=_,a.style.color=D,l.style.backgroundColor=_,l.style.color=D,r.style.color=D,i.forEach((e=>{e.style.color=D,e.style.background=b})),d.forEach((e=>{e.style.backgroundColor="#404040"})),h.forEach((e=>{e.style.backgroundColor=b,e.style.color=D})),c.forEach((e=>{e.style.backgroundColor=b,e.style.color=D})),u.forEach((e=>{e.style.backgroundColor="rgba(151, 151, 151, 0.4)",e.style.border="none",e.style.color="white"})),g.style.color=D,m.forEach((e=>{e.style.color=D})),y.style.backgroundColor=b,p.style.backgroundColor=f,p.style.color=D):0==e.checked&&(t.style.backgroundColor=v,n.style.backgroundColor=v,o.style.backgroundColor="white",o.style.color="black",s.style.backgroundColor="rgba(250,252,252,0.4)",a.style.backgroundColor="rgba(250,252,252,0.4)",a.style.color="black",l.style.backgroundColor="rgba(250,252,252,0.4)",l.style.color="black",r.style.color="black",i.forEach((e=>{e.style.color="black",e.style.background="rgba(174,214,241,0.1)"})),d.forEach((e=>{e.style.backgroundColor="rgba(174,214,241,0.03)"})),h.forEach((e=>{e.style.backgroundColor="rgba(174,214,241,0.1)",e.style.color="black"})),c.forEach((e=>{e.style.backgroundColor="rgba(174,214,241,0.1)",e.style.color="black"})),u.forEach((e=>{e.style.backgroundColor="white",e.style.color="black"})),g.style.color="black",m.forEach((e=>{e.style.color="black"})),y.style.backgroundColor="rgb(174,214,241)",p.style.backgroundColor="white",p.style.color="black")}document.getElementById("night-mode"),n.style.display="block",r.style.display="none";const d=document.getElementById("home"),h=document.getElementById("add_project"),c=document.getElementById("calendar"),u=document.getElementById("settings"),g=document.getElementById("login"),m=document.getElementById("checkBoxTheme"),y=document.getElementById("checkBox"),p=(document.querySelector(".content"),document.querySelector("#calendarPage"),document.querySelector("#homePage"),document.getElementById("plus"),document.querySelector(".list"),document.getElementById("form-input-project"),document.getElementById("popup-login")),f=document.getElementById("background-popup"),_=document.getElementById("close-pop-up"),D=document.getElementById("demoUser");function v(){f.style.display="none"}d.onclick=()=>{"block"!=n.style.display&&(t.removeAttribute("class"),n.removeAttribute("class"),n.setAttribute("class","slideLeft2"),t.setAttribute("class","slideLeft"),setTimeout((()=>{t.style.display="none",n.style.display="block"}),500))},h.onclick=()=>{"rotate"===o.getAttribute("class")?(o.removeAttribute("class"),o.setAttribute("class","return"),s.removeAttribute("class"),s.setAttribute("class","up"),e.removeAttribute("class"),setTimeout((()=>{s.style.display="none"}),1e3)):(null==o.getAttribute("class")||"return"===o.getAttribute("class"))&&(o.removeAttribute("class"),o.setAttribute("class","rotate"),s.style.display="flex",s.removeAttribute("class"),s.setAttribute("class","down"),e.removeAttribute("class"),e.setAttribute("class","down1"))},c.onclick=()=>(n.setAttribute("class","slideLeft"),t.setAttribute("class","slideLeft2"),void setTimeout((()=>{n.style.display="none",t.style.display="flex"}),500)),u.onclick=()=>(a.removeAttribute("class"),"flex"===r.style.display?(r.removeAttribute("class"),r.setAttribute("class","down2"),a.setAttribute("class","rotate"),void setTimeout((()=>{r.style.display="none"}),1e3)):"none"===r.style.display?(r.style.display="flex",r.setAttribute("class","up1"),void a.setAttribute("class","return")):void 0),m.onclick=()=>l(),y.onclick=()=>i(),g.onclick=()=>(f.style.display="block",p.style.display="flex",void p.setAttribute("class","fromtop")),_.onclick=()=>v(),D.onclick=()=>function(e){switch(e){case"demo_user"==e:v(),localStorage.setItem("user","0");break;case"google_user"==e:localStorage.setItem("user","1");break;case e="log-in-user":localStorage.setItem("user","2")}"demo_user"==e&&(localStorage.getItem("user")||localStorage.setItem("user","0"))}("demo_user"),window.onload=i(),window.onload=l()})(),function(){function e(){0!==arguments.length&&this._construct(arguments)}e.version="v1.4.4",e.prototype._construct=function(e){if(e=this._parseArguments(e),this._setTarget(e.target),this._init(e.options),this._initTarget(),this._setDate(null!==e.date?e.date:this._target.dataset.hasOwnProperty("date")?this._target.dataset.date:new Date),!this._now)throw new Error("jsCalendar: Date is outside range.");this._create(),this._update()},e.prototype.languages={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_dateStringParser:function(t,n){return e._defaultDateStringParser(t,n,this)},_dayStringParser:function(t,n){return e._defaultDayStringParser(t,n,this)}}},e.prototype._init=function(e){this._elements={},this._events={},this._events.date=[],this._events.month=[],this._events.day_render=[],this._events.date_render=[],this._events.month_render=[],this._now=null,this._date=null,this._selected=[],this.language={},this._parseOptions(e)},e.prototype._parseArguments=function(e){var t={target:null,date:null,options:{}};if(0===e.length)throw new Error("jsCalendar: No parameters were given.");if(1===e.length)if(("object"==typeof HTMLElement?e[0]instanceof HTMLElement:e[0])&&"object"==typeof e[0]&&null!==e[0]&&1===e[0].nodeType&&"string"==typeof e[0].nodeName||"string"==typeof e[0])t.target=e[0];else{if(t.options=e[0],void 0===e[0].target)throw new Error("jsCalendar: Not target was given.");t.target=e[0].target,void 0!==e[0].date&&(t.date=e[0].date)}else t.target=e[0],e.length>=2&&(t.date=e[1]),e.length>=3&&(t.options=e[2]);return t},e.options={language:"en",zeroFill:!1,monthFormat:"month",dayFormat:"D",firstDayOfTheWeek:1,navigator:!0,navigatorPosition:"both",min:!1,max:!1,onMonthRender:!1,onDayRender:!1,onDateRender:!1},e.prototype._parseOptions=function(n){this._options={};var o={};for(var s in e.options)e.options.hasOwnProperty(s)&&(this._options[s]=e.options[s]),n.hasOwnProperty(s)?o[s]=n[s]:this._target.dataset.hasOwnProperty(s)&&(o[s]=this._target.dataset[s]);void 0!==o.zeroFill&&("false"!==o.zeroFill&&o.zeroFill?this._options.zeroFill=!0:this._options.zeroFill=!1),void 0!==o.monthFormat&&(this._options.monthFormat=o.monthFormat),void 0!==o.dayFormat&&(this._options.dayFormat=o.dayFormat),void 0!==o.navigator&&("false"!==o.navigator&&o.navigator?this._options.navigator=!0:this._options.navigator=!1),void 0!==o.navigatorPosition&&(this._options.navigatorPosition=o.navigatorPosition),"string"==typeof o.language&&void 0!==this.languages[o.language]&&(this._options.language=o.language),this.setLanguage(this._options.language),void 0!==o.fdotw&&(o.firstDayOfTheWeek=o.fdotw),void 0!==o.firstDayOfTheWeek&&("number"==typeof o.firstDayOfTheWeek&&o.firstDayOfTheWeek>=1&&o.firstDayOfTheWeek<=7&&(this._options.firstDayOfTheWeek=o.firstDayOfTheWeek),"string"==typeof o.firstDayOfTheWeek&&(o.firstDayOfTheWeek.match(/^[1-7]$/)?this._options.firstDayOfTheWeek=parseInt(o.firstDayOfTheWeek,10):(this._options.firstDayOfTheWeek=this.language.days.indexOf(o.firstDayOfTheWeek)+1,(this._options.firstDayOfTheWeek<1||this._options.firstDayOfTheWeek>7)&&(this._options.firstDayOfTheWeek=1)))),void 0!==o.min&&"false"!==o.min&&!1!==o.min&&(this._options.min=t.parseDate(o.min)),void 0!==o.max&&"false"!==o.max&&!1!==o.max&&(this._options.max=t.parseDate(o.max)),void 0!==o.onMonthRender&&("string"==typeof o.onMonthRender&&"function"==typeof window[o.onMonthRender]?this._on("month_render",window[o.onMonthRender]):"function"==typeof o.onMonthRender&&this._on("month_render",o.onMonthRender)),void 0!==o.onDayRender&&("string"==typeof o.onDayRender&&"function"==typeof window[o.onDayRender]?this._on("day_render",window[o.onDayRender]):"function"==typeof o.onDayRender&&this._on("day_render",o.onDayRender)),void 0!==o.onDateRender&&("string"==typeof o.onDateRender&&"function"==typeof window[o.onDateRender]?this._on("date_render",window[o.onDateRender]):"function"==typeof o.onDateRender&&this._on("date_render",o.onDateRender))},e.prototype._setTarget=function(e){var o=t.getElement(e);if(!o)throw new Error("jsCalendar: Target was not found.");this._target=o;var s=this._target.id;s&&s.length>0&&(n["#"+s]=this)},e.prototype._initTarget=function(){this._target.className.length>0&&(this._target.className+=" "),this._target.className+="jsCalendar",this._elements.table=document.createElement("table"),this._elements.head=document.createElement("thead"),this._elements.table.appendChild(this._elements.head),this._elements.body=document.createElement("tbody"),this._elements.table.appendChild(this._elements.body),this._target.appendChild(this._elements.table)},e.prototype._isDateInRange=function(e){return!1===this._options.min&&!1===this._options.max||(e=t.parseDate(e),!(!1!==this._options.min&&this._options.min.getTime()>e.getTime()||!1!==this._options.max&&this._options.max.getTime()<e.getTime()))},e.prototype._setDate=function(e){e=t.parseDate(e),this._isDateInRange(e)&&(this._now=e,this._date=new Date(this._now.getFullYear(),this._now.getMonth(),1))},e.prototype._parseToDateString=function(e,t){var n=this.language;return t.replace(/(MONTH|month|MMM|mmm|mm|m|MM|M|DAY|day|DDD|ddd|dd|d|DD|D|YYYY|yyyy)/g,(function(t){return n.dateStringParser(t,e)}))},e.prototype._getVisibleMonth=function(e){e=void 0===e?this._date:t.parseDate(e);var n=new Date(e.getTime());n.setDate(1);var o=n.getDay()-(this._options.firstDayOfTheWeek-1);o<0&&(o+=7);var s=this.language,r=this._options.monthFormat.replace(/(MONTH|month|MMM|mmm|##|#|YYYY|yyyy)/g,(function(e){return s.dateStringParser(e,n)})),a=this._getVisibleDates(e),i=new Date(n.getYear()+1900,n.getMonth()+1,0).getDate(),l=-1;return n.getYear()===this._now.getYear()&&n.getMonth()===this._now.getMonth()&&(l=o+this._now.getDate()-1),{name:r,days:a,start:o+1,current:l,end:o+i}},e.prototype._getVisibleDates=function(e){e=void 0===e?this._date:t.parseDate(e);var n=[],o=new Date(e.getTime());o.setDate(1),o.setHours(0,0,0,0);var s=o.getDay()-(this._options.firstDayOfTheWeek-1);s<0&&(s+=7);for(var r=new Date(o.getTime());s>0;)r.setDate(r.getDate()-1),n.unshift(new Date(r.getTime())),s--;r=new Date(o.getTime());do{n.push(new Date(r.getTime())),r.setDate(r.getDate()+1)}while(1!==r.getDate());for(var a=42-n.length;a>0;)n.push(new Date(r.getTime())),r.setDate(r.getDate()+1),a--;return n},e.prototype._create=function(){var e,t,n=this;for(this._elements.created=!0,this._elements.headRows=[],e=0;e<2;e++)this._elements.headRows.push(document.createElement("tr")),this._elements.head.appendChild(this._elements.headRows[e]);var o=document.createElement("th");for(o.setAttribute("colspan",7),this._elements.headRows[0].className="jsCalendar-title-row",this._elements.headRows[0].appendChild(o),this._elements.headLeft=document.createElement("div"),this._elements.headLeft.className="jsCalendar-title-left",o.appendChild(this._elements.headLeft),this._elements.month=document.createElement("div"),this._elements.month.className="jsCalendar-title-name",o.appendChild(this._elements.month),this._elements.headRight=document.createElement("div"),this._elements.headRight.className="jsCalendar-title-right",o.appendChild(this._elements.headRight),this._options.navigator&&(this._elements.navLeft=document.createElement("div"),this._elements.navLeft.className="jsCalendar-nav-left",this._elements.navRight=document.createElement("div"),this._elements.navRight.className="jsCalendar-nav-right","left"===this._options.navigatorPosition?(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headLeft.appendChild(this._elements.navRight)):"right"===this._options.navigatorPosition?(this._elements.headRight.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)):(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)),this._elements.navLeft.addEventListener("click",(function(e){n.previous();var t=new Date(n._date.getTime());t.setDate(1),n._eventFire("month",t,e)}),!1),this._elements.navRight.addEventListener("click",(function(e){n.next();var t=new Date(n._date.getTime());t.setDate(1),n._eventFire("month",t,e)}),!1)),this._elements.headRows[1].className="jsCalendar-week-days",o.className="jsCalendar-title",this._elements.days=[],e=0;e<7;e++)this._elements.days.push(document.createElement("th")),this._elements.headRows[1].appendChild(this._elements.days[this._elements.days.length-1]);for(this._elements.bodyRows=[],this._elements.bodyCols=[],e=0;e<6;e++)for(this._elements.bodyRows.push(document.createElement("tr")),this._elements.body.appendChild(this._elements.bodyRows[e]),t=0;t<7;t++)this._elements.bodyCols.push(document.createElement("td")),this._elements.bodyRows[e].appendChild(this._elements.bodyCols[7*e+t]),this._elements.bodyCols[7*e+t].addEventListener("click",function(e){return function(t){n._eventFire("date",n._active[e],t)}}(7*e+t),!1)},e.prototype._selectDates=function(e){e=e.slice();for(var n=0;n<e.length;n++)e[n]=t.parseDate(e[n]),e[n].setHours(0,0,0,0),e[n]=e[n].getTime();for(n=e.length-1;n>=0;n--)this._selected.indexOf(e[n])<0&&this._selected.push(e[n])},e.prototype._unselectDates=function(e){e=e.slice();for(var n=0;n<e.length;n++)e[n]=t.parseDate(e[n]),e[n].setHours(0,0,0,0),e[n]=e[n].getTime();var o;for(n=e.length-1;n>=0;n--)(o=this._selected.indexOf(e[n]))>=0&&this._selected.splice(o,1)},e.prototype._unselectAllDates=function(){for(;this._selected.length;)this._selected.pop()},e.prototype._update=function(){var e=this._getVisibleMonth(this._date);this._active=e.days.slice(),this._elements.month.textContent=e.name;for(var t,n,o=this._options.zeroFill?"0":"",s=e.days.length-1;s>=0;s--)t=e.days[s].getDate(),this._elements.bodyCols[s].textContent=t<10?o+t:t,this._selected.indexOf(e.days[s].getTime())>=0?this._elements.bodyCols[s].className="jsCalendar-selected":this._elements.bodyCols[s].removeAttribute("class");for(s=0;s<e.start-1;s++)this._elements.bodyCols[s].className="jsCalendar-previous";for(e.current>=0&&(this._elements.bodyCols[e.current].className.length>0?this._elements.bodyCols[e.current].className+=" jsCalendar-current":this._elements.bodyCols[e.current].className="jsCalendar-current"),s=e.end;s<e.days.length;s++)this._elements.bodyCols[s].className="jsCalendar-next";for(s=0;s<7;s++){var r=this;this._elements.days[s].textContent=this._options.dayFormat.replace(/(DAY|day|DDD|ddd|DD|dd|D)/g,(function(e){return r.language.dayStringParser(e,(s+r._options.firstDayOfTheWeek-1)%7)}))}if(this._events.month_render.length>0){var a=e.days[e.start];for(this._elements.month.removeAttribute("style"),n=0;n<this._events.month_render.length;n++)this._events.month_render[n].call(this,a.getMonth(),this._elements.month,{start:new Date(a.getTime()),end:new Date(a.getFullYear(),a.getMonth()+1,0,23,59,59,999),numberOfDays:e.end-e.start+1})}if(this._events.day_render.length>0)for(s=0;s<7;s++)for(this._elements.days[s].removeAttribute("style"),n=0;n<this._events.day_render.length;n++)this._events.day_render[n].call(this,(s+this._options.firstDayOfTheWeek-1)%7,this._elements.days[s],{position:s});if(this._events.date_render.length>0)for(s=0;s<e.days.length;s++)for(this._elements.bodyCols[s].removeAttribute("style"),n=0;n<this._events.date_render.length;n++)this._events.date_render[n].call(this,new Date(e.days[s].getTime()),this._elements.bodyCols[s],{isCurrent:e.current==s,isSelected:this._selected.indexOf(e.days[s].getTime())>=0,isPreviousMonth:s<e.start,isCurrentMonth:e.start<=s&&s<=e.end,isNextMonth:e.end<s,position:{x:s%7,y:Math.floor(s/7)}})},e.prototype._eventFire=function(e,t,n){if(this._events.hasOwnProperty(e))for(var o=0;o<this._events[e].length;o++)!function(e,o){setTimeout((function(){e.call(o,n,new Date(t.getTime()))}),0)}(this._events[e][o],this)},e.prototype._on=function(e,t){if("function"!=typeof t)throw new Error("jsCalendar: Invalid callback function.");return this._events[e].push(t),this},e.prototype.onDateClick=function(e){return this._on("date",e)},e.prototype.onMonthChange=function(e){return this._on("month",e)},e.prototype.onDayRender=function(e){return this._on("day_render",e)},e.prototype.onDateRender=function(e){return this._on("date_render",e)},e.prototype.onMonthRender=function(e){return this._on("month_render",e)},e.prototype.set=function(e){return this._setDate(e),this.refresh(),this},e.prototype.min=function(e){return this._options.min=!!e&&t.parseDate(e),this.refresh(),this},e.prototype.max=function(e){return this._options.max=!!e&&t.parseDate(e),this.refresh(),this},e.prototype.refresh=function(e){return void 0!==e&&this._isDateInRange(e)&&(this._date=t.parseDate(e)),!0===this._elements.created&&this._update(),this},e.prototype.next=function(e){"number"!=typeof e&&(e=1);var t=new Date(this._date.getFullYear(),this._date.getMonth()+e,1);return this._isDateInRange(t)?(this._date=t,this.refresh(),this):this},e.prototype.previous=function(e){"number"!=typeof e&&(e=1);var t=new Date(this._date.getFullYear(),this._date.getMonth()-e+1,0);return this._isDateInRange(t)?(this._date=t,this.refresh(),this):this},e.prototype.goto=function(e){return this.refresh(e),this},e.prototype.reset=function(){return this.refresh(this._now),this},e.prototype.select=function(e){return void 0===e||(e instanceof Array||(e=[e]),this._selectDates(e),this.refresh()),this},e.prototype.unselect=function(e){return void 0===e||(e instanceof Array||(e=[e]),this._unselectDates(e),this.refresh()),this},e.prototype.clearselect=function(){return this._unselectAllDates(),this.refresh(),this},e.prototype.clearSelected=e.prototype.clearselect,e.prototype.getSelected=function(e){"object"!=typeof e&&(e={});var t,n=this._selected.slice();if(e.sort&&(!0===e.sort?n.sort():"string"==typeof e.sort&&("asc"===e.sort.toLowerCase()?n.sort():"desc"===e.sort.toLowerCase()&&(n.sort(),n.reverse()))),e.type&&"string"==typeof e.type)if("date"===e.type.toLowerCase())for(t=n.length-1;t>=0;t--)n[t]=new Date(n[t]);else if("timestamp"!==e.type.toLowerCase())for(t=n.length-1;t>=0;t--)n[t]=this._parseToDateString(new Date(n[t]),e.type);return n},e.prototype.isSelected=function(e){return null!=e&&((e=t.parseDate(e)).setHours(0,0,0,0),e=e.getTime(),this._selected.indexOf(e)>=0)},e.prototype.isVisible=function(e){if(null==e)return!1;(e=t.parseDate(e)).setHours(0,0,0,0),e=e.getTime();var n=this._getVisibleDates();return n[0].getTime()<=e&&n[n.length-1].getTime()>=e},e.prototype.isInMonth=function(e){if(null==e)return!1;var n=t.parseDate(e);n.setHours(0,0,0,0),n.setDate(1);var o=t.parseDate(this._date);return o.setHours(0,0,0,0),o.setDate(1),n.getTime()===o.getTime()},e.prototype.setLanguage=function(e){if("string"!=typeof e)throw new Error("jsCalendar: Invalid language code.");if(void 0===this.languages[e])throw new Error("jsCalendar: Language not found.");this._options.language=e;var t=this.languages[e];return this.language.months=t.months,this.language.days=t.days,this.language.dateStringParser=t._dateStringParser,this.language.dayStringParser=t._dayStringParser,this.refresh(),this},e.autoFind=function(){for(var t=document.getElementsByClassName("auto-jsCalendar"),n=0;n<t.length;n++)"true"!==t[n].getAttribute("jsCalendar-loaded")&&(t[n].setAttribute("jsCalendar-loaded","true"),new e({target:t[n]}))};var t=e.tools={};t.parseDate=function(e,t){if(null==e||"now"===e)e=new Date;else if("string"==typeof e){if(null===(e=e.replace(/-/g,"/").match(/^(\d{1,2})\/(\d{1,2})\/(\d{4,4})$/i))){if(!t)throw new Error("jsCalendar: Failed to parse date.");return null}var n=parseInt(e[2],10)-1;if(!(e=new Date(e[3],n,e[1]))||e.getMonth()!==n){if(!t)throw new Error("jsCalendar: Date does not exist.");return null}}else if("number"==typeof e)e=new Date(e);else if(!(e instanceof Date)){if(!t)throw new Error("jsCalendar: Invalid date.");return null}return new Date(e.getTime())},t.stringToDate=t.parseDate,t.dateToString=function(t,n,o){var s=e.prototype.languages;return o&&s.hasOwnProperty(o)||(o="en"),e.prototype._parseToDateString.apply({language:{months:s[o].months,days:s[o].days,dateStringParser:s[o]._dateStringParser,dayStringParser:s[o]._dayStringParser}},[t,n])},t.getElement=function(e){if(!e)return null;if("string"==typeof e){if("#"===e[0])return document.getElementById(e.substring(1));if("."===e[0])return document.getElementsByClassName(e.substring(1))[0]}else if(e.tagName&&e.nodeName&&e.ownerDocument&&e.removeAttribute)return e;return null},e.new=function(){var t=new e;return t._construct(arguments),t};var n={};e.set=function(t,o){if(o instanceof e)return n[t]=o,!0;throw new Error("jsCalendar: The second parameter is not a jsCalendar.")},e.get=function(e){return n.hasOwnProperty(e)?n[e]:null},e.del=function(e){return!!n.hasOwnProperty(e)&&(delete n[e],!0)},e.addLanguage=function(t){if(void 0===t)throw new Error("jsCalendar: No language object was given.");if("string"!=typeof t.code)throw new Error("jsCalendar: Invalid language code.");if(!(t.months instanceof Array))throw new Error("jsCalendar: Invalid language months.");if(12!==t.months.length)throw new Error("jsCalendar: Invalid language months length.");if(!(t.days instanceof Array))throw new Error("jsCalendar: Invalid language days.");if(7!==t.days.length)throw new Error("jsCalendar: Invalid language days length.");e.prototype.languages[t.code]=t,t._dateStringParser=t.hasOwnProperty("dateStringParser")?function(n,o){return t.dateStringParser(n,o)||e._defaultDateStringParser(n,o,t)}:function(n,o){return e._defaultDateStringParser(n,o,t)},t._dayStringParser=t.hasOwnProperty("dayStringParser")?function(n,o){return t.dayStringParser(n,o)||e._defaultDayStringParser(n,o,t)}:function(n,o){return e._defaultDayStringParser(n,o,t)}},e._defaultDateStringParser=function(e,t,n){switch(e){case"MONTH":case"month":return n.months[t.getMonth()];case"MMM":case"mmm":return n.months[t.getMonth()].substring(0,3);case"mm":return n.months[t.getMonth()].substring(0,2);case"m":return n.months[t.getMonth()].substring(0,1);case"MM":case"##":return(t.getMonth()<9?"0":"")+(t.getMonth()+1);case"M":case"#":return t.getMonth()+1;case"DAY":case"day":return n.days[t.getDay()];case"DDD":case"ddd":return n.days[t.getDay()].substring(0,3);case"dd":return n.days[t.getDay()].substring(0,2);case"d":return n.days[t.getDay()].substring(0,1);case"DD":return(t.getDate()<=9?"0":"")+t.getDate();case"D":return t.getDate();case"YYYY":case"yyyy":return t.getYear()+1900}},e._defaultDayStringParser=function(e,t,n){switch(e){case"DAY":case"day":return n.days[t];case"DDD":case"ddd":return n.days[t].substring(0,3);case"DD":case"dd":return n.days[t].substring(0,2);case"D":return n.days[t].substring(0,1)}},function(){if(void 0!==window.jsCalendar_language2load){for(;window.jsCalendar_language2load.length;)setTimeout(function(t){return function(){e.addLanguage(t)}}(window.jsCalendar_language2load.pop()),0);delete window.jsCalendar_language2load}}(),window.addEventListener("load",(function(){e.autoFind()}),!1)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ29CQSxTQUFTQyxlQUFlLFFBQ2pCRCxTQUFTQyxlQUFlLGVBRG5ELE1BRU1DLEVBQWtCRixTQUFTQyxlQUFlLFlBSzFDRSxHQUprQkgsU0FBU0MsZUFBZSxZQUMxQkQsU0FBU0MsZUFBZSxTQUU5QkQsU0FBU0ksY0FBYyxZQUN0QkosU0FBU0ksY0FBYyxrQkFDbENDLEVBQU9MLFNBQVNJLGNBQWMsYUFDOUJFLEVBQVVOLFNBQVNDLGVBQWUsUUFHbENNLEVBQW1CUCxTQUFTQyxlQUFlLHNCQUMzQ08sRUFBaUJSLFNBQVNDLGVBQWUsb0JBQ3pDUSxFQUFXVCxTQUFTQyxlQUFlLGNDZjFCLFNBQVNTLElBQ3hCLE1BQU1DLEVBQXlCWCxTQUFTQyxlQUFlLFlBQ2pEVyxFQUFXWixTQUFTQyxlQUFlLFlBQ25DWSxFQUFpQmIsU0FBU0MsZUFBZSxrQkFDekNhLEVBQWVkLFNBQVNDLGVBQWUsZ0JBQ3ZDYyxFQUFlZixTQUFTQyxlQUFlLGlCQUN2Q2UsRUFBWWhCLFNBQVNDLGVBQWUsYUFDcENnQixFQUFXakIsU0FBU0MsZUFBZSxZQUNuQ2lCLEVBQWlCbEIsU0FBU0MsZUFBZSxrQkFDekNrQixFQUFlbkIsU0FBU0MsZUFBZSxpQkFDdkNtQixFQUFpQnBCLFNBQVNDLGVBQWUsa0JBQ3pDb0IsRUFBWXJCLFNBQVNDLGVBQWUsYUFDcENxQixFQUFhdEIsU0FBU0MsZUFBZSxjQUNyQ3NCLEVBQWF2QixTQUFTQyxlQUFlLGNBQ3JDdUIsRUFBb0J4QixTQUFTQyxlQUFlLHFCQUM1Q3dCLEVBQWF6QixTQUFTQyxlQUFlLGNBQ3JDeUIsRUFBZTFCLFNBQVNDLGVBQWUsaUJBQ3ZDMEIsRUFBb0IzQixTQUFTQyxlQUFlLHVCQUMvQ1UsRUFBdUJpQixTQUN0QmhCLEVBQVNpQixZQUFjLE9BQ3ZCaEIsRUFBZWdCLFlBQWMsa0JBQzdCZixFQUFhZSxZQUFjLGFBQzNCZCxFQUFhYyxZQUFjLGtCQUMzQmIsRUFBVWEsWUFBYyxpQkFDeEJaLEVBQVNZLFlBQWMsYUFDdkJYLEVBQWVXLFlBQWMsY0FDN0JWLEVBQWFVLFlBQWMsYUFDM0JULEVBQWVTLFlBQWMsWUFDN0JSLEVBQVVRLFlBQWMsTUFDeEJQLEVBQVdPLFlBQWMsU0FDekJOLEVBQVdNLFlBQWMsTUFDekJMLEVBQWtCSyxZQUFjLGNBQ2hDSixFQUFXSSxZQUFjLHNCQUN6QkgsRUFBYUksYUFBYSxjQUFjLGdDQUN4Q0gsRUFBa0JHLGFBQWEsUUFBUSxVQUNHLEdBQWxDbkIsRUFBdUJpQixVQUMvQmhCLEVBQVNpQixZQUFjLE9BQ3ZCaEIsRUFBZWdCLFlBQWMsY0FDN0JmLEVBQWFlLFlBQWMsV0FDM0JkLEVBQWFjLFlBQWMsZ0JBQzNCYixFQUFVYSxZQUFjLFNBQ3hCWixFQUFTWSxZQUFjLFFBQ3ZCWCxFQUFlVyxZQUFjLGNBQzdCVixFQUFhVSxZQUFjLFlBQzNCVCxFQUFlUyxZQUFjLFdBQzdCUixFQUFVUSxZQUFjLE1BQ3hCUCxFQUFXTyxZQUFjLE9BQ3pCTixFQUFXTSxZQUFjLE9BQ3pCTCxFQUFrQkssWUFBYyxZQUNoQ0osRUFBV0ksWUFBYyxzQkFDekJILEVBQWFJLGFBQWEsY0FBYyx3QkFDeENILEVBQWtCRyxhQUFhLFFBQVEsU0NuRDVCLFNBQVNDLElBQ3BCLE1BQU1DLEVBQW9CaEMsU0FBU0MsZUFBZSxpQkFDNUNnQyxFQUFPakMsU0FBU0ksY0FBYyxRQUM5QjhCLEVBQU9sQyxTQUFTSSxjQUFjLFFBQzlCK0IsRUFBWW5DLFNBQVNDLGVBQWUsYUFDcENtQyxFQUFVcEMsU0FBU0ksY0FBYyxZQUVqQ2lDLEdBRE1yQyxTQUFTSSxjQUFjLE9BQ1pKLFNBQVNJLGNBQWMsWUFDeENrQyxFQUFXdEMsU0FBU0MsZUFBZSxZQUNuQ3NDLEVBQWlCdkMsU0FBU3dDLGlCQUFpQixVQUczQ0MsR0FGaUJ6QyxTQUFTQyxlQUFlLG9CQUN0QkQsU0FBU0MsZUFBZSxzQkFDNUJELFNBQVNJLGNBQWMsa0JBQ3RDc0MsRUFBTzFDLFNBQVN3QyxpQkFBaUIsU0FDakNHLEVBQVUzQyxTQUFTd0MsaUJBQWlCLGFBQ3BDSSxFQUFlNUMsU0FBU3dDLGlCQUFpQixhQUN6Q0ssRUFBTzdDLFNBQVN3QyxpQkFBaUIsU0FDakNNLEVBQVM5QyxTQUFTSSxjQUFjLFVBQ2hDMkMsRUFBTS9DLFNBQVN3QyxpQkFBaUIsT0FDaENRLEVBQW9CaEQsU0FBU0MsZUFBZSx1QkFDNUNnRCxFQUFpQmpELFNBQVNDLGVBQWUsZUFDL0MsSUFDSWlELEVBQXdCLGtCQUV4QkMsRUFBMEMsVUFDMUNDLEVBQXlCLFVBQ3pCQyxFQUF3QixVQUV4QkMsRUFBaUMscUJBR2xDdEIsRUFBa0JKLFNBRWpCSyxFQUFLc0IsTUFBTUMsZ0JBQWtCTixFQUM3QmhCLEVBQUtxQixNQUFNQyxnQkFBa0JOLEVBQzdCZixFQUFVb0IsTUFBTUMsZ0JBWmdCLFVBYWhDckIsRUFBVW9CLE1BQU1FLE1BQVFMLEVBQ3hCaEIsRUFBUW1CLE1BQU1DLGdCQUFrQkwsRUFDaENiLEVBQVNpQixNQUFNQyxnQkFBa0JMLEVBQ2pDYixFQUFTaUIsTUFBTUUsTUFBUUwsRUFDdkJYLEVBQWFjLE1BQU1DLGdCQUFrQkwsRUFDckNWLEVBQWFjLE1BQU1FLE1BQVFMLEVBQzNCZixFQUFla0IsTUFBTUUsTUFBUUwsRUFDN0JiLEVBQWVtQixTQUFRQyxJQUNuQkEsRUFBT0osTUFBTUUsTUFBUUwsRUFDckJPLEVBQU9KLE1BQU1LLFdBQWFOLEtBRzlCWixFQUFLZ0IsU0FBUWhCLElBQ1RBLEVBQUthLE1BQU1DLGdCQXRCYSxhQXdCNUJiLEVBQVFlLFNBQVFHLElBQ1pBLEVBQU9OLE1BQU1DLGdCQUFrQkYsRUFDL0JPLEVBQU9OLE1BQU1FLE1BQVNMLEtBRTFCUixFQUFhYyxTQUFRSSxJQUNqQkEsRUFBU1AsTUFBTUMsZ0JBQWtCRixFQUNqQ1EsRUFBU1AsTUFBTUUsTUFBUUwsS0FFM0JQLEVBQUthLFNBQVFiLElBQ1RBLEVBQUtVLE1BQU1DLGdCQUFrQiwyQkFDN0JYLEVBQUtVLE1BQU1RLE9BQVMsT0FDcEJsQixFQUFLVSxNQUFNRSxNQUFRLFdBRXZCWCxFQUFPUyxNQUFNRSxNQUFRTCxFQUNyQkwsRUFBSVcsU0FBUU0sSUFDUkEsRUFBS1QsTUFBTUUsTUFBUUwsS0FFdkJKLEVBQWtCTyxNQUFNQyxnQkFBa0JGLEVBQzFDTCxFQUFlTSxNQUFNQyxnQkFBa0JOLEVBQ3ZDRCxFQUFlTSxNQUFNRSxNQUFRTCxHQUNLLEdBQTdCcEIsRUFBa0JKLFVBQ3ZCSyxFQUFLc0IsTUFBTUMsZ0JBQWtCSCxFQUM3Qm5CLEVBQUtxQixNQUFNQyxnQkFBa0JILEVBQzdCbEIsRUFBVW9CLE1BQU1DLGdCQUFrQixRQUNsQ3JCLEVBQVVvQixNQUFNRSxNQUFRLFFBQ3hCckIsRUFBUW1CLE1BQU1DLGdCQUFrQix3QkFDaENsQixFQUFTaUIsTUFBTUMsZ0JBQWtCLHdCQUNqQ2xCLEVBQVNpQixNQUFNRSxNQUFRLFFBQ3ZCaEIsRUFBYWMsTUFBTUMsZ0JBQWtCLHdCQUNyQ2YsRUFBYWMsTUFBTUUsTUFBUSxRQUMzQnBCLEVBQWVrQixNQUFNRSxNQUFRLFFBQzdCbEIsRUFBZW1CLFNBQVFDLElBQ25CQSxFQUFPSixNQUFNRSxNQUFRLFFBQ3JCRSxFQUFPSixNQUFNSyxXQUFhLDJCQUc5QmxCLEVBQUtnQixTQUFRaEIsSUFDVEEsRUFBS2EsTUFBTUMsZ0JBQWtCLDRCQUVqQ2IsRUFBUWUsU0FBUUcsSUFDWkEsRUFBT04sTUFBTUMsZ0JBQWtCLHdCQUMvQkssRUFBT04sTUFBTUUsTUFBUyxXQUUxQmIsRUFBYWMsU0FBUUksSUFDakJBLEVBQVNQLE1BQU1DLGdCQUFrQix3QkFDakNNLEVBQVNQLE1BQU1FLE1BQVEsV0FFM0JaLEVBQUthLFNBQVFiLElBQ1RBLEVBQUtVLE1BQU1DLGdCQUFrQixRQUM3QlgsRUFBS1UsTUFBTUUsTUFBUSxXQUV2QlgsRUFBT1MsTUFBTUUsTUFBUSxRQUNyQlYsRUFBSVcsU0FBUU0sSUFDUkEsRUFBS1QsTUFBTUUsTUFBUSxXQUV2QlQsRUFBa0JPLE1BQU1DLGdCQUFrQixtQkFDMUNQLEVBQWVNLE1BQU1DLGdCQUFrQixRQUN2Q1AsRUFBZU0sTUFBTUUsTUFBUSxTRjVGYnpELFNBQVNDLGVBQWUsY0FZaERJLEVBQUtrRCxNQUFNVSxRQUFVLFFBc0NyQnpELEVBQWUrQyxNQUFNVSxRQUFVLE9HOUQvQixNQUFNLEVBQWNqRSxTQUFTQyxlQUFlLFFBQ3RDLEVBQXFCRCxTQUFTQyxlQUFlLGVBQzdDLEVBQWtCRCxTQUFTQyxlQUFlLFlBQzFDLEVBQWtCRCxTQUFTQyxlQUFlLFlBQzFDLEVBQWdCRCxTQUFTQyxlQUFlLFNBQ3hDK0IsRUFBb0JoQyxTQUFTQyxlQUFlLGlCQUM1Q1UsRUFBeUJYLFNBQVNDLGVBQWUsWUFRakRpRSxHQU5VbEUsU0FBU0ksY0FBYyxZQUN0QkosU0FBU0ksY0FBYyxpQkFDM0JKLFNBQVNJLGNBQWMsYUFDcEJKLFNBQVNDLGVBQWUsUUFDekJELFNBQVNJLGNBQWMsU0FDYkosU0FBU0MsZUFBZSxzQkFDN0JELFNBQVNDLGVBQWUsZ0JBQ3RDa0UsRUFBa0JuRSxTQUFTQyxlQUFlLG9CQUMxQ21FLEVBQWdCcEUsU0FBU0MsZUFBZSxnQkFFeENvRSxFQUFXckUsU0FBU0MsZUFBZSxZQXlDekMsU0FBU3FFLElBQ05ILEVBQWdCWixNQUFNVSxRQUFXLE9BeENwQyxFQUFZTSxRQUFVLEtITU8sU0FBdEJsRSxFQUFLa0QsTUFBTVUsVUFDVjlELEVBQVNxRSxnQkFBZ0IsU0FDekJuRSxFQUFLbUUsZ0JBQWdCLFNBQ3JCbkUsRUFBS3lCLGFBQWEsUUFBUSxjQUMxQjNCLEVBQVMyQixhQUFhLFFBQVEsYUFDOUIyQyxZQUFXLEtBQ1B0RSxFQUFTb0QsTUFBTVUsUUFBVSxPQUN6QjVELEVBQUtrRCxNQUFNVSxRQUFVLFVBQ3RCLE9HYlgsRUFBbUJNLFFBQVUsS0hrQlksV0FBbENqRSxFQUFRb0UsYUFBYSxVQUNwQnBFLEVBQVFrRSxnQkFBZ0IsU0FDeEJsRSxFQUFRd0IsYUFBYSxRQUFRLFVBQzdCdkIsRUFBaUJpRSxnQkFBZ0IsU0FDakNqRSxFQUFpQnVCLGFBQWEsUUFBUSxNQUN0QzVCLEVBQWdCc0UsZ0JBQWdCLFNBQ2hDQyxZQUFXLEtBQ1hsRSxFQUFpQmdELE1BQU1VLFFBQVUsU0FDOUIsT0FJNkJVLE1BQWpDckUsRUFBUW9FLGFBQWEsVUFBMkQsV0FBbENwRSxFQUFRb0UsYUFBYSxZQUNsRXBFLEVBQVFrRSxnQkFBZ0IsU0FDeEJsRSxFQUFRd0IsYUFBYSxRQUFRLFVBQzdCdkIsRUFBaUJnRCxNQUFNVSxRQUFVLE9BQ2pDMUQsRUFBaUJpRSxnQkFBZ0IsU0FDakNqRSxFQUFpQnVCLGFBQWEsUUFBUSxRQUN0QzVCLEVBQWdCc0UsZ0JBQWdCLFNBQ2hDdEUsRUFBZ0I0QixhQUFhLFFBQVEsV0dwQzdDLEVBQWdCeUMsUUFBVSxLSFB0QmxFLEVBQUt5QixhQUFhLFFBQVEsYUFDMUIzQixFQUFTMkIsYUFBYSxRQUFRLG1CQUM5QjJDLFlBQVcsS0FDUHBFLEVBQUtrRCxNQUFNVSxRQUFVLE9BQ3pCOUQsRUFBU29ELE1BQU1VLFFBQVUsU0FFdEIsTUdFUCxFQUFnQk0sUUFBVSxLSHlDdEI5RCxFQUFTK0QsZ0JBQWdCLFNBRVcsU0FBakNoRSxFQUFlK0MsTUFBTVUsU0FDcEJ6RCxFQUFlZ0UsZ0JBQWdCLFNBQy9CaEUsRUFBZXNCLGFBQWEsUUFBUyxTQUNyQ3JCLEVBQVNxQixhQUFhLFFBQVEsZUFDOUIyQyxZQUFXLEtBQ1hqRSxFQUFlK0MsTUFBTVUsUUFBVSxTQUM1QixNQUVvQyxTQUFqQ3pELEVBQWUrQyxNQUFNVSxTQUMzQnpELEVBQWUrQyxNQUFNVSxRQUFVLE9BQy9CekQsRUFBZXNCLGFBQWEsUUFBUyxZQUNyQ3JCLEVBQVNxQixhQUFhLFFBQVEsZ0JBSDNCLEdHbERYRSxFQUFrQnVDLFFBQVUsSUFBTXhDLElBQ2xDcEIsRUFBdUI0RCxRQUFVLElBQU03RCxJQUN2QyxFQUFjNkQsUUFBVSxLQXFDckJKLEVBQWdCWixNQUFNVSxRQUFVLFFBQ2hDQyxFQUFXWCxNQUFNVSxRQUFVLFlBQzNCQyxFQUFXcEMsYUFBYSxRQUFRLFlBdENuQ3NDLEVBQWNHLFFBQVUsSUFBTUQsSUFDOUJELEVBQVNFLFFBQVUsSUFXbkIsU0FBc0JLLEdBQ25CLE9BQU9BLEdBQ0osSUFBYSxhQUFSQSxFQUNGTixJQUNBTyxhQUFhQyxRQUFRLE9BQVEsS0FDaEMsTUFDQSxJQUFhLGVBQVJGLEVBQ0xDLGFBQWFDLFFBQVEsT0FBUSxLQUM3QixNQUNBLEtBQUtGLEVBQU8sY0FDVEMsYUFBYUMsUUFBUSxPQUFPLEtBR3ZCLGFBQVJGLElBQ0tDLGFBQWFFLFFBQVEsU0FDdkJGLGFBQWFDLFFBQVEsT0FBTyxNQTFCWkUsQ0FBYSxhQUN0Q0MsT0FBT0MsT0FBU3hFLElBQ2hCdUUsT0FBT0MsT0FBU25ELEssR0NOQyxXQUdiLFNBQVNvRCxJQUVvQixJQUFyQkMsVUFBVUMsUUFNVkMsS0FBS0MsV0FBV0gsV0FLeEJELEVBQVdLLFFBQVUsU0FHckJMLEVBQVdNLFVBQVVGLFdBQWEsU0FBU0csR0FnQnZDLEdBZEFBLEVBQU9KLEtBQUtLLGdCQUFnQkQsR0FFNUJKLEtBQUtNLFdBQVdGLEVBQUtHLFFBRXJCUCxLQUFLUSxNQUFNSixFQUFLSyxTQUVoQlQsS0FBS1UsY0FFTFYsS0FBS1csU0FDYyxPQUFkUCxFQUFLUSxLQUFpQlIsRUFBS1EsS0FDM0JaLEtBQUthLFFBQVFDLFFBQVFDLGVBQWUsUUFBV2YsS0FBS2EsUUFBUUMsUUFBUUYsS0FDckUsSUFBSUksT0FHSGhCLEtBQUtpQixLQUFNLE1BQU0sSUFBSUMsTUFBTSxzQ0FFaENsQixLQUFLbUIsVUFFTG5CLEtBQUtvQixXQUlUdkIsRUFBV00sVUFBVWtCLFVBQVksQ0FFN0JDLEdBQUssQ0FFREMsT0FBUyxDQUFDLFVBQVcsV0FBWSxRQUFTLFFBQVMsTUFBTyxPQUFRLE9BQVEsU0FBVSxZQUFhLFVBQVcsV0FBWSxZQUV4SEMsS0FBTyxDQUFDLFNBQVUsU0FBVSxVQUFXLFlBQWEsV0FBWSxTQUFVLFlBRTFFQyxrQkFBb0IsU0FBU0MsRUFBS2QsR0FBTyxPQUFPZixFQUFXOEIseUJBQXlCRCxFQUFLZCxFQUFNWixPQUMvRjRCLGlCQUFtQixTQUFTRixFQUFLZCxHQUFPLE9BQU9mLEVBQVdnQyx3QkFBd0JILEVBQUtkLEVBQU1aLFNBS3JHSCxFQUFXTSxVQUFVSyxNQUFRLFNBQVNDLEdBRWxDVCxLQUFLOEIsVUFBWSxHQUVqQjlCLEtBQUsrQixRQUFVLEdBQ2YvQixLQUFLK0IsUUFBUW5CLEtBQU8sR0FDcEJaLEtBQUsrQixRQUFRQyxNQUFRLEdBQ3JCaEMsS0FBSytCLFFBQVFFLFdBQWEsR0FDMUJqQyxLQUFLK0IsUUFBUUcsWUFBYyxHQUMzQmxDLEtBQUsrQixRQUFRSSxhQUFlLEdBRTVCbkMsS0FBS2lCLEtBQU8sS0FDWmpCLEtBQUtvQyxNQUFRLEtBQ2JwQyxLQUFLcUMsVUFBWSxHQUVqQnJDLEtBQUtzQyxTQUFXLEdBRWhCdEMsS0FBS3VDLGNBQWM5QixJQUl2QlosRUFBV00sVUFBVUUsZ0JBQWtCLFNBQVNELEdBRTVDLElBQUlvQyxFQUFNLENBQ05qQyxPQUFTLEtBQ1RLLEtBQU8sS0FDUEgsUUFBVSxJQUlkLEdBQW9CLElBQWhCTCxFQUFLTCxPQUVMLE1BQU0sSUFBSW1CLE1BQU0seUNBSWYsR0FBb0IsSUFBaEJkLEVBQUtMLE9BR1YsSUFHaUMsaUJBQWhCMEMsWUFBNkJyQyxFQUFLLGFBQWNxQyxZQUFlckMsRUFBSyxLQUN6RCxpQkFBWkEsRUFBSyxJQUFpQyxPQUFaQSxFQUFLLElBQXNDLElBQXJCQSxFQUFLLEdBQUdzQyxVQUNuQyxpQkFBckJ0QyxFQUFLLEdBQUd1QyxVQUdHLGlCQUFadkMsRUFBSyxHQUdoQm9DLEVBQUlqQyxPQUFTSCxFQUFLLE9BSWpCLENBSUQsR0FGQW9DLEVBQUkvQixRQUFVTCxFQUFLLFFBRVcsSUFBbkJBLEVBQUssR0FBR0csT0FLZixNQUFNLElBQUlXLE1BQU0scUNBSmhCc0IsRUFBSWpDLE9BQVNILEVBQUssR0FBR0csWUFPRyxJQUFqQkgsRUFBSyxHQUFHUSxPQUNmNEIsRUFBSTVCLEtBQU9SLEVBQUssR0FBR1EsV0FTM0I0QixFQUFJakMsT0FBU0gsRUFBSyxHQUdkQSxFQUFLTCxRQUFVLElBQ2Z5QyxFQUFJNUIsS0FBT1IsRUFBSyxJQUloQkEsRUFBS0wsUUFBVSxJQUNmeUMsRUFBSS9CLFFBQVVMLEVBQUssSUFNM0IsT0FBT29DLEdBSVgzQyxFQUFXWSxRQUFVLENBQ2pCNkIsU0FBVyxLQUNYTSxVQUFXLEVBQ1hDLFlBQWMsUUFDZEMsVUFBWSxJQUNaQyxrQkFBb0IsRUFDcEJDLFdBQVksRUFDWkMsa0JBQW9CLE9BQ3BCQyxLQUFNLEVBQ05DLEtBQU0sRUFDTkMsZUFBZ0IsRUFDaEJDLGFBQWMsRUFDZEMsY0FBZSxHQUluQnpELEVBQVdNLFVBQVVvQyxjQUFnQixTQUFTZ0IsR0FFMUN2RCxLQUFLd0QsU0FBVyxHQUVoQixJQUFJL0MsRUFBVSxHQUdkLElBQUssSUFBSWdELEtBQVE1RCxFQUFXWSxRQUVwQlosRUFBV1ksUUFBUU0sZUFBZTBDLEtBQ2xDekQsS0FBS3dELFNBQVNDLEdBQVE1RCxFQUFXWSxRQUFRZ0QsSUFHekNGLEVBQVN4QyxlQUFlMEMsR0FDeEJoRCxFQUFRZ0QsR0FBUUYsRUFBU0UsR0FHcEJ6RCxLQUFLYSxRQUFRQyxRQUFRQyxlQUFlMEMsS0FDekNoRCxFQUFRZ0QsR0FBUXpELEtBQUthLFFBQVFDLFFBQVEyQyxTQUtiLElBQXJCaEQsRUFBUW1DLFdBQ1UsVUFBckJuQyxFQUFRbUMsVUFBeUJuQyxFQUFRbUMsU0FJekM1QyxLQUFLd0QsU0FBU1osVUFBVyxFQUh6QjVDLEtBQUt3RCxTQUFTWixVQUFXLFFBTUUsSUFBeEJuQyxFQUFRb0MsY0FDZjdDLEtBQUt3RCxTQUFTWCxZQUFjcEMsRUFBUW9DLGtCQUVQLElBQXRCcEMsRUFBUXFDLFlBQ2Y5QyxLQUFLd0QsU0FBU1YsVUFBWXJDLEVBQVFxQyxnQkFFTCxJQUF0QnJDLEVBQVF1QyxZQUNXLFVBQXRCdkMsRUFBUXVDLFdBQTBCdkMsRUFBUXVDLFVBSTFDaEQsS0FBS3dELFNBQVNSLFdBQVksRUFIMUJoRCxLQUFLd0QsU0FBU1IsV0FBWSxRQU1PLElBQTlCdkMsRUFBUXdDLG9CQUNmakQsS0FBS3dELFNBQVNQLGtCQUFvQnhDLEVBQVF3QyxtQkFJZCxpQkFBckJ4QyxFQUFRNkIsZUFBcUUsSUFBckN0QyxLQUFLcUIsVUFBVVosRUFBUTZCLFlBQ3RFdEMsS0FBS3dELFNBQVNsQixTQUFXN0IsRUFBUTZCLFVBR3JDdEMsS0FBSzBELFlBQVkxRCxLQUFLd0QsU0FBU2xCLGVBR0YsSUFBbEI3QixFQUFRa0QsUUFDZmxELEVBQVFzQyxrQkFBb0J0QyxFQUFRa0QsWUFFQyxJQUE5QmxELEVBQVFzQyxvQkFFMEIsaUJBQTlCdEMsRUFBUXNDLG1CQUVYdEMsRUFBUXNDLG1CQUFxQixHQUFLdEMsRUFBUXNDLG1CQUFxQixJQUMvRC9DLEtBQUt3RCxTQUFTVCxrQkFBb0J0QyxFQUFRc0MsbUJBSVQsaUJBQTlCdEMsRUFBUXNDLG9CQUVYdEMsRUFBUXNDLGtCQUFrQmEsTUFBTSxXQUNoQzVELEtBQUt3RCxTQUFTVCxrQkFBb0JjLFNBQVNwRCxFQUFRc0Msa0JBQW1CLEtBS3RFL0MsS0FBS3dELFNBQVNULGtCQUFvQi9DLEtBQUtzQyxTQUFTZCxLQUFLc0MsUUFBUXJELEVBQVFzQyxtQkFBcUIsR0FHdEYvQyxLQUFLd0QsU0FBU1Qsa0JBQW9CLEdBQUsvQyxLQUFLd0QsU0FBU1Qsa0JBQW9CLEtBQ3pFL0MsS0FBS3dELFNBQVNULGtCQUFvQixXQU92QixJQUFoQnRDLEVBQVF5QyxLQUF1QyxVQUFoQnpDLEVBQVF5QyxNQUFtQyxJQUFoQnpDLEVBQVF5QyxNQUV6RWxELEtBQUt3RCxTQUFTTixJQUFNYSxFQUFNQyxVQUFVdkQsRUFBUXlDLFdBR3JCLElBQWhCekMsRUFBUTBDLEtBQXVDLFVBQWhCMUMsRUFBUTBDLE1BQW1DLElBQWhCMUMsRUFBUTBDLE1BRXpFbkQsS0FBS3dELFNBQVNMLElBQU1ZLEVBQU1DLFVBQVV2RCxFQUFRMEMsV0FJWCxJQUExQjFDLEVBQVEyQyxnQkFHc0IsaUJBQTFCM0MsRUFBUTJDLGVBQzBCLG1CQUFsQ3pELE9BQU9jLEVBQVEyQyxlQUV0QnBELEtBQUtpRSxJQUFJLGVBQWdCdEUsT0FBT2MsRUFBUTJDLGdCQUdGLG1CQUExQjNDLEVBQVEyQyxlQUNwQnBELEtBQUtpRSxJQUFJLGVBQWdCeEQsRUFBUTJDLHFCQUdOLElBQXhCM0MsRUFBUTRDLGNBR29CLGlCQUF4QjVDLEVBQVE0QyxhQUN3QixtQkFBaEMxRCxPQUFPYyxFQUFRNEMsYUFFdEJyRCxLQUFLaUUsSUFBSSxhQUFjdEUsT0FBT2MsRUFBUTRDLGNBR0YsbUJBQXhCNUMsRUFBUTRDLGFBQ3BCckQsS0FBS2lFLElBQUksYUFBY3hELEVBQVE0QyxtQkFHSCxJQUF6QjVDLEVBQVE2QyxlQUdxQixpQkFBekI3QyxFQUFRNkMsY0FDeUIsbUJBQWpDM0QsT0FBT2MsRUFBUTZDLGNBRXRCdEQsS0FBS2lFLElBQUksY0FBZXRFLE9BQU9jLEVBQVE2QyxlQUdGLG1CQUF6QjdDLEVBQVE2QyxjQUNwQnRELEtBQUtpRSxJQUFJLGNBQWV4RCxFQUFRNkMsZ0JBTTVDekQsRUFBV00sVUFBVUcsV0FBYSxTQUFTNEQsR0FFdkMsSUFBSTNELEVBQVN3RCxFQUFNSSxXQUFXRCxHQUU5QixJQUFLM0QsRUFFRCxNQUFNLElBQUlXLE1BQU0scUNBSWhCbEIsS0FBS2EsUUFBVU4sRUFHZixJQUFJNkQsRUFBS3BFLEtBQUthLFFBQVF1RCxHQUNsQkEsR0FBTUEsRUFBR3JFLE9BQVMsSUFDbEJzRSxFQUFrQixJQUFNRCxHQUFNcEUsT0FNMUNILEVBQVdNLFVBQVVPLFlBQWMsV0FFM0JWLEtBQUthLFFBQVF5RCxVQUFVdkUsT0FBUyxJQUNoQ0MsS0FBS2EsUUFBUXlELFdBQWEsS0FFOUJ0RSxLQUFLYSxRQUFReUQsV0FBYSxhQUcxQnRFLEtBQUs4QixVQUFVeUMsTUFBUTdKLFNBQVM4SixjQUFjLFNBRTlDeEUsS0FBSzhCLFVBQVUyQyxLQUFPL0osU0FBUzhKLGNBQWMsU0FDN0N4RSxLQUFLOEIsVUFBVXlDLE1BQU1HLFlBQVkxRSxLQUFLOEIsVUFBVTJDLE1BRWhEekUsS0FBSzhCLFVBQVVsRixLQUFPbEMsU0FBUzhKLGNBQWMsU0FDN0N4RSxLQUFLOEIsVUFBVXlDLE1BQU1HLFlBQVkxRSxLQUFLOEIsVUFBVWxGLE1BR2hEb0QsS0FBS2EsUUFBUTZELFlBQVkxRSxLQUFLOEIsVUFBVXlDLFFBSTVDMUUsRUFBV00sVUFBVXdFLGVBQWlCLFNBQVMvRCxHQUUzQyxPQUEwQixJQUF0QlosS0FBS3dELFNBQVNOLE1BQXVDLElBQXRCbEQsS0FBS3dELFNBQVNMLE1BS2pEdkMsRUFBT21ELEVBQU1DLFVBQVVwRCxNQUdHLElBQXRCWixLQUFLd0QsU0FBU04sS0FBaUJsRCxLQUFLd0QsU0FBU04sSUFBSTBCLFVBQVloRSxFQUFLZ0UsWUFJNUMsSUFBdEI1RSxLQUFLd0QsU0FBU0wsS0FBaUJuRCxLQUFLd0QsU0FBU0wsSUFBSXlCLFVBQVloRSxFQUFLZ0UsYUFTMUUvRSxFQUFXTSxVQUFVUSxTQUFXLFNBQVNDLEdBRXJDQSxFQUFPbUQsRUFBTUMsVUFBVXBELEdBRWxCWixLQUFLMkUsZUFBZS9ELEtBSXpCWixLQUFLaUIsS0FBT0wsRUFDWlosS0FBS29DLE1BQVEsSUFBSXBCLEtBQUtoQixLQUFLaUIsS0FBSzRELGNBQWU3RSxLQUFLaUIsS0FBSzZELFdBQVksS0FJekVqRixFQUFXTSxVQUFVNEUsbUJBQXFCLFNBQVNuRSxFQUFNb0UsR0FDckQsSUFBSUMsRUFBT2pGLEtBQUtzQyxTQUNoQixPQUFPMEMsRUFBT0UsUUFBUSx3RUFBd0UsU0FBU3hELEdBQ25HLE9BQU91RCxFQUFLRSxpQkFBaUJ6RCxFQUFLZCxPQUsxQ2YsRUFBV00sVUFBVWlGLGlCQUFtQixTQUFTeEUsR0FJekNBLE9BRmdCLElBQVRBLEVBRUFaLEtBQUtvQyxNQUdMMkIsRUFBTUMsVUFBVXBELEdBSTNCLElBQUl5RSxFQUFRLElBQUlyRSxLQUFLSixFQUFLZ0UsV0FDMUJTLEVBQU1DLFFBQVEsR0FHZCxJQUFJQyxFQUFXRixFQUFNRyxVQUFZeEYsS0FBS3dELFNBQVNULGtCQUFvQixHQUMvRHdDLEVBQVcsSUFDWEEsR0FBWSxHQUloQixJQUFJTixFQUFPakYsS0FBS3NDLFNBQ1ptRCxFQUFPekYsS0FBS3dELFNBQVNYLFlBQVlxQyxRQUFRLHlDQUF5QyxTQUFTeEQsR0FDM0YsT0FBT3VELEVBQUtFLGlCQUFpQnpELEVBQUsyRCxNQUlsQzdELEVBQU94QixLQUFLMEYsaUJBQWlCOUUsR0FDN0IrRSxFQUFjLElBQUkzRSxLQUFLcUUsRUFBTU8sVUFBWSxLQUFNUCxFQUFNUCxXQUFhLEVBQUcsR0FBR2UsVUFFeEVDLEdBQVcsRUFRZixPQU5JVCxFQUFNTyxZQUFjNUYsS0FBS2lCLEtBQUsyRSxXQUFhUCxFQUFNUCxhQUFlOUUsS0FBS2lCLEtBQUs2RCxhQUUxRWdCLEVBQVVQLEVBQVd2RixLQUFLaUIsS0FBSzRFLFVBQVksR0FJeEMsQ0FDSEosS0FBT0EsRUFDUGpFLEtBQU9BLEVBQ1B1RSxNQUFRUixFQUFXLEVBQ25CTyxRQUFVQSxFQUNWRSxJQUFNVCxFQUFXSSxJQUt6QjlGLEVBQVdNLFVBQVV1RixpQkFBbUIsU0FBUzlFLEdBSXpDQSxPQUZnQixJQUFUQSxFQUVBWixLQUFLb0MsTUFHTDJCLEVBQU1DLFVBQVVwRCxHQUkzQixJQUFJcUYsRUFBUSxHQUVSWixFQUFRLElBQUlyRSxLQUFLSixFQUFLZ0UsV0FDMUJTLEVBQU1DLFFBQVEsR0FDZEQsRUFBTWEsU0FBUyxFQUFHLEVBQUcsRUFBRyxHQUd4QixJQUFJQyxFQUFXZCxFQUFNRyxVQUFZeEYsS0FBS3dELFNBQVNULGtCQUFvQixHQUMvRG9ELEVBQVcsSUFDWEEsR0FBWSxHQUtoQixJQUZBLElBQUlDLEVBQU0sSUFBSXBGLEtBQUtxRSxFQUFNVCxXQUVsQnVCLEVBQVcsR0FFZEMsRUFBSWQsUUFBUWMsRUFBSVAsVUFBWSxHQUU1QkksRUFBTUksUUFBUSxJQUFJckYsS0FBS29GLEVBQUl4QixZQUUzQnVCLElBSUpDLEVBQU0sSUFBSXBGLEtBQUtxRSxFQUFNVCxXQUVyQixHQUVJcUIsRUFBTUssS0FBSyxJQUFJdEYsS0FBS29GLEVBQUl4QixZQUV4QndCLEVBQUlkLFFBQVFjLEVBQUlQLFVBQVksU0FFTCxJQUFsQk8sRUFBSVAsV0FLYixJQUZBLElBQUlVLEVBQU8sR0FBS04sRUFBTWxHLE9BRWZ3RyxFQUFPLEdBRVZOLEVBQU1LLEtBQUssSUFBSXRGLEtBQUtvRixFQUFJeEIsWUFFeEJ3QixFQUFJZCxRQUFRYyxFQUFJUCxVQUFZLEdBRTVCVSxJQUlKLE9BQU9OLEdBSVhwRyxFQUFXTSxVQUFVZ0IsUUFBVSxXQUMzQixJQUFJcUYsRUFBR0MsRUFFSEMsRUFBTzFHLEtBT1gsSUFKQUEsS0FBSzhCLFVBQVU2RSxTQUFVLEVBR3pCM0csS0FBSzhCLFVBQVU4RSxTQUFXLEdBQ3JCSixFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDZnhHLEtBQUs4QixVQUFVOEUsU0FBU04sS0FBSzVMLFNBQVM4SixjQUFjLE9BQ3BEeEUsS0FBSzhCLFVBQVUyQyxLQUFLQyxZQUFZMUUsS0FBSzhCLFVBQVU4RSxTQUFTSixJQUk1RCxJQUFJSyxFQUFlbk0sU0FBUzhKLGNBQWMsTUFzRDFDLElBckRBcUMsRUFBYXJLLGFBQWEsVUFBVyxHQUNyQ3dELEtBQUs4QixVQUFVOEUsU0FBUyxHQUFHdEMsVUFBWSx1QkFDdkN0RSxLQUFLOEIsVUFBVThFLFNBQVMsR0FBR2xDLFlBQVltQyxHQUV2QzdHLEtBQUs4QixVQUFVZ0YsU0FBV3BNLFNBQVM4SixjQUFjLE9BQ2pEeEUsS0FBSzhCLFVBQVVnRixTQUFTeEMsVUFBWSx3QkFDcEN1QyxFQUFhbkMsWUFBWTFFLEtBQUs4QixVQUFVZ0YsVUFDeEM5RyxLQUFLOEIsVUFBVUUsTUFBUXRILFNBQVM4SixjQUFjLE9BQzlDeEUsS0FBSzhCLFVBQVVFLE1BQU1zQyxVQUFZLHdCQUNqQ3VDLEVBQWFuQyxZQUFZMUUsS0FBSzhCLFVBQVVFLE9BQ3hDaEMsS0FBSzhCLFVBQVVpRixVQUFZck0sU0FBUzhKLGNBQWMsT0FDbER4RSxLQUFLOEIsVUFBVWlGLFVBQVV6QyxVQUFZLHlCQUNyQ3VDLEVBQWFuQyxZQUFZMUUsS0FBSzhCLFVBQVVpRixXQUdwQy9HLEtBQUt3RCxTQUFTUixZQUNkaEQsS0FBSzhCLFVBQVVrRixRQUFVdE0sU0FBUzhKLGNBQWMsT0FDaER4RSxLQUFLOEIsVUFBVWtGLFFBQVExQyxVQUFZLHNCQUNuQ3RFLEtBQUs4QixVQUFVbUYsU0FBV3ZNLFNBQVM4SixjQUFjLE9BQ2pEeEUsS0FBSzhCLFVBQVVtRixTQUFTM0MsVUFBWSx1QkFFSSxTQUFwQ3RFLEtBQUt3RCxTQUFTUCxtQkFDZGpELEtBQUs4QixVQUFVZ0YsU0FBU3BDLFlBQVkxRSxLQUFLOEIsVUFBVWtGLFNBQ25EaEgsS0FBSzhCLFVBQVVnRixTQUFTcEMsWUFBWTFFLEtBQUs4QixVQUFVbUYsV0FFVixVQUFwQ2pILEtBQUt3RCxTQUFTUCxtQkFDbkJqRCxLQUFLOEIsVUFBVWlGLFVBQVVyQyxZQUFZMUUsS0FBSzhCLFVBQVVrRixTQUNwRGhILEtBQUs4QixVQUFVaUYsVUFBVXJDLFlBQVkxRSxLQUFLOEIsVUFBVW1GLFlBR3BEakgsS0FBSzhCLFVBQVVnRixTQUFTcEMsWUFBWTFFLEtBQUs4QixVQUFVa0YsU0FDbkRoSCxLQUFLOEIsVUFBVWlGLFVBQVVyQyxZQUFZMUUsS0FBSzhCLFVBQVVtRixXQUl4RGpILEtBQUs4QixVQUFVa0YsUUFBUUUsaUJBQWlCLFNBQVMsU0FBU0MsR0FDdERULEVBQUtQLFdBQ0wsSUFBSXZGLEVBQU8sSUFBSUksS0FBSzBGLEVBQUt0RSxNQUFNd0MsV0FDL0JoRSxFQUFLMEUsUUFBUSxHQUNib0IsRUFBS1UsV0FBVyxRQUFTeEcsRUFBTXVHLE1BQ2hDLEdBQ0huSCxLQUFLOEIsVUFBVW1GLFNBQVNDLGlCQUFpQixTQUFTLFNBQVNDLEdBQ3ZEVCxFQUFLSCxPQUNMLElBQUkzRixFQUFPLElBQUlJLEtBQUswRixFQUFLdEUsTUFBTXdDLFdBQy9CaEUsRUFBSzBFLFFBQVEsR0FDYm9CLEVBQUtVLFdBQVcsUUFBU3hHLEVBQU11RyxNQUNoQyxJQUlQbkgsS0FBSzhCLFVBQVU4RSxTQUFTLEdBQUd0QyxVQUFZLHVCQUN2Q3VDLEVBQWF2QyxVQUFZLG1CQUN6QnRFLEtBQUs4QixVQUFVTixLQUFPLEdBQ2pCZ0YsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ2Z4RyxLQUFLOEIsVUFBVU4sS0FBSzhFLEtBQUs1TCxTQUFTOEosY0FBYyxPQUNoRHhFLEtBQUs4QixVQUFVOEUsU0FBUyxHQUFHbEMsWUFBWTFFLEtBQUs4QixVQUFVTixLQUNsRHhCLEtBQUs4QixVQUFVTixLQUFLekIsT0FBUyxJQVFyQyxJQUhBQyxLQUFLOEIsVUFBVXVGLFNBQVcsR0FDMUJySCxLQUFLOEIsVUFBVXdGLFNBQVcsR0FFckJkLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUlmLElBSEF4RyxLQUFLOEIsVUFBVXVGLFNBQVNmLEtBQUs1TCxTQUFTOEosY0FBYyxPQUNwRHhFLEtBQUs4QixVQUFVbEYsS0FBSzhILFlBQVkxRSxLQUFLOEIsVUFBVXVGLFNBQVNiLElBRW5EQyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDZnpHLEtBQUs4QixVQUFVd0YsU0FBU2hCLEtBQUs1TCxTQUFTOEosY0FBYyxPQUNwRHhFLEtBQUs4QixVQUFVdUYsU0FBU2IsR0FBRzlCLFlBQVkxRSxLQUFLOEIsVUFBVXdGLFNBQWEsRUFBSmQsRUFBUUMsSUFDdkV6RyxLQUFLOEIsVUFBVXdGLFNBQWEsRUFBSmQsRUFBUUMsR0FBR1MsaUJBQWlCLFFBQVMsU0FBVUssR0FDbkUsT0FBTyxTQUFVSixHQUNiVCxFQUFLVSxXQUFXLE9BQVFWLEVBQUtjLFFBQVFELEdBQVFKLElBRlEsQ0FJdEQsRUFBSlgsRUFBUUMsSUFBSSxJQU0zQjVHLEVBQVdNLFVBQVVzSCxhQUFlLFNBQVN4QixHQUV6Q0EsRUFBUUEsRUFBTXlCLFFBR2QsSUFBSyxJQUFJbEIsRUFBSSxFQUFHQSxFQUFJUCxFQUFNbEcsT0FBUXlHLElBQzlCUCxFQUFNTyxHQUFLekMsRUFBTUMsVUFBVWlDLEVBQU1PLElBQ2pDUCxFQUFNTyxHQUFHTixTQUFTLEVBQUcsRUFBRyxFQUFHLEdBQzNCRCxFQUFNTyxHQUFLUCxFQUFNTyxHQUFHNUIsVUFJeEIsSUFBSzRCLEVBQUlQLEVBQU1sRyxPQUFTLEVBQUd5RyxHQUFLLEVBQUdBLElBRTNCeEcsS0FBS3FDLFVBQVV5QixRQUFRbUMsRUFBTU8sSUFBTSxHQUNuQ3hHLEtBQUtxQyxVQUFVaUUsS0FBS0wsRUFBTU8sS0FNdEMzRyxFQUFXTSxVQUFVd0gsZUFBaUIsU0FBUzFCLEdBRTNDQSxFQUFRQSxFQUFNeUIsUUFHZCxJQUFLLElBQUlsQixFQUFJLEVBQUdBLEVBQUlQLEVBQU1sRyxPQUFReUcsSUFDOUJQLEVBQU1PLEdBQUt6QyxFQUFNQyxVQUFVaUMsRUFBTU8sSUFDakNQLEVBQU1PLEdBQUdOLFNBQVMsRUFBRyxFQUFHLEVBQUcsR0FDM0JELEVBQU1PLEdBQUtQLEVBQU1PLEdBQUc1QixVQUl4QixJQUFJMkMsRUFDSixJQUFLZixFQUFJUCxFQUFNbEcsT0FBUyxFQUFHeUcsR0FBSyxFQUFHQSxLQUUvQmUsRUFBUXZILEtBQUtxQyxVQUFVeUIsUUFBUW1DLEVBQU1PLE1BQ3hCLEdBQ1R4RyxLQUFLcUMsVUFBVXVGLE9BQU9MLEVBQU8sSUFNekMxSCxFQUFXTSxVQUFVMEgsa0JBQW9CLFdBRXJDLEtBQU83SCxLQUFLcUMsVUFBVXRDLFFBQ2xCQyxLQUFLcUMsVUFBVXlGLE9BS3ZCakksRUFBV00sVUFBVWlCLFFBQVUsV0FFM0IsSUFBSVksRUFBUWhDLEtBQUtvRixpQkFBaUJwRixLQUFLb0MsT0FFdkNwQyxLQUFLd0gsUUFBVXhGLEVBQU1SLEtBQUtrRyxRQUUxQjFILEtBQUs4QixVQUFVRSxNQUFNekYsWUFBY3lGLEVBQU15RCxLQU96QyxJQUpBLElBR0lzQyxFQTRDQXRCLEVBL0NBdUIsRUFBVWhJLEtBQUt3RCxTQUFpQixTQUFJLElBQU0sR0FJckNnRCxFQUFJeEUsRUFBTVIsS0FBS3pCLE9BQVMsRUFBR3lHLEdBQUssRUFBR0EsSUFDeEN1QixFQUFPL0YsRUFBTVIsS0FBS2dGLEdBQUdYLFVBQ3JCN0YsS0FBSzhCLFVBQVV3RixTQUFTZCxHQUFHakssWUFBZXdMLEVBQU8sR0FBS0MsRUFBU0QsRUFBT0EsRUFHbEUvSCxLQUFLcUMsVUFBVXlCLFFBQVE5QixFQUFNUixLQUFLZ0YsR0FBRzVCLFlBQWMsRUFDbkQ1RSxLQUFLOEIsVUFBVXdGLFNBQVNkLEdBQUdsQyxVQUFZLHNCQUd2Q3RFLEtBQUs4QixVQUFVd0YsU0FBU2QsR0FBR3RILGdCQUFnQixTQUtuRCxJQUFLc0gsRUFBSSxFQUFHQSxFQUFJeEUsRUFBTStELE1BQVEsRUFBR1MsSUFDN0J4RyxLQUFLOEIsVUFBVXdGLFNBQVNkLEdBQUdsQyxVQUFZLHNCQVkzQyxJQVRJdEMsRUFBTThELFNBQVcsSUFDYjlGLEtBQUs4QixVQUFVd0YsU0FBU3RGLEVBQU04RCxTQUFTeEIsVUFBVXZFLE9BQVMsRUFDMURDLEtBQUs4QixVQUFVd0YsU0FBU3RGLEVBQU04RCxTQUFTeEIsV0FBYSxzQkFHcER0RSxLQUFLOEIsVUFBVXdGLFNBQVN0RixFQUFNOEQsU0FBU3hCLFVBQVksc0JBSXREa0MsRUFBSXhFLEVBQU1nRSxJQUFLUSxFQUFJeEUsRUFBTVIsS0FBS3pCLE9BQVF5RyxJQUN2Q3hHLEtBQUs4QixVQUFVd0YsU0FBU2QsR0FBR2xDLFVBQVksa0JBSTNDLElBQUtrQyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFBSyxDQUNwQixJQUFJRSxFQUFPMUcsS0FDWEEsS0FBSzhCLFVBQVVOLEtBQUtnRixHQUFHakssWUFBY3lELEtBQUt3RCxTQUFTVixVQUFVb0MsUUFBUSw4QkFBOEIsU0FBU3hELEdBQ3hHLE9BQU9nRixFQUFLcEUsU0FBUzJGLGdCQUNqQnZHLEdBQ0M4RSxFQUFJRSxFQUFLbEQsU0FBU1Qsa0JBQW9CLEdBQUssTUFPeEQsR0FBSS9DLEtBQUsrQixRQUFRSSxhQUFhcEMsT0FBUyxFQUFHLENBQ3RDLElBQUlhLEVBQU9vQixFQUFNUixLQUFLUSxFQUFNK0QsT0FJNUIsSUFGQS9GLEtBQUs4QixVQUFVRSxNQUFNOUMsZ0JBQWdCLFNBRWhDdUgsRUFBSSxFQUFHQSxFQUFJekcsS0FBSytCLFFBQVFJLGFBQWFwQyxPQUFRMEcsSUFDOUN6RyxLQUFLK0IsUUFBUUksYUFBYXNFLEdBQUd5QixLQUFLbEksS0FFOUJZLEVBQUtrRSxXQUVMOUUsS0FBSzhCLFVBQVVFLE1BRWYsQ0FDSStELE1BQVEsSUFBSS9FLEtBQUtKLEVBQUtnRSxXQUN0Qm9CLElBQU0sSUFBSWhGLEtBQUtKLEVBQUtpRSxjQUFlakUsRUFBS2tFLFdBQWEsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEtBQ3ZFcUQsYUFBZW5HLEVBQU1nRSxJQUFNaEUsRUFBTStELE1BQVEsSUFLekQsR0FBSS9GLEtBQUsrQixRQUFRRSxXQUFXbEMsT0FBUyxFQUNqQyxJQUFLeUcsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBSWYsSUFGQXhHLEtBQUs4QixVQUFVTixLQUFLZ0YsR0FBR3RILGdCQUFnQixTQUVsQ3VILEVBQUksRUFBR0EsRUFBSXpHLEtBQUsrQixRQUFRRSxXQUFXbEMsT0FBUTBHLElBQzVDekcsS0FBSytCLFFBQVFFLFdBQVd3RSxHQUFHeUIsS0FBS2xJLE1BRTNCd0csRUFBSXhHLEtBQUt3RCxTQUFTVCxrQkFBb0IsR0FBSyxFQUU1Qy9DLEtBQUs4QixVQUFVTixLQUFLZ0YsR0FFcEIsQ0FDSTRCLFNBQVc1QixJQU0vQixHQUFJeEcsS0FBSytCLFFBQVFHLFlBQVluQyxPQUFTLEVBQ2xDLElBQUt5RyxFQUFJLEVBQUdBLEVBQUl4RSxFQUFNUixLQUFLekIsT0FBUXlHLElBSS9CLElBRkF4RyxLQUFLOEIsVUFBVXdGLFNBQVNkLEdBQUd0SCxnQkFBZ0IsU0FFdEN1SCxFQUFJLEVBQUdBLEVBQUl6RyxLQUFLK0IsUUFBUUcsWUFBWW5DLE9BQVEwRyxJQUM3Q3pHLEtBQUsrQixRQUFRRyxZQUFZdUUsR0FBR3lCLEtBQUtsSSxLQUU3QixJQUFJZ0IsS0FBS2dCLEVBQU1SLEtBQUtnRixHQUFHNUIsV0FFdkI1RSxLQUFLOEIsVUFBVXdGLFNBQVNkLEdBRXhCLENBQ0k2QixVQUFhckcsRUFBTThELFNBQVdVLEVBQzlCOEIsV0FBY3RJLEtBQUtxQyxVQUFVeUIsUUFBUTlCLEVBQU1SLEtBQUtnRixHQUFHNUIsWUFBYyxFQUNqRTJELGdCQUFtQi9CLEVBQUl4RSxFQUFNK0QsTUFDN0J5QyxlQUFrQnhHLEVBQU0rRCxPQUFTUyxHQUFLQSxHQUFLeEUsRUFBTWdFLElBQ2pEeUMsWUFBZXpHLEVBQU1nRSxJQUFNUSxFQUMzQjRCLFNBQVcsQ0FBQ00sRUFBR2xDLEVBQUUsRUFBR21DLEVBQUdDLEtBQUtDLE1BQU1yQyxFQUFFLE9BUzVEM0csRUFBV00sVUFBVWlILFdBQWEsU0FBUzNCLEVBQU03RSxFQUFNdUcsR0FDbkQsR0FBS25ILEtBQUsrQixRQUFRaEIsZUFBZTBFLEdBRWpDLElBQUssSUFBSWUsRUFBSSxFQUFHQSxFQUFJeEcsS0FBSytCLFFBQVEwRCxHQUFNMUYsT0FBUXlHLEtBQzNDLFNBQVVzQyxFQUFVQyxHQUVoQjVKLFlBQVcsV0FFUDJKLEVBQVNaLEtBQUthLEVBQVU1QixFQUFPLElBQUluRyxLQUFLSixFQUFLZ0UsY0FDOUMsR0FMUCxDQU1HNUUsS0FBSytCLFFBQVEwRCxHQUFNZSxHQUFJeEcsT0FNbENILEVBQVdNLFVBQVU4RCxJQUFNLFNBQVN3QixFQUFNcUQsR0FFdEMsR0FBdUIsbUJBQWJBLEVBUU4sTUFBTSxJQUFJNUgsTUFBTSwwQ0FJcEIsT0FWSWxCLEtBQUsrQixRQUFRMEQsR0FBTWEsS0FBS3dDLEdBVXJCOUksTUFJWEgsRUFBV00sVUFBVTZJLFlBQWMsU0FBU0YsR0FDeEMsT0FBTzlJLEtBQUtpRSxJQUFJLE9BQVE2RSxJQUU1QmpKLEVBQVdNLFVBQVU4SSxjQUFnQixTQUFTSCxHQUMxQyxPQUFPOUksS0FBS2lFLElBQUksUUFBUzZFLElBRTdCakosRUFBV00sVUFBVWtELFlBQWMsU0FBU3lGLEdBQ3hDLE9BQU85SSxLQUFLaUUsSUFBSSxhQUFjNkUsSUFFbENqSixFQUFXTSxVQUFVbUQsYUFBZSxTQUFTd0YsR0FDekMsT0FBTzlJLEtBQUtpRSxJQUFJLGNBQWU2RSxJQUVuQ2pKLEVBQVdNLFVBQVVpRCxjQUFnQixTQUFTMEYsR0FDMUMsT0FBTzlJLEtBQUtpRSxJQUFJLGVBQWdCNkUsSUFJcENqSixFQUFXTSxVQUFVK0ksSUFBTSxTQUFTdEksR0FPaEMsT0FMQVosS0FBS1csU0FBU0MsR0FFZFosS0FBS21KLFVBR0VuSixNQUlYSCxFQUFXTSxVQUFVK0MsSUFBTSxTQUFTdEMsR0FlaEMsT0FYSVosS0FBS3dELFNBQVNOLE1BRmR0QyxHQUVvQm1ELEVBQU1DLFVBQVVwRCxHQVF4Q1osS0FBS21KLFVBR0VuSixNQUlYSCxFQUFXTSxVQUFVZ0QsSUFBTSxTQUFTdkMsR0FlaEMsT0FYSVosS0FBS3dELFNBQVNMLE1BRmR2QyxHQUVvQm1ELEVBQU1DLFVBQVVwRCxHQVF4Q1osS0FBS21KLFVBR0VuSixNQUtYSCxFQUFXTSxVQUFVZ0osUUFBVSxTQUFTdkksR0FlcEMsWUFib0IsSUFBVEEsR0FFSFosS0FBSzJFLGVBQWUvRCxLQUNwQlosS0FBS29DLE1BQVEyQixFQUFNQyxVQUFVcEQsS0FLTixJQUEzQlosS0FBSzhCLFVBQVU2RSxTQUNmM0csS0FBS29CLFVBSUZwQixNQUlYSCxFQUFXTSxVQUFVb0csS0FBTyxTQUFTNkMsR0FFaEIsaUJBQU5BLElBQ1BBLEVBQUksR0FJUixJQUFJeEksRUFBTyxJQUFJSSxLQUFLaEIsS0FBS29DLE1BQU15QyxjQUFlN0UsS0FBS29DLE1BQU0wQyxXQUFhc0UsRUFBRyxHQUd6RSxPQUFLcEosS0FBSzJFLGVBQWUvRCxJQUt6QlosS0FBS29DLE1BQVF4QixFQUNiWixLQUFLbUosVUFHRW5KLE1BUklBLE1BWWZILEVBQVdNLFVBQVVnRyxTQUFXLFNBQVNpRCxHQUVwQixpQkFBTkEsSUFDUEEsRUFBSSxHQUlSLElBQUl4SSxFQUFPLElBQUlJLEtBQUtoQixLQUFLb0MsTUFBTXlDLGNBQWU3RSxLQUFLb0MsTUFBTTBDLFdBQWFzRSxFQUFJLEVBQUcsR0FHN0UsT0FBS3BKLEtBQUsyRSxlQUFlL0QsSUFLekJaLEtBQUtvQyxNQUFReEIsRUFDYlosS0FBS21KLFVBR0VuSixNQVJJQSxNQVlmSCxFQUFXTSxVQUFVa0osS0FBTyxTQUFTekksR0FJakMsT0FIQVosS0FBS21KLFFBQVF2SSxHQUdOWixNQUlYSCxFQUFXTSxVQUFVbUosTUFBUSxXQUl6QixPQUhBdEosS0FBS21KLFFBQVFuSixLQUFLaUIsTUFHWGpCLE1BSVhILEVBQVdNLFVBQVU5QixPQUFTLFNBQVM0SCxHQUVuQyxZQUFxQixJQUFWQSxJQU1MQSxhQUFpQnNELFFBRW5CdEQsRUFBUSxDQUFDQSxJQUdiakcsS0FBS3lILGFBQWF4QixHQUVsQmpHLEtBQUttSixXQVhNbkosTUFrQmZILEVBQVdNLFVBQVVxSixTQUFXLFNBQVN2RCxHQUVyQyxZQUFxQixJQUFWQSxJQU1MQSxhQUFpQnNELFFBRW5CdEQsRUFBUSxDQUFDQSxJQUdiakcsS0FBSzJILGVBQWUxQixHQUVwQmpHLEtBQUttSixXQVhNbkosTUFrQmZILEVBQVdNLFVBQVVzSixZQUFjLFdBTy9CLE9BTEF6SixLQUFLNkgsb0JBRUw3SCxLQUFLbUosVUFHRW5KLE1BR1hILEVBQVdNLFVBQVV1SixjQUFnQjdKLEVBQVdNLFVBQVVzSixZQUcxRDVKLEVBQVdNLFVBQVV3SixZQUFjLFNBQVNsSixHQUVqQixpQkFBWkEsSUFDUEEsRUFBVSxJQUlkLElBb0JRK0YsRUFwQkpQLEVBQVFqRyxLQUFLcUMsVUFBVXFGLFFBbUIzQixHQWhCSWpILEVBQVFtSixRQUNhLElBQWpCbkosRUFBUW1KLEtBQ1IzRCxFQUFNMkQsT0FFdUIsaUJBQWpCbkosRUFBUW1KLE9BQ2UsUUFBL0JuSixFQUFRbUosS0FBS0MsY0FDYjVELEVBQU0yRCxPQUU4QixTQUEvQm5KLEVBQVFtSixLQUFLQyxnQkFDbEI1RCxFQUFNMkQsT0FDTjNELEVBQU02RCxhQU1kckosRUFBUXNKLE1BQWdDLGlCQUFqQnRKLEVBQVFzSixLQUcvQixHQUFtQyxTQUEvQnRKLEVBQVFzSixLQUFLRixjQUNiLElBQUtyRCxFQUFJUCxFQUFNbEcsT0FBUyxFQUFHeUcsR0FBSyxFQUFHQSxJQUMvQlAsRUFBTU8sR0FBSyxJQUFJeEYsS0FBS2lGLEVBQU1PLFNBSTdCLEdBQW1DLGNBQS9CL0YsRUFBUXNKLEtBQUtGLGNBQ2xCLElBQUtyRCxFQUFJUCxFQUFNbEcsT0FBUyxFQUFHeUcsR0FBSyxFQUFHQSxJQUMvQlAsRUFBTU8sR0FBS3hHLEtBQUsrRSxtQkFBbUIsSUFBSS9ELEtBQUtpRixFQUFNTyxJQUFLL0YsRUFBUXNKLE1BTTNFLE9BQU85RCxHQUlYcEcsRUFBV00sVUFBVW1JLFdBQWEsU0FBUzFILEdBRXZDLE9BQUksTUFBT0EsS0FNWEEsRUFBT21ELEVBQU1DLFVBQVVwRCxJQUNsQnNGLFNBQVMsRUFBRyxFQUFHLEVBQUcsR0FDdkJ0RixFQUFPQSxFQUFLZ0UsVUFHUjVFLEtBQUtxQyxVQUFVeUIsUUFBUWxELElBQVMsSUFVeENmLEVBQVdNLFVBQVU2SixVQUFZLFNBQVNwSixHQUV0QyxHQUFJLE1BQU9BLEVBRVAsT0FBTyxHQUlYQSxFQUFPbUQsRUFBTUMsVUFBVXBELElBQ2xCc0YsU0FBUyxFQUFHLEVBQUcsRUFBRyxHQUN2QnRGLEVBQU9BLEVBQUtnRSxVQUdaLElBQUlxRixFQUFVakssS0FBSzBGLG1CQUVuQixPQUFJdUUsRUFBUSxHQUFHckYsV0FBYWhFLEdBQVFxSixFQUFRQSxFQUFRbEssT0FBUyxHQUFHNkUsV0FBYWhFLEdBVWpGZixFQUFXTSxVQUFVK0osVUFBWSxTQUFTdEosR0FFdEMsR0FBSSxNQUFPQSxFQUVQLE9BQU8sRUFJWCxJQUFJb0IsRUFBUStCLEVBQU1DLFVBQVVwRCxHQUM1Qm9CLEVBQU1rRSxTQUFTLEVBQUcsRUFBRyxFQUFHLEdBQ3hCbEUsRUFBTXNELFFBQVEsR0FHZCxJQUFJNkUsRUFBU3BHLEVBQU1DLFVBQVVoRSxLQUFLb0MsT0FLbEMsT0FKQStILEVBQU9qRSxTQUFTLEVBQUcsRUFBRyxFQUFHLEdBQ3pCaUUsRUFBTzdFLFFBQVEsR0FHWHRELEVBQU00QyxZQUFjdUYsRUFBT3ZGLFdBVW5DL0UsRUFBV00sVUFBVXVELFlBQWMsU0FBUzBHLEdBRXhDLEdBQW9CLGlCQUFUQSxFQUVQLE1BQU0sSUFBSWxKLE1BQU0sc0NBRXBCLFFBQW9DLElBQXpCbEIsS0FBS3FCLFVBQVUrSSxHQUV0QixNQUFNLElBQUlsSixNQUFNLG1DQUlwQmxCLEtBQUt3RCxTQUFTbEIsU0FBVzhILEVBR3pCLElBQUk5SCxFQUFXdEMsS0FBS3FCLFVBQVUrSSxHQVU5QixPQVRBcEssS0FBS3NDLFNBQVNmLE9BQVNlLEVBQVNmLE9BQ2hDdkIsS0FBS3NDLFNBQVNkLEtBQU9jLEVBQVNkLEtBQzlCeEIsS0FBS3NDLFNBQVM2QyxpQkFBbUI3QyxFQUFTYixrQkFDMUN6QixLQUFLc0MsU0FBUzJGLGdCQUFrQjNGLEVBQVNWLGlCQUd6QzVCLEtBQUttSixVQUdFbkosTUFPWEgsRUFBV3dLLFNBQVcsV0FJbEIsSUFGQSxJQUFJQyxFQUFZNVAsU0FBUzZQLHVCQUF1QixtQkFFdkMvRCxFQUFJLEVBQUdBLEVBQUk4RCxFQUFVdkssT0FBUXlHLElBRXFCLFNBQW5EOEQsRUFBVTlELEdBQUdwSCxhQUFhLHVCQUUxQmtMLEVBQVU5RCxHQUFHaEssYUFBYSxvQkFBcUIsUUFFL0MsSUFBSXFELEVBQVcsQ0FBQ1UsT0FBUStKLEVBQVU5RCxPQU05QyxJQUFJekMsRUFBUWxFLEVBQVdrRSxNQUFRLEdBRS9CQSxFQUFNQyxVQUFZLFNBQVNwRCxFQUFNNEosR0FFN0IsR0FBSSxNQUFPNUosR0FBa0QsUUFBVEEsRUFFaERBLEVBQU8sSUFBSUksVUFJVixHQUFvQixpQkFBVEosRUFBbUIsQ0FJL0IsR0FBYSxRQUZiQSxFQUFPQSxFQUFLc0UsUUFBUSxLQUFLLEtBQUt0QixNQUFNLHVDQWMvQixDQUVELElBQUs0RyxFQUFRLE1BQU0sSUFBSXRKLE1BQU0scUNBQzdCLE9BQU8sS0FkUCxJQUFJdUosRUFBYzVHLFNBQVNqRCxFQUFLLEdBQUksSUFBTSxFQUkxQyxLQUZBQSxFQUFPLElBQUlJLEtBQUtKLEVBQUssR0FBSTZKLEVBQWE3SixFQUFLLE1BRTlCQSxFQUFLa0UsYUFBZTJGLEVBQWEsQ0FFMUMsSUFBS0QsRUFBUSxNQUFNLElBQUl0SixNQUFNLG9DQUM3QixPQUFPLFdBWWQsR0FBb0IsaUJBQVROLEVBRVpBLEVBQU8sSUFBSUksS0FBS0osUUFJZixLQUFNQSxhQUFnQkksTUFBTyxDQUU5QixJQUFLd0osRUFBUSxNQUFNLElBQUl0SixNQUFNLDZCQUM3QixPQUFPLEtBSVgsT0FBTyxJQUFJRixLQUFLSixFQUFLZ0UsWUFFekJiLEVBQU0yRyxhQUFlM0csRUFBTUMsVUFFM0JELEVBQU00RyxhQUFlLFNBQVMvSixFQUFNb0UsRUFBUUMsR0FFeEMsSUFBSTVELEVBQVl4QixFQUFXTSxVQUFVa0IsVUFNckMsT0FMSzRELEdBQVM1RCxFQUFVTixlQUFla0UsS0FDbkNBLEVBQU8sTUFJSnBGLEVBQVdNLFVBQVU0RSxtQkFBbUI2RixNQUMzQyxDQUFDdEksU0FBVyxDQUNSZixPQUFTRixFQUFVNEQsR0FBTTFELE9BQ3pCQyxLQUFPSCxFQUFVNEQsR0FBTXpELEtBQ3ZCMkQsaUJBQW1COUQsRUFBVTRELEdBQU14RCxrQkFDbkN3RyxnQkFBa0I1RyxFQUFVNEQsR0FBTXJELG1CQUV0QyxDQUFDaEIsRUFBTW9FLEtBSWZqQixFQUFNSSxXQUFhLFNBQVNELEdBRXhCLElBQUtBLEVBQ0QsT0FBTyxLQUlYLEdBQXVCLGlCQUFaQSxFQUFzQixDQUU3QixHQUFtQixNQUFmQSxFQUFRLEdBQ1IsT0FBT3hKLFNBQVNDLGVBQWV1SixFQUFRMkcsVUFBVSxJQUdoRCxHQUFtQixNQUFmM0csRUFBUSxHQUNiLE9BQU94SixTQUFTNlAsdUJBQXVCckcsRUFBUTJHLFVBQVUsSUFBSSxRQUtoRSxHQUFJM0csRUFBUTRHLFNBQVc1RyxFQUFRdkIsVUFBWXVCLEVBQVE2RyxlQUFpQjdHLEVBQVFoRixnQkFDN0UsT0FBT2dGLEVBSVgsT0FBTyxNQUlYckUsRUFBV21MLElBQU0sV0FFYixJQUFJeEksRUFBTSxJQUFJM0MsRUFJZCxPQUZBMkMsRUFBSXZDLFdBQVdILFdBRVIwQyxHQUlYLElBQUk2QixFQUFvQixHQUN4QnhFLEVBQVdxSixJQUFNLFNBQVMrQixFQUFZcFEsR0FDbEMsR0FBSUEsYUFBb0JnRixFQUVwQixPQURBd0UsRUFBa0I0RyxHQUFjcFEsR0FDekIsRUFFWCxNQUFNLElBQUlxRyxNQUFNLDBEQUVwQnJCLEVBQVdxTCxJQUFNLFNBQVNELEdBQ3RCLE9BQUk1RyxFQUFrQnRELGVBQWVrSyxHQUMxQjVHLEVBQWtCNEcsR0FFdEIsTUFFWHBMLEVBQVdzTCxJQUFNLFNBQVNGLEdBQ3RCLFFBQUk1RyxFQUFrQnRELGVBQWVrSyxZQUMxQjVHLEVBQWtCNEcsSUFDbEIsSUFNZnBMLEVBQVd1TCxZQUFjLFNBQVM5SSxHQUU5QixRQUF3QixJQUFiQSxFQUVQLE1BQU0sSUFBSXBCLE1BQU0sNkNBR3BCLEdBQTZCLGlCQUFsQm9CLEVBQVM4SCxLQUVoQixNQUFNLElBQUlsSixNQUFNLHNDQUdwQixLQUFNb0IsRUFBU2Ysa0JBQWtCZ0ksT0FFN0IsTUFBTSxJQUFJckksTUFBTSx3Q0FFcEIsR0FBK0IsS0FBM0JvQixFQUFTZixPQUFPeEIsT0FFaEIsTUFBTSxJQUFJbUIsTUFBTSwrQ0FHcEIsS0FBTW9CLEVBQVNkLGdCQUFnQitILE9BRTNCLE1BQU0sSUFBSXJJLE1BQU0sc0NBRXBCLEdBQTZCLElBQXpCb0IsRUFBU2QsS0FBS3pCLE9BRWQsTUFBTSxJQUFJbUIsTUFBTSw2Q0FJcEJyQixFQUFXTSxVQUFVa0IsVUFBVWlCLEVBQVM4SCxNQUFROUgsRUFHaERBLEVBQVNiLGtCQUNMYSxFQUFTdkIsZUFBZSxvQkFDeEIsU0FBU1csRUFBS2QsR0FBTyxPQUFPMEIsRUFBUzZDLGlCQUFpQnpELEVBQUtkLElBQVNmLEVBQVc4Qix5QkFBeUJELEVBQUtkLEVBQU0wQixJQUNuSCxTQUFTWixFQUFLZCxHQUFPLE9BQU9mLEVBQVc4Qix5QkFBeUJELEVBQUtkLEVBQU0wQixJQUUvRUEsRUFBU1YsaUJBQ0xVLEVBQVN2QixlQUFlLG1CQUN4QixTQUFTVyxFQUFLMEUsR0FBTSxPQUFPOUQsRUFBUzJGLGdCQUFnQnZHLEVBQUswRSxJQUFRdkcsRUFBV2dDLHdCQUF3QkgsRUFBSzBFLEVBQUs5RCxJQUM5RyxTQUFTWixFQUFLMEUsR0FBTSxPQUFPdkcsRUFBV2dDLHdCQUF3QkgsRUFBSzBFLEVBQUs5RCxLQUtoRnpDLEVBQVc4Qix5QkFBMkIsU0FBU0QsRUFBS2QsRUFBTXFFLEdBQ3RELE9BQU92RCxHQUNILElBQUssUUFDTCxJQUFLLFFBQ0QsT0FBT3VELEVBQUsxRCxPQUFPWCxFQUFLa0UsWUFDNUIsSUFBSyxNQUNMLElBQUssTUFDRCxPQUFPRyxFQUFLMUQsT0FBT1gsRUFBS2tFLFlBQVkrRixVQUFVLEVBQUcsR0FDckQsSUFBSyxLQUNELE9BQU81RixFQUFLMUQsT0FBT1gsRUFBS2tFLFlBQVkrRixVQUFVLEVBQUcsR0FDckQsSUFBSyxJQUNELE9BQU81RixFQUFLMUQsT0FBT1gsRUFBS2tFLFlBQVkrRixVQUFVLEVBQUcsR0FDckQsSUFBSyxLQUlMLElBQUssS0FDRCxPQUFRakssRUFBS2tFLFdBQWEsRUFBSSxJQUFNLEtBQU9sRSxFQUFLa0UsV0FBYSxHQUhqRSxJQUFLLElBSUwsSUFBSyxJQUNELE9BQU9sRSxFQUFLa0UsV0FBYSxFQUM3QixJQUFLLE1BQ0wsSUFBSyxNQUNELE9BQU9HLEVBQUt6RCxLQUFLWixFQUFLNEUsVUFDMUIsSUFBSyxNQUNMLElBQUssTUFDRCxPQUFPUCxFQUFLekQsS0FBS1osRUFBSzRFLFVBQVVxRixVQUFVLEVBQUcsR0FDakQsSUFBSyxLQUNELE9BQU81RixFQUFLekQsS0FBS1osRUFBSzRFLFVBQVVxRixVQUFVLEVBQUcsR0FDakQsSUFBSyxJQUNELE9BQU81RixFQUFLekQsS0FBS1osRUFBSzRFLFVBQVVxRixVQUFVLEVBQUcsR0FDakQsSUFBSyxLQUNELE9BQVFqSyxFQUFLaUYsV0FBYSxFQUFJLElBQU0sSUFBTWpGLEVBQUtpRixVQUNuRCxJQUFLLElBQ0QsT0FBT2pGLEVBQUtpRixVQUNoQixJQUFLLE9BQ0wsSUFBSyxPQUNELE9BQU9qRixFQUFLZ0YsVUFBWSxPQUtwQy9GLEVBQVdnQyx3QkFBMEIsU0FBU0gsRUFBSzBFLEVBQUtuQixHQUNwRCxPQUFPdkQsR0FDSCxJQUFLLE1BQ0wsSUFBSyxNQUNELE9BQU91RCxFQUFLekQsS0FBSzRFLEdBQ3JCLElBQUssTUFDTCxJQUFLLE1BQ0QsT0FBT25CLEVBQUt6RCxLQUFLNEUsR0FBS3lFLFVBQVUsRUFBRyxHQUN2QyxJQUFLLEtBQ0wsSUFBSyxLQUNELE9BQU81RixFQUFLekQsS0FBSzRFLEdBQUt5RSxVQUFVLEVBQUcsR0FDdkMsSUFBSyxJQUNELE9BQU81RixFQUFLekQsS0FBSzRFLEdBQUt5RSxVQUFVLEVBQUcsS0FLL0MsV0FFSSxRQUErQyxJQUFwQ2xMLE9BQU8wTCx5QkFBMEMsQ0FFeEQsS0FBTzFMLE9BQU8wTCx5QkFBeUJ0TCxRQUVuQ1osV0FBVyxTQUFXbUQsR0FFbEIsT0FBTyxXQUNIekMsRUFBV3VMLFlBQVk5SSxJQUhwQixDQUtSM0MsT0FBTzBMLHlCQUF5QnZELE9BQVEsVUFHeENuSSxPQUFPMEwsMEJBZHRCLEdBb0JBMUwsT0FBT3VILGlCQUFpQixRQUFRLFdBRTVCckgsRUFBV3dLLGNBQ1osR0F2NkNVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2FuaW1hdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2xhbmd1YWplU3dpdGNoLmpzIiwid2VicGFjazovL3RvZG9saXN0X3RvcC8uL3NyYy90aGVtZVN3aXRjaC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdF90b3AvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2pzQ2FsZW5kYXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHtzbGlkZUhvbWVUb0NhbGVuZGFyLHNsaWRlQ2FsZW5kYXJUb0hvbWUsb3BlbkFkZFByb2plY3RCdXR0b24sb3BlbkNvbmZpZ3VyYXRpb24sZGlzcGxheVBvcFVwSGVscH1cbmNvbnN0IEhPTUVfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob21lXCIpXG5jb25zdCBBRERfUFJPSkVDVF9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZF9wcm9qZWN0XCIpXG5jb25zdCBDQUxFTkRBUl9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbGVuZGFyXCIpXG5jb25zdCBTRVRUSU5HU19CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpXG5jb25zdCBMT0dfSU5fQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dpblwiKVxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpIFxuY29uc3QgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhbGVuZGFyUGFnZVwiKVxuY29uc3QgaG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG9tZVBhZ2VcIilcbmNvbnN0IHN2Z1BsdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsdXNcIilcblxuXG5jb25zdCBmb3JtSW5wdXRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtLWlucHV0LXByb2plY3RcIilcbmNvbnN0IHNldHRpbmdPcHRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5ncy1vcHRpb25zXCIpXG5jb25zdCBzdmdDb25mZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZnLWNvbmZpZ1wiKVxuY29uc3QgbmlnaHRNb2RlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuaWdodC1tb2RlXCIpXG5cbmZ1bmN0aW9uIHNsaWRlSG9tZVRvQ2FsZW5kYXIoKXtcbiAgICBob21lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzbGlkZUxlZnRcIilcbiAgICBjYWxlbmRhci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic2xpZGVMZWZ0MlwiKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBob21lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgIGNhbGVuZGFyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuICAgICAgICBcbiAgICB9LCA1MDApO1xufVxuXG5ob21lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbmZ1bmN0aW9uIHNsaWRlQ2FsZW5kYXJUb0hvbWUoKXtcbiAgICBpZihob21lLnN0eWxlLmRpc3BsYXkgIT0gXCJibG9ja1wiKXsgIFxuICAgICAgICBjYWxlbmRhci5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgICAgICBob21lLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIGhvbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNsaWRlTGVmdDJcIilcbiAgICAgICAgY2FsZW5kYXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNsaWRlTGVmdFwiKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICAgICAgaG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSAgXG59XG5cbmZ1bmN0aW9uIG9wZW5BZGRQcm9qZWN0QnV0dG9uKCl7XG4gICAgaWYoc3ZnUGx1cy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PT0gXCJyb3RhdGVcIil7XG4gICAgICAgIHN2Z1BsdXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgc3ZnUGx1cy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicmV0dXJuXCIpXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3QucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgZm9ybUlucHV0UHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwidXBcIilcbiAgICAgICAgQ0FMRU5EQVJfQlVUVE9OLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIiAgICBcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJldHVyblxuICAgIH0gXG4gIFxuICAgIGlmKHN2Z1BsdXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgPT0gdW5kZWZpbmVkIHx8IHN2Z1BsdXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgPT09IFwicmV0dXJuXCIpe1xuICAgICAgICBzdmdQbHVzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHN2Z1BsdXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJvdGF0ZVwiKVxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3Quc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd25cIilcbiAgICAgICAgQ0FMRU5EQVJfQlVUVE9OLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIENBTEVOREFSX0JVVFRPTi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZG93bjFcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxufVxuc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5mdW5jdGlvbiBvcGVuQ29uZmlndXJhdGlvbigpe1xuICAgIHN2Z0NvbmZnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG5cbiAgICBpZihzZXR0aW5nT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID09PSBcImZsZXhcIil7XG4gICAgICAgIHNldHRpbmdPcHRpb25zLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIHNldHRpbmdPcHRpb25zLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZG93bjJcIilcbiAgICAgICAgc3ZnQ29uZmcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJvdGF0ZVwiKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICByZXR1cm5cbiAgICB9IGVsc2UgaWYoc2V0dGluZ09wdGlvbnMuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpe1xuICAgICAgICBzZXR0aW5nT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcbiAgICAgICAgc2V0dGluZ09wdGlvbnMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1cDFcIilcbiAgICAgICAgc3ZnQ29uZmcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJldHVyblwiKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgXG59XG5mdW5jdGlvbiBkaXNwbGF5UG9wVXBIZWxwKCl7XG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGFuZ3VhamVTd2l0Y2goKXtcbmNvbnN0IExBTkdVQUpFX1NXSVRDSF9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrQm94XCIpXG5jb25zdCBob21lc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9tZXNwYW5cIilcbmNvbnN0IGFkZHByb2plY3RzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRwcm9qZWN0c3BhblwiKVxuY29uc3QgY2FsZW5kYXJzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGFuY2FsZW5kYXJcIilcbmNvbnN0IHNldHRpbmdzc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5zZXR0aW5nc1wiKVxuY29uc3QgbG9naW5zcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dpbnNwYW5cIilcbmNvbnN0IHRvZG90ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2RvdGV4dFwiKVxuY29uc3QgaW5wcm9ncmVzc3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHJvZ3Jlc3N0ZXh0XCIpXG5jb25zdCBjb21wbGV0ZXRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBsZXRlZHRleHRcIilcbmNvbnN0IHNlbGVjdHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0ZGVmYXVsdFwiKVxuY29uc3QgZGF5b3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXlvcHRpb25cIilcbmNvbnN0IHdlZWtvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlZWtvcHRpb25cIilcbmNvbnN0IHllYXJvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInllYXJvcHRpb25cIilcbmNvbnN0IHNlbGVjdGRlZmF1bHR3ZWVrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RkZWZhdWx0d2Vla1wiKVxuY29uc3QgbGFiZWxpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFiZWxpbnB1dFwiKVxuY29uc3QgaW5wdXRwcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1wcm9qZWN0XCIpXG5jb25zdCBzdWJtaXRuYW1lcHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LW5hbWUtcHJvamVjdFwiKVxuaWYoTEFOR1VBSkVfU1dJVENIX0JVVFRPTi5jaGVja2VkKXtcbiAgICBob21lc3Bhbi50ZXh0Q29udGVudCA9IFwiQ2FzYVwiXG4gICAgYWRkcHJvamVjdHNwYW4udGV4dENvbnRlbnQgPSBcIkHDsWFkaXIgcHJveWVjdG9cIlxuICAgIGNhbGVuZGFyc3Bhbi50ZXh0Q29udGVudCA9IFwiQ2FsZW5kYXJpb1wiXG4gICAgc2V0dGluZ3NzcGFuLnRleHRDb250ZW50ID0gXCJDb25maWd1cmFjaW9uZXNcIlxuICAgIGxvZ2luc3Bhbi50ZXh0Q29udGVudCA9IFwiSW5pY2lhciBzZXNpb25cIlxuICAgIHRvZG90ZXh0LnRleHRDb250ZW50ID0gXCJQYXJhIGhhY2VyXCJcbiAgICBpbnByb2dyZXNzdGV4dC50ZXh0Q29udGVudCA9IFwiRW4gcHJvZ3Jlc29cIlxuICAgIGNvbXBsZXRldGV4dC50ZXh0Q29udGVudCA9IFwiQ29tcGxldGFkb1wiXG4gICAgc2VsZWN0cHJvamVjdHMudGV4dENvbnRlbnQgPSBcIlByb3llY3Rvc1wiXG4gICAgZGF5b3B0aW9uLnRleHRDb250ZW50ID0gXCJEaWFcIlxuICAgIHdlZWtvcHRpb24udGV4dENvbnRlbnQgPSBcIlNlbWFuYVwiXG4gICAgeWVhcm9wdGlvbi50ZXh0Q29udGVudCA9IFwiQcOxb1wiXG4gICAgc2VsZWN0ZGVmYXVsdHdlZWsudGV4dENvbnRlbnQgPSBcIkVzdGEgc2VtYW5hXCJcbiAgICBsYWJlbGlucHV0LnRleHRDb250ZW50ID0gXCJOb21icmUgZGVsIHByb3llY3RvXCJcbiAgICBpbnB1dHByb2plY3Quc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIixcIkVqOiBNaSBydXRpbmEgZGUgZ2ltbmFzaW8uLi5cIilcbiAgICBzdWJtaXRuYW1lcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiSGVjaG9cIilcbiB9IGVsc2UgaWYgKExBTkdVQUpFX1NXSVRDSF9CVVRUT04uY2hlY2tlZCA9PSBmYWxzZSl7XG4gICAgaG9tZXNwYW4udGV4dENvbnRlbnQgPSBcIkhvbWVcIlxuICAgIGFkZHByb2plY3RzcGFuLnRleHRDb250ZW50ID0gXCJBZGQgcHJvamVjdFwiXG4gICAgY2FsZW5kYXJzcGFuLnRleHRDb250ZW50ID0gXCJDYWxlbmRhclwiXG4gICAgc2V0dGluZ3NzcGFuLnRleHRDb250ZW50ID0gXCJDb25maWd1cmF0aW9uXCJcbiAgICBsb2dpbnNwYW4udGV4dENvbnRlbnQgPSBcIkxvZyBpblwiXG4gICAgdG9kb3RleHQudGV4dENvbnRlbnQgPSBcIlRvIGRvXCJcbiAgICBpbnByb2dyZXNzdGV4dC50ZXh0Q29udGVudCA9IFwiSW4gcHJvZ3Jlc3NcIlxuICAgIGNvbXBsZXRldGV4dC50ZXh0Q29udGVudCA9IFwiQ29tcGxldGVkXCJcbiAgICBzZWxlY3Rwcm9qZWN0cy50ZXh0Q29udGVudCA9IFwiUHJvamVjdHNcIlxuICAgIGRheW9wdGlvbi50ZXh0Q29udGVudCA9IFwiRGF5XCJcbiAgICB3ZWVrb3B0aW9uLnRleHRDb250ZW50ID0gXCJXZWVrXCJcbiAgICB5ZWFyb3B0aW9uLnRleHRDb250ZW50ID0gXCJZZWFyXCJcbiAgICBzZWxlY3RkZWZhdWx0d2Vlay50ZXh0Q29udGVudCA9IFwiVGhpcyB3ZWVrXCJcbiAgICBsYWJlbGlucHV0LnRleHRDb250ZW50ID0gXCJOYW1lIG9mIHRoZSBwcm9qZWN0XCJcbiAgICBpbnB1dHByb2plY3Quc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIixcIkV4OiBNeSBneW0gcnV0aW5lLi4uXCIpXG4gICAgc3VibWl0bmFtZXByb2plY3Quc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIkRvbmVcIilcbn1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0dXJuTmlnaHRUaGVtZU9yV2hpdGVUaGVtZSgpe1xuICAgIGNvbnN0IE5JR0hUX01PREVfU1dJVENIID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVja0JveFRoZW1lXCIpXG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIilcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpXG4gICAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm5hdlwiKVxuICAgIGNvbnN0IGhlYWRlckhvbWVQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIilcbiAgICBjb25zdCBob21lUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9tZVBhZ2VcIilcbiAgICBjb25zdCBzZWxlY3RQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RcIilcbiAgICBjb25zdCBzZXR0aW5nT3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3Mtb3B0aW9uc1wiKVxuICAgIGNvbnN0IGZvcm1JbnB1dFByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0taW5wdXQtcHJvamVjdFwiKVxuICAgIGNvbnN0IGNhbGVuZGFyUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FsZW5kYXJQYWdlXCIpXG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKVxuICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZF90YXNrXCIpXG4gICAgY29uc3QgcXVhbnRpdHlUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xdWFudGl0eVwiKVxuICAgIGNvbnN0IHRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhc2tcIilcbiAgICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZm9vdGVyXCIpXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInN2Z1wiKVxuICAgIGNvbnN0IHN1Ym1pdE5hbWVQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtbmFtZS1wcm9qZWN0XCIpXG4gICAgY29uc3QgcG9wdXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwLWxvZ2luXCIpXG4gICAgbGV0IGlzQmxhY2tNb2RlXG4gICAgbGV0IGJhY2tncm91bmRDb2xvckJsYWNrICA9IFwicmdiKDQ4LCA0OCwgNDgpXCJcbiAgICBsZXQgYmFja2dyb3VuZENvbG9yQ29udGFpbmVyQmxhY2sgPSBcIiM0MjQyNDJcIlxuICAgIGxldCBiYWNrZ3JvdW5kQ29sb3JIb21lUGFnZUFuZENhbGVuZGFyQmxhY2sgPSBcIiMzZTNlM2VcIlxuICAgIGxldCBjb2xvckxldHRlcnNCbGFja1RoZW1lID0gXCIjRkZGRkZGXCJcbiAgICBsZXQgYmFja2dyb3VuZENvbG9yV2hpdGUgID0gXCIjZjdmY2ZmXCJcbiAgICBsZXQgYmFja2dyb3VuZENvbG9yQ2FyZHNCbGFjayA9IFwiIzQwNDA0MFwiXG4gICAgbGV0IHNlbGVjdEFuZEFkZFByb2plY3RCb3R0b25CbGFjayA9IFwicmdiYSgwLCAwLCAwLCAwLjEpXCJcblxuICAgXG4gICAgaWYoTklHSFRfTU9ERV9TV0lUQ0guY2hlY2tlZCl7XG4gICAgICAgIFxuICAgICAgICBodG1sLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckJsYWNrXG4gICAgICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yQmxhY2s7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JDb250YWluZXJCbGFja1xuICAgICAgICBjb250YWluZXIuc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIGNvbnRlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9ySG9tZVBhZ2VBbmRDYWxlbmRhckJsYWNrXG4gICAgICAgIGhvbWVQYWdlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckhvbWVQYWdlQW5kQ2FsZW5kYXJCbGFja1xuICAgICAgICBob21lUGFnZS5zdHlsZS5jb2xvciA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgY2FsZW5kYXJQYWdlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckhvbWVQYWdlQW5kQ2FsZW5kYXJCbGFja1xuICAgICAgICBjYWxlbmRhclBhZ2Uuc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIGhlYWRlckhvbWVQYWdlLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICBzZWxlY3RQcm9qZWN0cy5mb3JFYWNoKHNlbGVjdCA9PiB7XG4gICAgICAgICAgICBzZWxlY3Quc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgICAgICBzZWxlY3Quc3R5bGUuYmFja2dyb3VuZCA9IHNlbGVjdEFuZEFkZFByb2plY3RCb3R0b25CbGFja1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgY2FyZC5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JDYXJkc0JsYWNrXG4gICAgICAgIH0pXG4gICAgICAgIGFkZFRhc2suZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNlbGVjdEFuZEFkZFByb2plY3RCb3R0b25CbGFja1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmNvbG9yICA9IGNvbG9yTGV0dGVyc0JsYWNrVGhlbWVcbiAgICAgICAgfSlcbiAgICAgICAgcXVhbnRpdHlUYXNrLmZvckVhY2gocXVhbnRpdHkgPT57XG4gICAgICAgICAgICBxdWFudGl0eS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2tcbiAgICAgICAgICAgIHF1YW50aXR5LnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICB9KVxuICAgICAgICB0YXNrLmZvckVhY2godGFzayA9PntcbiAgICAgICAgICAgIHRhc2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE1MSwgMTUxLCAxNTEsIDAuNClcIlxuICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXIgPSBcIm5vbmVcIlxuICAgICAgICAgICAgdGFzay5zdHlsZS5jb2xvciA9IFwid2hpdGVcIlxuICAgICAgICB9KVxuICAgICAgICBmb290ZXIuc3R5bGUuY29sb3IgPSBjb2xvckxldHRlcnNCbGFja1RoZW1lXG4gICAgICAgIHN2Zy5mb3JFYWNoKHN2Z3MgPT57XG4gICAgICAgICAgICBzdmdzLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgICAgICB9IClcbiAgICAgICAgc3VibWl0TmFtZVByb2plY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2VsZWN0QW5kQWRkUHJvamVjdEJvdHRvbkJsYWNrXG4gICAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvckJsYWNrXG4gICAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLmNvbG9yID0gY29sb3JMZXR0ZXJzQmxhY2tUaGVtZVxuICAgIH1lbHNlIGlmKE5JR0hUX01PREVfU1dJVENILmNoZWNrZWQgPT0gZmFsc2Upe1xuICAgICAgICBodG1sLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcldoaXRlXG4gICAgICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yV2hpdGU7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgIGNvbnRlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1MCwyNTIsMjUyLDAuNClcIlxuICAgICAgICBob21lUGFnZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUwLDI1MiwyNTIsMC40KVwiXG4gICAgICAgIGhvbWVQYWdlLnN0eWxlLmNvbG9yID0gXCJibGFja1wiXG4gICAgICAgIGNhbGVuZGFyUGFnZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUwLDI1MiwyNTIsMC40KVwiXG4gICAgICAgIGNhbGVuZGFyUGFnZS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBoZWFkZXJIb21lUGFnZS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICBzZWxlY3RQcm9qZWN0cy5mb3JFYWNoKHNlbGVjdCA9PiB7XG4gICAgICAgICAgICBzZWxlY3Quc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgICAgIHNlbGVjdC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDE3NCwyMTQsMjQxLDAuMSlcIlxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgY2FyZC5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMTc0LDIxNCwyNDEsMC4wMylcIlxuICAgICAgICB9KVxuICAgICAgICBhZGRUYXNrLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMTc0LDIxNCwyNDEsMC4xKVwiXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuY29sb3IgID0gXCJibGFja1wiXG4gICAgICAgIH0pXG4gICAgICAgIHF1YW50aXR5VGFzay5mb3JFYWNoKHF1YW50aXR5ID0+e1xuICAgICAgICAgICAgcXVhbnRpdHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE3NCwyMTQsMjQxLDAuMSlcIlxuICAgICAgICAgICAgcXVhbnRpdHkuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgfSlcbiAgICAgICAgdGFzay5mb3JFYWNoKHRhc2sgPT57XG4gICAgICAgICAgICB0YXNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIlxuICAgICAgICAgICAgdGFzay5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICB9KVxuICAgICAgICBmb290ZXIuc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgc3ZnLmZvckVhY2goc3ZncyA9PntcbiAgICAgICAgICAgIHN2Z3Muc3R5bGUuY29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgfSApXG4gICAgICAgIHN1Ym1pdE5hbWVQcm9qZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDE3NCwyMTQsMjQxKVwiXG4gICAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIlxuICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIlxuICAgIH1cbn1cbiIsImltcG9ydCB7IHNsaWRlSG9tZVRvQ2FsZW5kYXIsc2xpZGVDYWxlbmRhclRvSG9tZSxvcGVuQWRkUHJvamVjdEJ1dHRvbixvcGVuQ29uZmlndXJhdGlvbixkaXNwbGF5UG9wVXBIZWxwIH0gZnJvbSBcIi4vYW5pbWF0aW9uc1wiXG5pbXBvcnQgbGFuZ3VhamVTd2l0Y2ggZnJvbSBcIi4vbGFuZ3VhamVTd2l0Y2hcIlxuaW1wb3J0IHR1cm5OaWdodFRoZW1lT3JXaGl0ZVRoZW1lIGZyb20gXCIuL3RoZW1lU3dpdGNoXCJcblxuY29uc3QgSE9NRV9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVcIilcbmNvbnN0IEFERF9QUk9KRUNUX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkX3Byb2plY3RcIilcbmNvbnN0IENBTEVOREFSX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsZW5kYXJcIilcbmNvbnN0IFNFVFRJTkdTX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIilcbmNvbnN0IExPR19JTl9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ2luXCIpXG5jb25zdCBOSUdIVF9NT0RFX1NXSVRDSCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2tCb3hUaGVtZVwiKVxuY29uc3QgTEFOR1VBSkVfU1dJVENIX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2tCb3hcIilcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKSBcbmNvbnN0IGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYWxlbmRhclBhZ2VcIilcbmNvbnN0IGhvbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hvbWVQYWdlXCIpXG5jb25zdCBzdmdQbHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbHVzXCIpXG5jb25zdCBsaXN0TGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3RcIilcbmNvbnN0IGZvcm1JbnB1dFByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0taW5wdXQtcHJvamVjdFwiKVxuY29uc3QgcG9wVXBMb2dJbiAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwLWxvZ2luXCIpXG5jb25zdCBiYWNrZ3JvdW5kUG9wVXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tncm91bmQtcG9wdXBcIilcbmNvbnN0IHN2Z0Nsb3NlUG9wVXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLXBvcC11cFwiKVxuXG5jb25zdCBkZW1vVXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVtb1VzZXJcIilcblxuSE9NRV9CVVRUT04ub25jbGljayA9ICgpID0+IGRpc3BsYXlIb21lQnV0dG9uKClcbkFERF9QUk9KRUNUX0JVVFRPTi5vbmNsaWNrID0gKCkgPT4gYWRkUHJvamVjdEJ1dHRvbigpXG5DQUxFTkRBUl9CVVRUT04ub25jbGljayA9ICgpID0+IGRpc3BsYXlDYWxlbmRhckJ1dHRvbigpXG5TRVRUSU5HU19CVVRUT04ub25jbGljayA9ICgpID0+IG9wZW5Db25maWd1cmF0aW9uKClcbk5JR0hUX01PREVfU1dJVENILm9uY2xpY2sgPSAoKSA9PiB0dXJuTmlnaHRUaGVtZU9yV2hpdGVUaGVtZSgpXG5MQU5HVUFKRV9TV0lUQ0hfQlVUVE9OLm9uY2xpY2sgPSAoKSA9PiBsYW5ndWFqZVN3aXRjaCgpXG5MT0dfSU5fQlVUVE9OLm9uY2xpY2sgPSAoKSA9PiBkaXNwbGF5UG9wVXAoKVxuc3ZnQ2xvc2VQb3BVcC5vbmNsaWNrID0gKCkgPT4gY2xvc2VQb3BVcCgpXG5kZW1vVXNlci5vbmNsaWNrID0gKCkgPT4gd2hvSXNUaGVVc2VyKFwiZGVtb191c2VyXCIpXG53aW5kb3cub25sb2FkID0gbGFuZ3VhamVTd2l0Y2goKVxud2luZG93Lm9ubG9hZCA9IHR1cm5OaWdodFRoZW1lT3JXaGl0ZVRoZW1lKClcbi8qXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgaWYoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImZpcnN0U2Vzc2lvblwiKSkpe1xuICAgICAgbGV0IGZpcnN0VGltZVVzZXIgPSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImZpcnN0U2Vzc2lvblwiLFwiMVwiKVxuICAgICAgZGlzcGxheVBvcFVwKClcbiAgIH1cbn1cbiovXG5mdW5jdGlvbiB3aG9Jc1RoZVVzZXIodXNlcil7XG4gICBzd2l0Y2godXNlcil7XG4gICAgICBjYXNlIHVzZXIgPT0gXCJkZW1vX3VzZXJcIjpcbiAgICAgICAgIGNsb3NlUG9wVXAoKVxuICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIFwiMFwiKSAgIFxuICAgICAgYnJlYWtcbiAgICAgIGNhc2UgdXNlciA9PSBcImdvb2dsZV91c2VyXCI6XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgXCIxXCIpICAgXG4gICAgICBicmVha1xuICAgICAgY2FzZSB1c2VyID0gXCJsb2ctaW4tdXNlclwiOlxuICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsXCIyXCIpXG4gICAgICBicmVha1xuICAgfVxuICAgaWYodXNlciA9PSBcImRlbW9fdXNlclwiKXtcbiAgICAgIGlmKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpKSl7XG4gICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIixcIjBcIilcbiAgICAgIH1cbiAgIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VQb3BVcCgpe1xuICAgYmFja2dyb3VuZFBvcFVwLnN0eWxlLmRpc3BsYXkgID0gXCJub25lXCJcbn1cbmZ1bmN0aW9uIGRpc3BsYXlQb3BVcCAoKSB7XG4gICBiYWNrZ3JvdW5kUG9wVXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgcG9wVXBMb2dJbi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcbiAgIHBvcFVwTG9nSW4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImZyb210b3BcIilcbn1cbmZ1bmN0aW9uIGRpc3BsYXlDYWxlbmRhckJ1dHRvbigpe1xuICAgc2xpZGVIb21lVG9DYWxlbmRhcigpXG59XG5mdW5jdGlvbiBkaXNwbGF5SG9tZUJ1dHRvbigpe1xuICAgc2xpZGVDYWxlbmRhclRvSG9tZSgpXG59XG5cbmZ1bmN0aW9uIGFkZFByb2plY3RCdXR0b24oKXsgIFxuICAgb3BlbkFkZFByb2plY3RCdXR0b24oKVxufVxuXG4iLCIvKlxyXG4gKiBqc0NhbGVuZGFyIHYxLjQuNFxyXG4gKlxyXG4gKlxyXG4gKiBNSVQgTGljZW5zZVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgR3JhbW1hdG9wb3Vsb3MgQXRoYW5hc2lvcy1WYXNpbGVpb3NcclxuICpcclxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuICpcclxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXHJcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcbiAqXHJcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXHJcbiAqIFNPRlRXQVJFLlxyXG4gKlxyXG4gKi9cclxuXHJcbnZhciBqc0NhbGVuZGFyID0gKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgLy8gQ29uc3RydWN0b3JcclxuICAgIGZ1bmN0aW9uIEpzQ2FsZW5kYXIoKXtcclxuICAgICAgICAvLyBObyBwYXJhbWV0ZXJzXHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgY2FsZW5kYXJcclxuICAgICAgICAgICAgdGhpcy5fY29uc3RydWN0KGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb25cclxuICAgIEpzQ2FsZW5kYXIudmVyc2lvbiA9ICd2MS40LjQnO1xyXG5cclxuICAgIC8vIFN1Yi1Db25zdHJ1Y3RvclxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2NvbnN0cnVjdCA9IGZ1bmN0aW9uKGFyZ3MpIHtcclxuICAgICAgICAvLyBQYXJzZSBhcmd1bWVudHNcclxuICAgICAgICBhcmdzID0gdGhpcy5fcGFyc2VBcmd1bWVudHMoYXJncyk7XHJcbiAgICAgICAgLy8gU2V0IGEgdGFyZ2V0XHJcbiAgICAgICAgdGhpcy5fc2V0VGFyZ2V0KGFyZ3MudGFyZ2V0KTtcclxuICAgICAgICAvLyBJbml0IGNhbGVuZGFyXHJcbiAgICAgICAgdGhpcy5faW5pdChhcmdzLm9wdGlvbnMpO1xyXG4gICAgICAgIC8vIEluaXQgdGFyZ2V0XHJcbiAgICAgICAgdGhpcy5faW5pdFRhcmdldCgpO1xyXG4gICAgICAgIC8vIFNldCBkYXRlXHJcbiAgICAgICAgdGhpcy5fc2V0RGF0ZShcclxuICAgICAgICAgICAgKGFyZ3MuZGF0ZSAhPT0gbnVsbCkgPyBhcmdzLmRhdGUgOlxyXG4gICAgICAgICAgICAodGhpcy5fdGFyZ2V0LmRhdGFzZXQuaGFzT3duUHJvcGVydHkoJ2RhdGUnKSkgPyB0aGlzLl90YXJnZXQuZGF0YXNldC5kYXRlIDpcclxuICAgICAgICAgICAgbmV3IERhdGUoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gSWYgaW52YWxpZCBkYXRlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9ub3cpIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogRGF0ZSBpcyBvdXRzaWRlIHJhbmdlLicpO1xyXG4gICAgICAgIC8vIENyZWF0ZVxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xyXG4gICAgICAgIC8vIFVwZGF0ZVxyXG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMYW5ndWFnZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmxhbmd1YWdlcyA9IHtcclxuICAgICAgICAvLyBEZWZhdWx0IEVuZ2xpc2ggbGFuZ3VhZ2VcclxuICAgICAgICBlbiA6IHtcclxuICAgICAgICAgICAgLy8gTW9udGhzIE5hbWVzXHJcbiAgICAgICAgICAgIG1vbnRocyA6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxyXG4gICAgICAgICAgICAvLyBEYXlzIE5hbWVzXHJcbiAgICAgICAgICAgIGRheXMgOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgaGFuZGxlcnNcclxuICAgICAgICAgICAgX2RhdGVTdHJpbmdQYXJzZXIgOiBmdW5jdGlvbihrZXksIGRhdGUpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIoa2V5LCBkYXRlLCB0aGlzKTt9LFxyXG4gICAgICAgICAgICBfZGF5U3RyaW5nUGFyc2VyIDogZnVuY3Rpb24oa2V5LCBkYXRlKSB7cmV0dXJuIEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXRlLCB0aGlzKTt9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0IGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBJbml0IGVsZW1lbnRzIG9iamVjdFxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0ge307XHJcbiAgICAgICAgLy8gRXZlbnRzIGluaXRcclxuICAgICAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgICAgICB0aGlzLl9ldmVudHMuZGF0ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5tb250aCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5kYXlfcmVuZGVyID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLmRhdGVfcmVuZGVyID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLm1vbnRoX3JlbmRlciA9IFtdO1xyXG4gICAgICAgIC8vIERhdGVzIHZhcmlhYmxlc1xyXG4gICAgICAgIHRoaXMuX25vdyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fZGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAvLyBMYW5ndWFnZSBvYmplY3RcclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0ge307XHJcbiAgICAgICAgLy8gUGFyc2Ugb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gUGFyc2Ugb3B0aW9uc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3BhcnNlQXJndW1lbnRzID0gZnVuY3Rpb24oYXJncykge1xyXG4gICAgICAgIC8vIEFyZ3VtZW50cyBvYmplY3RcclxuICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICB0YXJnZXQgOiBudWxsLFxyXG4gICAgICAgICAgICBkYXRlIDogbnVsbCxcclxuICAgICAgICAgICAgb3B0aW9ucyA6IHt9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzXHJcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogTm8gcGFyYW1ldGVycyB3ZXJlIGdpdmVuLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT25seSAxIGFyZ3VtZW50XHJcbiAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRhcmdldCBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBodG1sIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAoKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCcpID8gKGFyZ3NbMF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgOiBhcmdzWzBdKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcpICYmIChhcmdzWzBdICE9PSBudWxsKSAmJiAoYXJnc1swXS5ub2RlVHlwZSA9PT0gMSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGFyZ3NbMF0ubm9kZU5hbWUgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgICAgICAgICAgKSB8fCAoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT3Igc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgb2JqLnRhcmdldCA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbnMgYXJndW1lbnRcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbml0IGFyZ3VtZW50c1xyXG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdLnRhcmdldCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoudGFyZ2V0ID0gYXJnc1swXS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogTm90IHRhcmdldCB3YXMgZ2l2ZW4uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdLmRhdGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGUgPSBhcmdzWzBdLmRhdGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hbnkgYXJndW1lbnRzXHJcbiAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAvLyBGaXJzdCBpcyB0YXJnZXRcclxuICAgICAgICAgICAgb2JqLnRhcmdldCA9IGFyZ3NbMF07XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBkYXRlXHJcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouZGF0ZSA9IGFyZ3NbMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIG9wdGlvbnNcclxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDMpIHtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zID0gYXJnc1syXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBvYmplY3RcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEZWZhdWx0IG9wdGlvbnNcclxuICAgIEpzQ2FsZW5kYXIub3B0aW9ucyA9IHtcclxuICAgICAgICBsYW5ndWFnZSA6ICdlbicsXHJcbiAgICAgICAgemVyb0ZpbGwgOiBmYWxzZSxcclxuICAgICAgICBtb250aEZvcm1hdCA6ICdtb250aCcsXHJcbiAgICAgICAgZGF5Rm9ybWF0IDogJ0QnLFxyXG4gICAgICAgIGZpcnN0RGF5T2ZUaGVXZWVrIDogMSxcclxuICAgICAgICBuYXZpZ2F0b3IgOiB0cnVlLFxyXG4gICAgICAgIG5hdmlnYXRvclBvc2l0aW9uIDogJ2JvdGgnLFxyXG4gICAgICAgIG1pbiA6IGZhbHNlLFxyXG4gICAgICAgIG1heCA6IGZhbHNlLFxyXG4gICAgICAgIG9uTW9udGhSZW5kZXIgOiBmYWxzZSxcclxuICAgICAgICBvbkRheVJlbmRlciA6IGZhbHNlLFxyXG4gICAgICAgIG9uRGF0ZVJlbmRlciA6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFBhcnNlIG9wdGlvbnNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihkb3B0aW9ucykge1xyXG4gICAgICAgIC8vIE9wdGlvbnMgT2JqZWN0XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIC8vIElucHV0IG9wdGlvbnMgb2JqZWN0IChkaXJ0eSlcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgICAvLyBMb2FkIGRlZmF1bHQgYW5kIGlucHV0IG9wdGlvbnNcclxuICAgICAgICBmb3IgKHZhciBpdGVtIGluIEpzQ2FsZW5kYXIub3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBEZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICAgICAgaWYgKEpzQ2FsZW5kYXIub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9uc1tpdGVtXSA9IEpzQ2FsZW5kYXIub3B0aW9uc1tpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEeW5hbWljIG9wdGlvbnNcclxuICAgICAgICAgICAgaWYgKGRvcHRpb25zLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zW2l0ZW1dID0gZG9wdGlvbnNbaXRlbV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGF0YXNldCBvcHRpb25zXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX3RhcmdldC5kYXRhc2V0Lmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zW2l0ZW1dID0gdGhpcy5fdGFyZ2V0LmRhdGFzZXRbaXRlbV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIG9wdGlvbnNcclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuemVyb0ZpbGwgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuemVyb0ZpbGwgPT09ICdmYWxzZScgfHwgIW9wdGlvbnMuemVyb0ZpbGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuemVyb0ZpbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuemVyb0ZpbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tb250aEZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1vbnRoRm9ybWF0ID0gb3B0aW9ucy5tb250aEZvcm1hdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmRheUZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmRheUZvcm1hdCA9IG9wdGlvbnMuZGF5Rm9ybWF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm5hdmlnYXRvciA9PT0gJ2ZhbHNlJyB8fCAhb3B0aW9ucy5uYXZpZ2F0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubmF2aWdhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLm5hdmlnYXRvciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm5hdmlnYXRvclBvc2l0aW9uICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubmF2aWdhdG9yUG9zaXRpb24gPSBvcHRpb25zLm5hdmlnYXRvclBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGFuZ3VhZ2VcclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubGFuZ3VhZ2UgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB0aGlzLmxhbmd1YWdlc1tvcHRpb25zLmxhbmd1YWdlXSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IGxhbmd1YWdlXHJcbiAgICAgICAgdGhpcy5zZXRMYW5ndWFnZSh0aGlzLl9vcHRpb25zLmxhbmd1YWdlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IGZpcnN0IGRheSBvZiB0aGUgd2Vla1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mZG90dyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID0gb3B0aW9ucy5mZG90dztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIC8vIElmIGRheSBudW1iZXJcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgLy8gUmFuZ2UgY2hlY2sgKG5vIG5lZWQgdG8gY2hlY2sgZm9yIGJpZ2dlciB0aGFuIDcgYnV0IEkgZG9uJ3QgdHJ1c3QgYW55b25lKVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPj0gMSAmJiBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIDw9IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID0gb3B0aW9ucy5maXJzdERheU9mVGhlV2VlaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgZGF5IG51bWJlclxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsubWF0Y2goL15bMS03XSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSBwYXJzZUludChvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrLCAxMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlbHNlIHVzZSBpdCBhcyBhIGRheSBuYW1lXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTbyBmaW5kIGRheVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSB0aGlzLmxhbmd1YWdlLmRheXMuaW5kZXhPZihvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrKSArIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJhbmdlIGNoZWNrIChubyBuZWVkIHRvIGNoZWNrIGZvciBiaWdnZXIgdGhlbiA3IGJ1dCBJIGRvbid0IHRydXN0IGFueW9uZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA8IDEgfHwgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA+IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgbWluIGNhbGVuZGFyIGRhdGVcclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubWluICE9PSAndW5kZWZpbmVkJyAmJiBvcHRpb25zLm1pbiAhPT0gJ2ZhbHNlJyAmJiBvcHRpb25zLm1pbiAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgZGF0ZVxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1pbiA9IHRvb2xzLnBhcnNlRGF0ZShvcHRpb25zLm1pbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNldCBtYXggY2FsZW5kYXIgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tYXggIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMubWF4ICE9PSAnZmFsc2UnICYmIG9wdGlvbnMubWF4ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWF4ID0gdG9vbHMucGFyc2VEYXRlKG9wdGlvbnMubWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHJlbmRlciBoYW5kbGVyc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk1vbnRoUmVuZGVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb24gbmFtZSBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25Nb250aFJlbmRlciA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3dbb3B0aW9ucy5vbk1vbnRoUmVuZGVyXSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCdtb250aF9yZW5kZXInLCB3aW5kb3dbb3B0aW9ucy5vbk1vbnRoUmVuZGVyXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUGFzc2VkIGFzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLm9uTW9udGhSZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCdtb250aF9yZW5kZXInLCBvcHRpb25zLm9uTW9udGhSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbkRheVJlbmRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gUGFzc2VkIGFzIGZ1bmN0aW9uIG5hbWUgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLm9uRGF5UmVuZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvd1tvcHRpb25zLm9uRGF5UmVuZGVyXSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCdkYXlfcmVuZGVyJywgd2luZG93W29wdGlvbnMub25EYXlSZW5kZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub25EYXlSZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uKCdkYXlfcmVuZGVyJywgb3B0aW9ucy5vbkRheVJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uRGF0ZVJlbmRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gUGFzc2VkIGFzIGZ1bmN0aW9uIG5hbWUgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLm9uRGF0ZVJlbmRlciA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3dbb3B0aW9ucy5vbkRhdGVSZW5kZXJdID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RhdGVfcmVuZGVyJywgd2luZG93W29wdGlvbnMub25EYXRlUmVuZGVyXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUGFzc2VkIGFzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLm9uRGF0ZVJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RhdGVfcmVuZGVyJywgb3B0aW9ucy5vbkRhdGVSZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgdGFyZ2V0XHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fc2V0VGFyZ2V0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIC8vIFBhcnNlIHRhcmdldFxyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0b29scy5nZXRFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgIC8vIElmIHRhcmdldCBub3QgZm91bmRcclxuICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IFRhcmdldCB3YXMgbm90IGZvdW5kLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gU2F2ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIC8vIExpbmsgb2JqZWN0IHRvIGxpc3RcclxuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5fdGFyZ2V0LmlkO1xyXG4gICAgICAgICAgICBpZiAoaWQgJiYgaWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAganNDYWxlbmRhck9iamVjdHNbJyMnICsgaWRdID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pdCB0YXJnZXRcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9pbml0VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gQWRkIGNsYXNzXHJcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldC5jbGFzc05hbWUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5jbGFzc05hbWUgKz0gJyAnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl90YXJnZXQuY2xhc3NOYW1lICs9ICdqc0NhbGVuZGFyJztcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRhYmxlXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0YWJsZSBoZWFkZXJcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkKTtcclxuICAgICAgICAvLyBDcmVhdGUgdGFibGUgYm9keVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmJvZHkpO1xyXG5cclxuICAgICAgICAvLyBJbnNlcnQgb24gcGFnZVxyXG4gICAgICAgIHRoaXMuX3RhcmdldC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy50YWJsZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGRhdGUgaW4gcmFuZ2VcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9pc0RhdGVJblJhbmdlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIElmIG5vIHJhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubWluID09PSBmYWxzZSAmJiB0aGlzLl9vcHRpb25zLm1heCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBtaW5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5taW4gIT09IGZhbHNlICYmIHRoaXMuX29wdGlvbnMubWluLmdldFRpbWUoKSA+IGRhdGUuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgbWF4XHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubWF4ICE9PSBmYWxzZSAmJiB0aGlzLl9vcHRpb25zLm1heC5nZXRUaW1lKCkgPCBkYXRlLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbiByYW5nZVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgYSBEYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fc2V0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICAvLyBDaGVjayBkYXRlIG5vdCBpbiByYW5nZVxyXG4gICAgICAgIGlmICghdGhpcy5faXNEYXRlSW5SYW5nZShkYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNldCBkYXRhXHJcbiAgICAgICAgdGhpcy5fbm93ID0gZGF0ZTtcclxuICAgICAgICB0aGlzLl9kYXRlID0gbmV3IERhdGUodGhpcy5fbm93LmdldEZ1bGxZZWFyKCksIHRoaXMuX25vdy5nZXRNb250aCgpLCAxKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ29udmVydCB0byBkYXRlIHN0cmluZ1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3BhcnNlVG9EYXRlU3RyaW5nID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGxhbmcgPSB0aGlzLmxhbmd1YWdlO1xyXG4gICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvKE1PTlRIfG1vbnRofE1NTXxtbW18bW18bXxNTXxNfERBWXxkYXl8REREfGRkZHxkZHxkfEREfER8WVlZWXx5eXl5KS9nLCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHZXQgdmlzaWJsZSBtb250aFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2dldFZpc2libGVNb250aCA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgICAvLyBGb3IgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHNhdmVkIGRhdGVcclxuICAgICAgICAgICAgZGF0ZSA9IHRoaXMuX2RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IG1vbnRoJ3MgZmlyc3QgZGF5XHJcbiAgICAgICAgdmFyIGZpcnN0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgIGZpcnN0LnNldERhdGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEZpcnN0IGRheSBvZiB0aGUgbW9udGggaW5kZXhcclxuICAgICAgICB2YXIgZmlyc3REYXkgPSBmaXJzdC5nZXREYXkoKSAtICh0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIC0gMSk7XHJcbiAgICAgICAgaWYgKGZpcnN0RGF5IDwgMCkge1xyXG4gICAgICAgICAgICBmaXJzdERheSArPSA3O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IG1vbnRoJ3MgbmFtZVxyXG4gICAgICAgIHZhciBsYW5nID0gdGhpcy5sYW5ndWFnZTtcclxuICAgICAgICB2YXIgbmFtZSA9IHRoaXMuX29wdGlvbnMubW9udGhGb3JtYXQucmVwbGFjZSgvKE1PTlRIfG1vbnRofE1NTXxtbW18IyN8I3xZWVlZfHl5eXkpL2csIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGFuZy5kYXRlU3RyaW5nUGFyc2VyKGtleSwgZmlyc3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgdmlzaWJsZSBkYXlzXHJcbiAgICAgICAgdmFyIGRheXMgPSB0aGlzLl9nZXRWaXNpYmxlRGF0ZXMoZGF0ZSk7XHJcbiAgICAgICAgdmFyIGRheXNJbk1vbnRoID0gbmV3IERhdGUoZmlyc3QuZ2V0WWVhcigpICsgMTkwMCwgZmlyc3QuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAtMTtcclxuICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBtb250aFxyXG4gICAgICAgIGlmIChmaXJzdC5nZXRZZWFyKCkgPT09IHRoaXMuX25vdy5nZXRZZWFyKCkgJiYgZmlyc3QuZ2V0TW9udGgoKSA9PT0gdGhpcy5fbm93LmdldE1vbnRoKCkpIHtcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGN1cnJlbnRcclxuICAgICAgICAgICAgY3VycmVudCA9IGZpcnN0RGF5ICsgdGhpcy5fbm93LmdldERhdGUoKSAtIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gb2JqZWN0XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZSA6IG5hbWUsXHJcbiAgICAgICAgICAgIGRheXMgOiBkYXlzLFxyXG4gICAgICAgICAgICBzdGFydCA6IGZpcnN0RGF5ICsgMSxcclxuICAgICAgICAgICAgY3VycmVudCA6IGN1cnJlbnQsXHJcbiAgICAgICAgICAgIGVuZCA6IGZpcnN0RGF5ICsgZGF5c0luTW9udGhcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHZXQgdmlzaWJsZSBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2dldFZpc2libGVEYXRlcyA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgICAvLyBGb3IgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHNhdmVkIGRhdGVcclxuICAgICAgICAgICAgZGF0ZSA9IHRoaXMuX2RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmlzaWJsZSBkYXlzIGFycmF5XHJcbiAgICAgICAgdmFyIGRhdGVzID0gW107XHJcbiAgICAgICAgLy8gR2V0IGZpcnN0IGRheSBvZiB0aGUgbW9udGhcclxuICAgICAgICB2YXIgZmlyc3QgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgZmlyc3Quc2V0RGF0ZSgxKTtcclxuICAgICAgICBmaXJzdC5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgZGF5cyBvZiBwcmV2aW91cyBtb250aCB0byBzaG93XHJcbiAgICAgICAgdmFyIHByZXZpb3VzID0gZmlyc3QuZ2V0RGF5KCkgLSAodGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayAtIDEpO1xyXG4gICAgICAgIGlmIChwcmV2aW91cyA8IDApIHtcclxuICAgICAgICAgICAgcHJldmlvdXMgKz0gNztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IGRheSB0byBtb250aCdzIGZpcnN0XHJcbiAgICAgICAgdmFyIGRheSA9IG5ldyBEYXRlKGZpcnN0LmdldFRpbWUoKSk7XHJcbiAgICAgICAgLy8gUHJldmlvdXMgbW9udGgncyBkYXlzXHJcbiAgICAgICAgd2hpbGUgKHByZXZpb3VzID4gMCkge1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcHJldmlvdXMgZGF5XHJcbiAgICAgICAgICAgIGRheS5zZXREYXRlKGRheS5nZXREYXRlKCkgLSAxKTtcclxuICAgICAgICAgICAgLy8gQWRkIHBhZ2Ugb24gZnJvbmQgb2YgdGhlIGxpc3RcclxuICAgICAgICAgICAgZGF0ZXMudW5zaGlmdChuZXcgRGF0ZShkYXkuZ2V0VGltZSgpKSk7XHJcbiAgICAgICAgICAgIC8vIFByZXZpb3VzXHJcbiAgICAgICAgICAgIHByZXZpb3VzIC0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRheSB0byBtb250aCdzIGZpcnN0XHJcbiAgICAgICAgZGF5ID0gbmV3IERhdGUoZmlyc3QuZ2V0VGltZSgpKTtcclxuICAgICAgICAvLyBUaGlzIG1vbnRoJ3MgZGF5c1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgLy8gQWRkIHBhZ2Ugb24gYmFjayBvZiB0aGUgbGlzdFxyXG4gICAgICAgICAgICBkYXRlcy5wdXNoKG5ldyBEYXRlKGRheS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIG5leHQgZGF5XHJcbiAgICAgICAgICAgIGRheS5zZXREYXRlKGRheS5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgICAgICAgLy8gUmVwZWF0IHVudGlsIG5leHQgbW9udGhcclxuICAgICAgICB9IHdoaWxlIChkYXkuZ2V0RGF0ZSgpICE9PSAxKTtcclxuXHJcbiAgICAgICAgLy8gTmV4dCBtb250aCdzIGRheXNcclxuICAgICAgICB2YXIgbmV4dCA9IDQyIC0gZGF0ZXMubGVuZ3RoO1xyXG4gICAgICAgIC8vIEFkZCBkYXlzIGxlZnRcclxuICAgICAgICB3aGlsZSAobmV4dCA+IDApIHtcclxuICAgICAgICAgICAgLy8gQWRkIHBhZ2Ugb24gYmFjayBvZiB0aGUgbGlzdFxyXG4gICAgICAgICAgICBkYXRlcy5wdXNoKG5ldyBEYXRlKGRheS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIG5leHQgZGF5XHJcbiAgICAgICAgICAgIGRheS5zZXREYXRlKGRheS5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgICAgICAgLy8gTmV4dFxyXG4gICAgICAgICAgICBuZXh0IC0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIGRheXNcclxuICAgICAgICByZXR1cm4gZGF0ZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWF0ZSBjYWxlbmRhclxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpLCBqO1xyXG4gICAgICAgIC8vIFNhdmUgaW5zdGFuY2VcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIFNldCBjcmVhdGVkIGZsYWdcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5jcmVhdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gSGVhZCByb3dzXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3MgPSBbXTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSb3dzLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW9udGggcm93XHJcbiAgICAgICAgdmFyIHRpdGxlX2hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XHJcbiAgICAgICAgdGl0bGVfaGVhZGVyLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIDcpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSb3dzWzBdLmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXRpdGxlLXJvdyc7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMF0uYXBwZW5kQ2hpbGQodGl0bGVfaGVhZGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZExlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci10aXRsZS1sZWZ0JztcclxuICAgICAgICB0aXRsZV9oZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuaGVhZExlZnQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubW9udGguY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUtbmFtZSc7XHJcbiAgICAgICAgdGl0bGVfaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLm1vbnRoKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQuY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUtcmlnaHQnO1xyXG4gICAgICAgIHRpdGxlX2hlYWRlci5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQpO1xyXG5cclxuICAgICAgICAvLyBOYXZpZ2F0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm5hdkxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2TGVmdC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1uYXYtbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm5hdlJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm5hdlJpZ2h0LmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLW5hdi1yaWdodCc7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3JQb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZMZWZ0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRMZWZ0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLm5hdlJpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9vcHRpb25zLm5hdmlnYXRvclBvc2l0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2TGVmdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZExlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2TGVmdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFdmVudCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2TGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICAgICAgICAgIHRoYXQucHJldmlvdXMoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhhdC5fZGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fZXZlbnRGaXJlKCdtb250aCcsIGRhdGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5uYXZSaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICAgICAgICAgIHRoYXQubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGF0Ll9kYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldERhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9ldmVudEZpcmUoJ21vbnRoJywgZGF0ZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEYXlzIHJvd1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSb3dzWzFdLmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXdlZWstZGF5cyc7XHJcbiAgICAgICAgdGl0bGVfaGVhZGVyLmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXRpdGxlJztcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzID0gW107XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSb3dzWzFdLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmRheXNbXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzLmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCb2R5IHJvd3NcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Um93cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzID0gW107XHJcbiAgICAgICAgLy8gNiByb3dzXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Um93cy5wdXNoKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzW2ldKTtcclxuICAgICAgICAgICAgLy8gNyBkYXlzXHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCA3OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Um93c1tpXS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpICogNyArIGpdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2kgKiA3ICsgal0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fZXZlbnRGaXJlKCdkYXRlJywgdGhhdC5fYWN0aXZlW2luZGV4XSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KShpICogNyArIGopLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbGVjdCBkYXRlcyBvbiBjYWxlbmRhclxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3NlbGVjdERhdGVzID0gZnVuY3Rpb24oZGF0ZXMpIHtcclxuICAgICAgICAvLyBDb3B5IGFycmF5IGluc3RhbmNlXHJcbiAgICAgICAgZGF0ZXMgPSBkYXRlcy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSB0b29scy5wYXJzZURhdGUoZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICBkYXRlc1tpXS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSBkYXRlc1tpXS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbnNlcnQgZGF0ZXMgb24gYXJyYXlcclxuICAgICAgICBmb3IgKGkgPSBkYXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAvLyBJZiBub3QgYWxyZWFkeSBzZWxlY3RlZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihkYXRlc1tpXSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZC5wdXNoKGRhdGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVW4tc2VsZWN0IGRhdGVzIG9uIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fdW5zZWxlY3REYXRlcyA9IGZ1bmN0aW9uKGRhdGVzKSB7XHJcbiAgICAgICAgLy8gQ29weSBhcnJheSBpbnN0YW5jZVxyXG4gICAgICAgIGRhdGVzID0gZGF0ZXMuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gUGFyc2UgZGF0ZXNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRhdGVzW2ldID0gdG9vbHMucGFyc2VEYXRlKGRhdGVzW2ldKTtcclxuICAgICAgICAgICAgZGF0ZXNbaV0uc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIGRhdGVzW2ldID0gZGF0ZXNbaV0uZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGRhdGVzIG9mIHRoZSBhcnJheVxyXG4gICAgICAgIHZhciBpbmRleDtcclxuICAgICAgICBmb3IgKGkgPSBkYXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAvLyBJZiBzZWxlY3RlZFxyXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVW5zZWxlY3QgYWxsIGRhdGVzIG9uIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fdW5zZWxlY3RBbGxEYXRlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFdoaWxlIG5vdCBlbXB0eVxyXG4gICAgICAgIHdoaWxlICh0aGlzLl9zZWxlY3RlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWQucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVcGRhdGUgY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBHZXQgbW9udGggaW5mb1xyXG4gICAgICAgIHZhciBtb250aCA9IHRoaXMuX2dldFZpc2libGVNb250aCh0aGlzLl9kYXRlKTtcclxuICAgICAgICAvLyBTYXZlIGRhdGFcclxuICAgICAgICB0aGlzLl9hY3RpdmUgPSBtb250aC5kYXlzLnNsaWNlKCk7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1vbnRoIG5hbWVcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tb250aC50ZXh0Q29udGVudCA9IG1vbnRoLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHplcm9zIGZpbGxpbmdcclxuICAgICAgICB2YXIgcHJlZml4ID0gKHRoaXMuX29wdGlvbnMuemVyb0ZpbGwpID8gJzAnIDogJyc7XHJcblxyXG4gICAgICAgIC8vIFBvcHVsYXRlIGRheXNcclxuICAgICAgICB2YXIgdGV4dDtcclxuICAgICAgICBmb3IgKHZhciBpID0gbW9udGguZGF5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gbW9udGguZGF5c1tpXS5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2ldLnRleHRDb250ZW50ID0gKHRleHQgPCAxMCA/IHByZWZpeCArIHRleHQgOiB0ZXh0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGRhdGUgaXMgc2VsZWN0ZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkLmluZGV4T2YobW9udGguZGF5c1tpXS5nZXRUaW1lKCkpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2ldLmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXNlbGVjdGVkJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2ldLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUHJldmlvdXMgbW9udGhcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9udGguc3RhcnQgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItcHJldmlvdXMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDdXJyZW50IGRheVxyXG4gICAgICAgIGlmIChtb250aC5jdXJyZW50ID49IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW21vbnRoLmN1cnJlbnRdLmNsYXNzTmFtZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1ttb250aC5jdXJyZW50XS5jbGFzc05hbWUgKz0gJyBqc0NhbGVuZGFyLWN1cnJlbnQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbbW9udGguY3VycmVudF0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItY3VycmVudCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTmV4dCBtb250aFxyXG4gICAgICAgIGZvciAoaSA9IG1vbnRoLmVuZDsgaSA8IG1vbnRoLmRheXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItbmV4dCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgZGF5cyBvZiB0aGUgd2VlayBsb2NhbGVcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuZGF5c1tpXS50ZXh0Q29udGVudCA9IHRoaXMuX29wdGlvbnMuZGF5Rm9ybWF0LnJlcGxhY2UoLyhEQVl8ZGF5fERERHxkZGR8RER8ZGR8RCkvZywgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5sYW5ndWFnZS5kYXlTdHJpbmdQYXJzZXIoXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIChpICsgdGhhdC5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayAtIDEpICUgN1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHJlbmRlciBoYW5kbGVyc1xyXG4gICAgICAgIHZhciBqO1xyXG4gICAgICAgIGlmICh0aGlzLl9ldmVudHMubW9udGhfcmVuZGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBtb250aC5kYXlzW21vbnRoLnN0YXJ0XTtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHN0eWxlXHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcmVuZGVyIGhhbmRsZXJzXHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9ldmVudHMubW9udGhfcmVuZGVyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHMubW9udGhfcmVuZGVyW2pdLmNhbGwodGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAvLyBNb250aCBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBodG1sIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5tb250aCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBJbmZvIGFib3V0IHRoYXQgbW9udGhcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0IDogbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgOiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDAsIDIzLCA1OSwgNTksIDk5OSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlck9mRGF5cyA6IG1vbnRoLmVuZCAtIG1vbnRoLnN0YXJ0ICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5kYXlfcmVuZGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHN0eWxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzW2ldLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIHJlbmRlciBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5fZXZlbnRzLmRheV9yZW5kZXIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHMuZGF5X3JlbmRlcltqXS5jYWxsKHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERheSBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoaSArIHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgLSAxKSAlIDcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIGh0bWwgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmZvIGFib3V0IHRoYXQgZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIDogaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmRhdGVfcmVuZGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vbnRoLmRheXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBzdHlsZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcmVuZGVyIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXJbal0uY2FsbCh0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlIHNob3VsZCBiZSBjbG9ubmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKG1vbnRoLmRheXNbaV0uZ2V0VGltZSgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0aGUgaHRtbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmZvIGFib3V0IHRoYXQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnQgOiAobW9udGguY3VycmVudCA9PSBpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgOiAodGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihtb250aC5kYXlzW2ldLmdldFRpbWUoKSkgPj0gMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZpb3VzTW9udGggOiAoaSA8IG1vbnRoLnN0YXJ0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudE1vbnRoIDogKG1vbnRoLnN0YXJ0IDw9IGkgJiYgaSA8PSBtb250aC5lbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXh0TW9udGggOiAobW9udGguZW5kIDwgaSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA6IHt4OiBpJTcsIHk6IE1hdGguZmxvb3IoaS83KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEZpcmUgYWxsIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2V2ZW50RmlyZSA9IGZ1bmN0aW9uKG5hbWUsIGRhdGUsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHJldHVybjtcclxuICAgICAgICAvLyBTZWFyY2ggZXZlbnRzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9ldmVudHNbbmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uKGNhbGxiYWNrLCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBhc3luY2hyb25vdXNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChpbnN0YW5jZSwgZXZlbnQsIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKSk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfSkodGhpcy5fZXZlbnRzW25hbWVdW2ldLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBhIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAvLyBUaGlzIG1ldGhvZCB3aWxsIGJlIGV4cG9zZWQgb24gdGhlIGZ1dHVyZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX29uID0gZnVuY3Rpb24obmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAvLyBJZiBjYWxsYmFjayBpcyBhIGZ1bmN0aW9uXHJcbiAgICAgICAgaWYodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgLy8gQWRkIHRvIHRoZSBsaXN0XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdCBhIGZ1bmN0aW9uXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBjYWxsYmFjayBmdW5jdGlvbi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBZGQgYSBldmVudCBsaXN0ZW5lcnNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uRGF0ZUNsaWNrID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ2RhdGUnLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUub25Nb250aENoYW5nZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uKCdtb250aCcsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5vbkRheVJlbmRlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uKCdkYXlfcmVuZGVyJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uRGF0ZVJlbmRlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uKCdkYXRlX3JlbmRlcicsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5vbk1vbnRoUmVuZGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ21vbnRoX3JlbmRlcicsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gR290byBhIGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIFNldCBuZXcgZGF0ZVxyXG4gICAgICAgIHRoaXMuX3NldERhdGUoZGF0ZSk7XHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2V0IG1pbiBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICAvLyBJZiB2YWx1ZVxyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCBtaW4gZGF0ZVxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1pbiA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGlzYWJsZVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1pbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2V0IG1heCBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICAvLyBJZiB2YWx1ZVxyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCBtYXggZGF0ZVxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1heCA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGlzYWJsZVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm1heCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVmcmVzaFxyXG4gICAgLy8gU2FmZSBfdXBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIElmIGRhdGUgcHJvdmlkZWRcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGRhdGUgaXMgaW4gcmFuZ2VcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGF0ZUluUmFuZ2UoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGNhbGVuZGFyIGVsZW1lbnRzIHJlYWR5XHJcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnRzLmNyZWF0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gTmV4dCBtb250aFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKG4pe1xyXG4gICAgICAgIC8vIE5leHQgbnVtYmVyXHJcbiAgICAgICAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBuID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkYXRlXHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLl9kYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuX2RhdGUuZ2V0TW9udGgoKSArIG4sIDEpO1xyXG5cclxuICAgICAgICAvLyBJZiBkYXRlIGlzIG5vdCBpbiByYW5nZVxyXG4gICAgICAgIGlmICghdGhpcy5faXNEYXRlSW5SYW5nZShkYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkYXRlXHJcbiAgICAgICAgdGhpcy5fZGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBOZXh0IG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uKG4pe1xyXG4gICAgICAgIC8vIE5leHQgbnVtYmVyXHJcbiAgICAgICAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBuID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkYXRlIChsYXN0IGRheSBvZiBwcmV2aW91cyBtb250aClcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuX2RhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5fZGF0ZS5nZXRNb250aCgpIC0gbiArIDEsIDApO1xyXG5cclxuICAgICAgICAvLyBJZiBkYXRlIGlzIG5vdCBpbiByYW5nZVxyXG4gICAgICAgIGlmICghdGhpcy5faXNEYXRlSW5SYW5nZShkYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkYXRlXHJcbiAgICAgICAgdGhpcy5fZGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHb3RvIGEgZGF0ZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuZ290byA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIHRoaXMucmVmcmVzaChkYXRlKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlc2V0IHRvIHRoZSBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKHRoaXMuX25vdyk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZWxlY3QgZGF0ZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGVzKXtcclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHNcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGVzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBkYXRlcyBub3QgYXJyYXlcclxuICAgICAgICBpZiAoIShkYXRlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAvLyBMZXRzIG1ha2UgaXQgYW4gYXJyYXlcclxuICAgICAgICAgICAgZGF0ZXMgPSBbZGF0ZXNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZWxlY3QgZGF0ZXNcclxuICAgICAgICB0aGlzLl9zZWxlY3REYXRlcyhkYXRlcyk7XHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gVW5zZWxlY3QgZGF0ZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnVuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZXMpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZXMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGVzIG5vdCBhcnJheVxyXG4gICAgICAgIGlmICghKGRhdGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIExldHMgbWFrZSBpdCBhbiBhcnJheVxyXG4gICAgICAgICAgICBkYXRlcyA9IFtkYXRlc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVuc2VsZWN0IGRhdGVzXHJcbiAgICAgICAgdGhpcy5fdW5zZWxlY3REYXRlcyhkYXRlcyk7XHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gVW5zZWxlY3QgYWxsIGRhdGVzXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5jbGVhcnNlbGVjdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gVW5zZWxlY3QgYWxsIGRhdGVzXHJcbiAgICAgICAgdGhpcy5fdW5zZWxlY3RBbGxEYXRlcygpO1xyXG4gICAgICAgIC8vIFJlZnJlc2hcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLy8gVW5zZWxlY3QgYWxsIGRhdGVzIChhbGlhcylcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmNsZWFyU2VsZWN0ZWQgPSBKc0NhbGVuZGFyLnByb3RvdHlwZS5jbGVhcnNlbGVjdDtcclxuXHJcbiAgICAvLyBHZXQgc2VsZWN0ZWQgZGF0ZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmdldFNlbGVjdGVkID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbm8gb3B0aW9uc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29weSBzZWxlY3RlZCBhcnJheVxyXG4gICAgICAgIHZhciBkYXRlcyA9IHRoaXMuX3NlbGVjdGVkLnNsaWNlKCk7XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbnMgLSBTb3J0IGFycmF5XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc29ydCkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlcy5zb3J0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuc29ydCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQudG9Mb3dlckNhc2UoKSA9PT0gJ2FzYycpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlcy5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLnNvcnQudG9Mb3dlckNhc2UoKSA9PT0gJ2Rlc2MnKXtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlcy5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPcHRpb25zIC0gRGF0YSB0eXBlXHJcbiAgICAgICAgaWYgKG9wdGlvbnMudHlwZSAmJiB0eXBlb2Ygb3B0aW9ucy50eXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgaTtcclxuICAgICAgICAgICAgLy8gQ29udmVydCB0byBkYXRlIG9iamVjdFxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRlJyl7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBkYXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzW2ldID0gbmV3IERhdGUoZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCBhIHRpbWVzdGFtcCAtIGNvbnZlcnQgdG8gY3VzdG9tIGZvcm1hdFxyXG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gJ3RpbWVzdGFtcCcpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXNbaV0gPSB0aGlzLl9wYXJzZVRvRGF0ZVN0cmluZyhuZXcgRGF0ZShkYXRlc1tpXSksIG9wdGlvbnMudHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBkYXRlc1xyXG4gICAgICAgIHJldHVybiBkYXRlcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpcyBzZWxlY3RlZFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuaXNTZWxlY3RlZCA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50cyBvciBudWxsXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJyB8fCBkYXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIGRhdGUgPSBkYXRlLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgc2VsZWN0ZWRcclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihkYXRlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBub3Qgc2VsZWN0ZWRcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpcyB2aXNpYmxlIGluIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgb3IgbnVsbFxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFyc2UgZGF0ZVxyXG4gICAgICAgIGRhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICBkYXRlID0gZGF0ZS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIC8vIEdldCB2aXNpYmxlIGRhdGVzXHJcbiAgICAgICAgdmFyIHZpc2libGUgPSB0aGlzLl9nZXRWaXNpYmxlRGF0ZXMoKTtcclxuICAgICAgICAvLyBDaGVjayBpZiBkYXRlIGlzIGluc2lkZSB2aXNpYmxlIGRhdGVzXHJcbiAgICAgICAgaWYgKHZpc2libGVbMF0uZ2V0VGltZSgpIDw9IGRhdGUgJiYgdmlzaWJsZVt2aXNpYmxlLmxlbmd0aCAtIDFdLmdldFRpbWUoKSA+PSBkYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOb3QgdmlzaWJsZVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIGluIGFjdGl2ZSBtb250aFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuaXNJbk1vbnRoID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzIG9yIG51bGxcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGRhdGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGUgYW5kIGdldCBtb250aFxyXG4gICAgICAgIHZhciBtb250aCA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBtb250aC5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICBtb250aC5zZXREYXRlKDEpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSBhY3RpdmUgbW9udGggZGF0ZVxyXG4gICAgICAgIHZhciBhY3RpdmUgPSB0b29scy5wYXJzZURhdGUodGhpcy5fZGF0ZSk7XHJcbiAgICAgICAgYWN0aXZlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIGFjdGl2ZS5zZXREYXRlKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIHNhbWUgbW9udGhcclxuICAgICAgICBpZiAobW9udGguZ2V0VGltZSgpID09PSBhY3RpdmUuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBPdGhlciBtb250aFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgbGFuZ3VhZ2VcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnNldExhbmd1YWdlID0gZnVuY3Rpb24oY29kZSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGxhbmd1YWdlIGV4aXN0XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2RlICE9PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBjb2RlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMubGFuZ3VhZ2VzW2NvZGVdID09PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogTGFuZ3VhZ2Ugbm90IGZvdW5kLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hhbmdlIGxhbmd1YWdlXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5sYW5ndWFnZSA9IGNvZGU7XHJcblxyXG4gICAgICAgIC8vIFNldCBuZXcgbGFuZ3VhZ2UgYXMgYWN0aXZlXHJcbiAgICAgICAgdmFyIGxhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXNbY29kZV07XHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZS5tb250aHMgPSBsYW5ndWFnZS5tb250aHM7XHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZS5kYXlzID0gbGFuZ3VhZ2UuZGF5cztcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLmRhdGVTdHJpbmdQYXJzZXIgPSBsYW5ndWFnZS5fZGF0ZVN0cmluZ1BhcnNlcjtcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLmRheVN0cmluZ1BhcnNlciA9IGxhbmd1YWdlLl9kYXlTdHJpbmdQYXJzZXI7XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggY2FsZW5kYXJcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgZm9vIG1ldGhvZHMgKHdlbGwuLi4gbm90IHJlYWxseSBzdGF0aWMpXHJcblxyXG4gICAgLy8gQXV0byBpbml0IGNhbGVuZGFyc1xyXG4gICAgSnNDYWxlbmRhci5hdXRvRmluZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEdldCBhbGwgYXV0by1jYWxlbmRhcnNcclxuICAgICAgICB2YXIgY2FsZW5kYXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXV0by1qc0NhbGVuZGFyJyk7XHJcbiAgICAgICAgLy8gRm9yIGVhY2ggYXV0by1jYWxlbmRhclxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsZW5kYXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCBsb2FkZWRcclxuICAgICAgICAgICAgaWYgKGNhbGVuZGFyc1tpXS5nZXRBdHRyaWJ1dGUoJ2pzQ2FsZW5kYXItbG9hZGVkJykgIT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFzIGxvYWRlZFxyXG4gICAgICAgICAgICAgICAgY2FsZW5kYXJzW2ldLnNldEF0dHJpYnV0ZSgnanNDYWxlbmRhci1sb2FkZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlXHJcbiAgICAgICAgICAgICAgICBuZXcgSnNDYWxlbmRhcih7dGFyZ2V0OiBjYWxlbmRhcnNbaV19KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFRvb2xzXHJcbiAgICB2YXIgdG9vbHMgPSBKc0NhbGVuZGFyLnRvb2xzID0ge307XHJcbiAgICAvLyBQYXJzZSB0byBqYXZhc2NyaXB0IGRhdGUgb2JqZWN0XHJcbiAgICB0b29scy5wYXJzZURhdGUgPSBmdW5jdGlvbihkYXRlLCBzaWxlbnQpIHtcclxuICAgICAgICAvLyBJZiBzZXQgbm93IGRhdGVcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGRhdGUgPT09IG51bGwgfHwgZGF0ZSA9PT0gJ25vdycpIHtcclxuICAgICAgICAgICAgLy8gR2V0IGRhdGUgbm93XHJcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgZGF0ZSBpcyBzdHJpbmdcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgZGF0ZSBzdHJpbmdcclxuICAgICAgICAgICAgZGF0ZSA9IGRhdGUucmVwbGFjZSgvLS9nLCcvJykubWF0Y2goL14oXFxkezEsMn0pXFwvKFxcZHsxLDJ9KVxcLyhcXGR7NCw0fSkkL2kpO1xyXG4gICAgICAgICAgICAvLyBJZiBtYXRjaFxyXG4gICAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoX2luZGV4ID0gcGFyc2VJbnQoZGF0ZVsyXSwgMTApIC0gMTtcclxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlWzNdLCBtb250aF9pbmRleCwgZGF0ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBkYXRlIGRvZXMgbm90IGV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGUgfHwgZGF0ZS5nZXRNb250aCgpICE9PSBtb250aF9pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogRGF0ZSBkb2VzIG5vdCBleGlzdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDYW4ndCBwYXJzZSBzdHJpbmdcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogRmFpbGVkIHRvIHBhcnNlIGRhdGUuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgaXQgaXMgYSBudW1iZXJcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHRpbWUgZnJvbSB0aW1lc3RhbXBcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgaXQgbm90IGEgZGF0ZSBcclxuICAgICAgICBlbHNlIGlmICghKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICBpZiAoIXNpbGVudCkgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGRhdGUuJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIGRhdGVcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgfTtcclxuICAgIHRvb2xzLnN0cmluZ1RvRGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZTtcclxuICAgIC8vIERhdGUgdG8gc3RyaW5nXHJcbiAgICB0b29scy5kYXRlVG9TdHJpbmcgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIGxhbmcpIHtcclxuICAgICAgICAvLyBGaW5kIGxhbmdcclxuICAgICAgICB2YXIgbGFuZ3VhZ2VzID0gSnNDYWxlbmRhci5wcm90b3R5cGUubGFuZ3VhZ2VzO1xyXG4gICAgICAgIGlmICghbGFuZyB8fCAhbGFuZ3VhZ2VzLmhhc093blByb3BlcnR5KGxhbmcpKSB7XHJcbiAgICAgICAgICAgIGxhbmcgPSAnZW4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbCBwYXJzZXJcclxuICAgICAgICByZXR1cm4gSnNDYWxlbmRhci5wcm90b3R5cGUuX3BhcnNlVG9EYXRlU3RyaW5nLmFwcGx5KFxyXG4gICAgICAgICAgICB7bGFuZ3VhZ2UgOiB7XHJcbiAgICAgICAgICAgICAgICBtb250aHMgOiBsYW5ndWFnZXNbbGFuZ10ubW9udGhzLFxyXG4gICAgICAgICAgICAgICAgZGF5cyA6IGxhbmd1YWdlc1tsYW5nXS5kYXlzLFxyXG4gICAgICAgICAgICAgICAgZGF0ZVN0cmluZ1BhcnNlciA6IGxhbmd1YWdlc1tsYW5nXS5fZGF0ZVN0cmluZ1BhcnNlcixcclxuICAgICAgICAgICAgICAgIGRheVN0cmluZ1BhcnNlciA6IGxhbmd1YWdlc1tsYW5nXS5fZGF5U3RyaW5nUGFyc2VyXHJcbiAgICAgICAgICAgIH19LFxyXG4gICAgICAgICAgICBbZGF0ZSwgZm9ybWF0XVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgLy8gR2V0IGVsZW1lbnRcclxuICAgIHRvb2xzLmdldEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbm90IHZhbGlkXHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgc3RyaW5nXHJcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgZWxlbWVudCBieSBpZFxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudFswXSA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5zdWJzdHJpbmcoMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEdldCBlbGVtZW50IGJ5IGNsYXNzLW5hbWVcclxuICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudFswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlbGVtZW50LnN1YnN0cmluZygxKSlbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gb3IgaWYgaXQgaXMgSFRNTCBlbGVtZW50IChqdXN0IGEgbmFpdmUtc2ltcGxlIGNoZWNrKVxyXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnQudGFnTmFtZSAmJiBlbGVtZW50Lm5vZGVOYW1lICYmIGVsZW1lbnQub3duZXJEb2N1bWVudCAmJiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVua25vd25cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEdldCBhIG5ldyBvYmplY3RcclxuICAgIEpzQ2FsZW5kYXIubmV3ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBDcmVhdGUgbmV3IG9iamVjdFxyXG4gICAgICAgIHZhciBvYmogPSBuZXcgSnNDYWxlbmRhcigpO1xyXG4gICAgICAgIC8vIENvbnN0cnVjdCBjYWxlbmRhclxyXG4gICAgICAgIG9iai5fY29uc3RydWN0KGFyZ3VtZW50cyk7XHJcbiAgICAgICAgLy8gUmV0dXJuIG5ldyBvYmplY3RcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gTWFuYWdlIGV4aXN0aW5nIGpzQ2FsZW5kYXIgb2JqZWN0c1xyXG4gICAgdmFyIGpzQ2FsZW5kYXJPYmplY3RzID0ge307XHJcbiAgICBKc0NhbGVuZGFyLnNldCA9IGZ1bmN0aW9uKGlkZW50aWZpZXIsIGNhbGVuZGFyKXtcclxuICAgICAgICBpZiAoY2FsZW5kYXIgaW5zdGFuY2VvZiBKc0NhbGVuZGFyKSB7XHJcbiAgICAgICAgICAgIGpzQ2FsZW5kYXJPYmplY3RzW2lkZW50aWZpZXJdID0gY2FsZW5kYXI7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IFRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIG5vdCBhIGpzQ2FsZW5kYXIuJyk7XHJcbiAgICB9O1xyXG4gICAgSnNDYWxlbmRhci5nZXQgPSBmdW5jdGlvbihpZGVudGlmaWVyKXtcclxuICAgICAgICBpZiAoanNDYWxlbmRhck9iamVjdHMuaGFzT3duUHJvcGVydHkoaWRlbnRpZmllcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpzQ2FsZW5kYXJPYmplY3RzW2lkZW50aWZpZXJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLmRlbCA9IGZ1bmN0aW9uKGlkZW50aWZpZXIpe1xyXG4gICAgICAgIGlmIChqc0NhbGVuZGFyT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICBkZWxldGUganNDYWxlbmRhck9iamVjdHNbaWRlbnRpZmllcl07XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBBZGQgYSBuZXcgbGFuZ3VhZ2VcclxuICAgIEpzQ2FsZW5kYXIuYWRkTGFuZ3VhZ2UgPSBmdW5jdGlvbihsYW5ndWFnZSl7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbGFuZ3VhZ2Ugb2JqZWN0IGlzIHZhbGlkXHJcbiAgICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBObyBsYW5ndWFnZSBvYmplY3Qgd2FzIGdpdmVuLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiB2YWxpZCBsYW5ndWFnZSBjb2RlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZS5jb2RlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgbGFuZ3VhZ2UgY29kZS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgbGFuZ3VhZ2UgbW9udGhzXHJcbiAgICAgICAgaWYgKCEobGFuZ3VhZ2UubW9udGhzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBtb250aHMuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYW5ndWFnZS5tb250aHMubGVuZ3RoICE9PSAxMikge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgbGFuZ3VhZ2UgbW9udGhzIGxlbmd0aC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgbGFuZ3VhZ2UgZGF5c1xyXG4gICAgICAgIGlmICghKGxhbmd1YWdlLmRheXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGxhbmd1YWdlIGRheXMuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYW5ndWFnZS5kYXlzLmxlbmd0aCAhPT0gNykge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgbGFuZ3VhZ2UgZGF5cyBsZW5ndGguJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3cgc2F2ZSBsYW5ndWFnZVxyXG4gICAgICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmxhbmd1YWdlc1tsYW5ndWFnZS5jb2RlXSA9IGxhbmd1YWdlO1xyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSBsYW5ndWFnZSBzdHJpbmcgZm9ybWF0IGhhbmRsZXJzXHJcbiAgICAgICAgbGFuZ3VhZ2UuX2RhdGVTdHJpbmdQYXJzZXIgPSAoXHJcbiAgICAgICAgICAgIGxhbmd1YWdlLmhhc093blByb3BlcnR5KCdkYXRlU3RyaW5nUGFyc2VyJykgP1xyXG4gICAgICAgICAgICBmdW5jdGlvbihrZXksIGRhdGUpIHtyZXR1cm4gbGFuZ3VhZ2UuZGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUpIHx8IEpzQ2FsZW5kYXIuX2RlZmF1bHREYXRlU3RyaW5nUGFyc2VyKGtleSwgZGF0ZSwgbGFuZ3VhZ2UpO30gOlxyXG4gICAgICAgICAgICBmdW5jdGlvbihrZXksIGRhdGUpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIoa2V5LCBkYXRlLCBsYW5ndWFnZSk7fVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGFuZ3VhZ2UuX2RheVN0cmluZ1BhcnNlciA9IChcclxuICAgICAgICAgICAgbGFuZ3VhZ2UuaGFzT3duUHJvcGVydHkoJ2RheVN0cmluZ1BhcnNlcicpID9cclxuICAgICAgICAgICAgZnVuY3Rpb24oa2V5LCBkYXkpIHtyZXR1cm4gbGFuZ3VhZ2UuZGF5U3RyaW5nUGFyc2VyKGtleSwgZGF5KSB8fCBKc0NhbGVuZGFyLl9kZWZhdWx0RGF5U3RyaW5nUGFyc2VyKGtleSwgZGF5LCBsYW5ndWFnZSk7fSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGtleSwgZGF5KSB7cmV0dXJuIEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXksIGxhbmd1YWdlKTt9XHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gRGVmYXVsdCBmdW5jdGlvbiB0byBoYW5kbGUgZGF0ZS1zdHJpbmcgcGFyc2luZ1xyXG4gICAgSnNDYWxlbmRhci5fZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIgPSBmdW5jdGlvbihrZXksIGRhdGUsIGxhbmcpe1xyXG4gICAgICAgIHN3aXRjaChrZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnTU9OVEgnOlxyXG4gICAgICAgICAgICBjYXNlICdtb250aCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5tb250aHNbZGF0ZS5nZXRNb250aCgpXTtcclxuICAgICAgICAgICAgY2FzZSAnTU1NJzpcclxuICAgICAgICAgICAgY2FzZSAnbW1tJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldLnN1YnN0cmluZygwLCAzKTtcclxuICAgICAgICAgICAgY2FzZSAnbW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcubW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICBjYXNlICdtJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldLnN1YnN0cmluZygwLCAxKTtcclxuICAgICAgICAgICAgY2FzZSAnTU0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChkYXRlLmdldE1vbnRoKCkgPCA5ID8gJzAnIDogJycpICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgICAgICBjYXNlICdNJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgICBjYXNlICcjIyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUuZ2V0TW9udGgoKSA8IDkgPyAnMCcgOiAnJykgKyAoZGF0ZS5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgICAgIGNhc2UgJyMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgIGNhc2UgJ0RBWSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RhdGUuZ2V0RGF5KCldO1xyXG4gICAgICAgICAgICBjYXNlICdEREQnOlxyXG4gICAgICAgICAgICBjYXNlICdkZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXRlLmdldERheSgpXS5zdWJzdHJpbmcoMCwgMyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF0ZS5nZXREYXkoKV0uc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF0ZS5nZXREYXkoKV0uc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgICAgICBjYXNlICdERCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUuZ2V0RGF0ZSgpIDw9IDkgPyAnMCcgOiAnJykgKyBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ1lZWVknOlxyXG4gICAgICAgICAgICBjYXNlICd5eXl5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldFllYXIoKSArIDE5MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uIHRvIGhhbmRsZSBkYXRlLXN0cmluZyBwYXJzaW5nXHJcbiAgICBKc0NhbGVuZGFyLl9kZWZhdWx0RGF5U3RyaW5nUGFyc2VyID0gZnVuY3Rpb24oa2V5LCBkYXksIGxhbmcpe1xyXG4gICAgICAgIHN3aXRjaChrZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnREFZJzpcclxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF5XTtcclxuICAgICAgICAgICAgY2FzZSAnREREJzpcclxuICAgICAgICAgICAgY2FzZSAnZGRkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF5XS5zdWJzdHJpbmcoMCwgMyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ0REJzpcclxuICAgICAgICAgICAgY2FzZSAnZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXldLnN1YnN0cmluZygwLCAyKTtcclxuICAgICAgICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RheV0uc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gTG9hZCBhbnkgbGFuZ3VhZ2Ugb24gdGhlIGxvYWQgbGlzdFxyXG4gICAgKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gSWYgYSBsaXN0IGV4aXN0XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuanNDYWxlbmRhcl9sYW5ndWFnZTJsb2FkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBXaGlsZSBsaXN0IG5vdCBlbXB0eVxyXG4gICAgICAgICAgICB3aGlsZSAod2luZG93LmpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2UgaXQgYXN5bmNocm9ub3VzXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KChmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGltZW91dCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSnNDYWxlbmRhci5hZGRMYW5ndWFnZShsYW5ndWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pKHdpbmRvdy5qc0NhbGVuZGFyX2xhbmd1YWdlMmxvYWQucG9wKCkpLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCB1c2VsZXNzIGxpc3RcclxuICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5qc0NhbGVuZGFyX2xhbmd1YWdlMmxvYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBJbml0IGF1dG8gY2FsZW5kYXJzXHJcbiAgICAvLyBBZnRlciB0aGUgcGFnZSBsb2Fkc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBHZXQgY2FsZW5kYXJzXHJcbiAgICAgICAgSnNDYWxlbmRhci5hdXRvRmluZCgpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIFJldHVyblxyXG4gICAgcmV0dXJuIEpzQ2FsZW5kYXI7XHJcbn0pKCk7XHJcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiQ0FMRU5EQVJfQlVUVE9OIiwiY2FsZW5kYXIiLCJxdWVyeVNlbGVjdG9yIiwiaG9tZSIsInN2Z1BsdXMiLCJmb3JtSW5wdXRQcm9qZWN0Iiwic2V0dGluZ09wdGlvbnMiLCJzdmdDb25mZyIsImxhbmd1YWplU3dpdGNoIiwiTEFOR1VBSkVfU1dJVENIX0JVVFRPTiIsImhvbWVzcGFuIiwiYWRkcHJvamVjdHNwYW4iLCJjYWxlbmRhcnNwYW4iLCJzZXR0aW5nc3NwYW4iLCJsb2dpbnNwYW4iLCJ0b2RvdGV4dCIsImlucHJvZ3Jlc3N0ZXh0IiwiY29tcGxldGV0ZXh0Iiwic2VsZWN0cHJvamVjdHMiLCJkYXlvcHRpb24iLCJ3ZWVrb3B0aW9uIiwieWVhcm9wdGlvbiIsInNlbGVjdGRlZmF1bHR3ZWVrIiwibGFiZWxpbnB1dCIsImlucHV0cHJvamVjdCIsInN1Ym1pdG5hbWVwcm9qZWN0IiwiY2hlY2tlZCIsInRleHRDb250ZW50Iiwic2V0QXR0cmlidXRlIiwidHVybk5pZ2h0VGhlbWVPcldoaXRlVGhlbWUiLCJOSUdIVF9NT0RFX1NXSVRDSCIsImh0bWwiLCJib2R5IiwiY29udGFpbmVyIiwiY29udGVudCIsImhlYWRlckhvbWVQYWdlIiwiaG9tZVBhZ2UiLCJzZWxlY3RQcm9qZWN0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxlbmRhclBhZ2UiLCJjYXJkIiwiYWRkVGFzayIsInF1YW50aXR5VGFzayIsInRhc2siLCJmb290ZXIiLCJzdmciLCJzdWJtaXROYW1lUHJvamVjdCIsInBvcHVwQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yQmxhY2siLCJiYWNrZ3JvdW5kQ29sb3JIb21lUGFnZUFuZENhbGVuZGFyQmxhY2siLCJjb2xvckxldHRlcnNCbGFja1RoZW1lIiwiYmFja2dyb3VuZENvbG9yV2hpdGUiLCJzZWxlY3RBbmRBZGRQcm9qZWN0Qm90dG9uQmxhY2siLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiZm9yRWFjaCIsInNlbGVjdCIsImJhY2tncm91bmQiLCJidXR0b24iLCJxdWFudGl0eSIsImJvcmRlciIsInN2Z3MiLCJkaXNwbGF5IiwicG9wVXBMb2dJbiIsImJhY2tncm91bmRQb3BVcCIsInN2Z0Nsb3NlUG9wVXAiLCJkZW1vVXNlciIsImNsb3NlUG9wVXAiLCJvbmNsaWNrIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0VGltZW91dCIsImdldEF0dHJpYnV0ZSIsInVuZGVmaW5lZCIsInVzZXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsIndob0lzVGhlVXNlciIsIndpbmRvdyIsIm9ubG9hZCIsIkpzQ2FsZW5kYXIiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ0aGlzIiwiX2NvbnN0cnVjdCIsInZlcnNpb24iLCJwcm90b3R5cGUiLCJhcmdzIiwiX3BhcnNlQXJndW1lbnRzIiwiX3NldFRhcmdldCIsInRhcmdldCIsIl9pbml0Iiwib3B0aW9ucyIsIl9pbml0VGFyZ2V0IiwiX3NldERhdGUiLCJkYXRlIiwiX3RhcmdldCIsImRhdGFzZXQiLCJoYXNPd25Qcm9wZXJ0eSIsIkRhdGUiLCJfbm93IiwiRXJyb3IiLCJfY3JlYXRlIiwiX3VwZGF0ZSIsImxhbmd1YWdlcyIsImVuIiwibW9udGhzIiwiZGF5cyIsIl9kYXRlU3RyaW5nUGFyc2VyIiwia2V5IiwiX2RlZmF1bHREYXRlU3RyaW5nUGFyc2VyIiwiX2RheVN0cmluZ1BhcnNlciIsIl9kZWZhdWx0RGF5U3RyaW5nUGFyc2VyIiwiX2VsZW1lbnRzIiwiX2V2ZW50cyIsIm1vbnRoIiwiZGF5X3JlbmRlciIsImRhdGVfcmVuZGVyIiwibW9udGhfcmVuZGVyIiwiX2RhdGUiLCJfc2VsZWN0ZWQiLCJsYW5ndWFnZSIsIl9wYXJzZU9wdGlvbnMiLCJvYmoiLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJ6ZXJvRmlsbCIsIm1vbnRoRm9ybWF0IiwiZGF5Rm9ybWF0IiwiZmlyc3REYXlPZlRoZVdlZWsiLCJuYXZpZ2F0b3IiLCJuYXZpZ2F0b3JQb3NpdGlvbiIsIm1pbiIsIm1heCIsIm9uTW9udGhSZW5kZXIiLCJvbkRheVJlbmRlciIsIm9uRGF0ZVJlbmRlciIsImRvcHRpb25zIiwiX29wdGlvbnMiLCJpdGVtIiwic2V0TGFuZ3VhZ2UiLCJmZG90dyIsIm1hdGNoIiwicGFyc2VJbnQiLCJpbmRleE9mIiwidG9vbHMiLCJwYXJzZURhdGUiLCJfb24iLCJlbGVtZW50IiwiZ2V0RWxlbWVudCIsImlkIiwianNDYWxlbmRhck9iamVjdHMiLCJjbGFzc05hbWUiLCJ0YWJsZSIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJfaXNEYXRlSW5SYW5nZSIsImdldFRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiX3BhcnNlVG9EYXRlU3RyaW5nIiwiZm9ybWF0IiwibGFuZyIsInJlcGxhY2UiLCJkYXRlU3RyaW5nUGFyc2VyIiwiX2dldFZpc2libGVNb250aCIsImZpcnN0Iiwic2V0RGF0ZSIsImZpcnN0RGF5IiwiZ2V0RGF5IiwibmFtZSIsIl9nZXRWaXNpYmxlRGF0ZXMiLCJkYXlzSW5Nb250aCIsImdldFllYXIiLCJnZXREYXRlIiwiY3VycmVudCIsInN0YXJ0IiwiZW5kIiwiZGF0ZXMiLCJzZXRIb3VycyIsInByZXZpb3VzIiwiZGF5IiwidW5zaGlmdCIsInB1c2giLCJuZXh0IiwiaSIsImoiLCJ0aGF0IiwiY3JlYXRlZCIsImhlYWRSb3dzIiwidGl0bGVfaGVhZGVyIiwiaGVhZExlZnQiLCJoZWFkUmlnaHQiLCJuYXZMZWZ0IiwibmF2UmlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJfZXZlbnRGaXJlIiwiYm9keVJvd3MiLCJib2R5Q29scyIsImluZGV4IiwiX2FjdGl2ZSIsIl9zZWxlY3REYXRlcyIsInNsaWNlIiwiX3Vuc2VsZWN0RGF0ZXMiLCJzcGxpY2UiLCJfdW5zZWxlY3RBbGxEYXRlcyIsInBvcCIsInRleHQiLCJwcmVmaXgiLCJkYXlTdHJpbmdQYXJzZXIiLCJjYWxsIiwibnVtYmVyT2ZEYXlzIiwicG9zaXRpb24iLCJpc0N1cnJlbnQiLCJpc1NlbGVjdGVkIiwiaXNQcmV2aW91c01vbnRoIiwiaXNDdXJyZW50TW9udGgiLCJpc05leHRNb250aCIsIngiLCJ5IiwiTWF0aCIsImZsb29yIiwiY2FsbGJhY2siLCJpbnN0YW5jZSIsIm9uRGF0ZUNsaWNrIiwib25Nb250aENoYW5nZSIsInNldCIsInJlZnJlc2giLCJuIiwiZ290byIsInJlc2V0IiwiQXJyYXkiLCJ1bnNlbGVjdCIsImNsZWFyc2VsZWN0IiwiY2xlYXJTZWxlY3RlZCIsImdldFNlbGVjdGVkIiwic29ydCIsInRvTG93ZXJDYXNlIiwicmV2ZXJzZSIsInR5cGUiLCJpc1Zpc2libGUiLCJ2aXNpYmxlIiwiaXNJbk1vbnRoIiwiYWN0aXZlIiwiY29kZSIsImF1dG9GaW5kIiwiY2FsZW5kYXJzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNpbGVudCIsIm1vbnRoX2luZGV4Iiwic3RyaW5nVG9EYXRlIiwiZGF0ZVRvU3RyaW5nIiwiYXBwbHkiLCJzdWJzdHJpbmciLCJ0YWdOYW1lIiwib3duZXJEb2N1bWVudCIsIm5ldyIsImlkZW50aWZpZXIiLCJnZXQiLCJkZWwiLCJhZGRMYW5ndWFnZSIsImpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZCJdLCJzb3VyY2VSb290IjoiIn0=