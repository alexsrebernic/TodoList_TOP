(()=>{"use strict";document.getElementById("home"),document.getElementById("add_project");const e=document.getElementById("calendar"),t=(document.getElementById("settings"),document.getElementById("login"),document.querySelector(".content"),document.querySelector("#calendarPage")),n=document.querySelector("#homePage"),s=document.getElementById("plus"),a=(document.querySelector(".list"),document.getElementById("form-input-project"));let r;const i=document.getElementById("home"),o=document.getElementById("add_project"),l=document.getElementById("calendar"),d=(document.getElementById("settings"),document.getElementById("login"),document.querySelector(".content"),document.querySelector("#calendarPage"));document.querySelector("#homePage"),document.getElementById("plus"),document.querySelector(".list"),document.getElementById("form-input-project"),localStorage.getItem("first_time"),d.style.display="none",i.onclick=()=>(t.removeAttribute("class"),n.removeAttribute("class"),n.setAttribute("class","slideLeft2"),t.setAttribute("class","slideLeft"),void setTimeout((()=>{t.style.display="none",n.style.display="block"}),500)),o.onclick=()=>{"rotate"===s.getAttribute("class")?(console.log("activado2"),s.removeAttribute("class"),s.setAttribute("class","return"),r=!1,a.removeAttribute("class"),a.setAttribute("class","up"),t.removeAttribute("class"),setTimeout((()=>{a.style.display="none"}),1e3)):"return"===s.getAttribute("class")?(console.log("activado1"),s.removeAttribute("class"),s.setAttribute("class","rotate"),r=!0,a.style.display="flex",a.removeAttribute("class"),a.setAttribute("class","down"),e.removeAttribute("class"),e.setAttribute("class","down1")):null==s.getAttribute("class")&&(s.removeAttribute("class"),s.setAttribute("class","rotate"),r=!0,a.style.display="flex",a.removeAttribute("class"),a.setAttribute("class","down"),e.removeAttribute("class"),e.setAttribute("class","down1"))},l.onclick=()=>(n.setAttribute("class","slideLeft"),t.setAttribute("class","slideLeft2"),void setTimeout((()=>{n.style.display="none",t.style.display="flex"}),500))})(),function(){function e(){0!==arguments.length&&this._construct(arguments)}e.version="v1.4.4",e.prototype._construct=function(e){if(e=this._parseArguments(e),this._setTarget(e.target),this._init(e.options),this._initTarget(),this._setDate(null!==e.date?e.date:this._target.dataset.hasOwnProperty("date")?this._target.dataset.date:new Date),!this._now)throw new Error("jsCalendar: Date is outside range.");this._create(),this._update()},e.prototype.languages={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_dateStringParser:function(t,n){return e._defaultDateStringParser(t,n,this)},_dayStringParser:function(t,n){return e._defaultDayStringParser(t,n,this)}}},e.prototype._init=function(e){this._elements={},this._events={},this._events.date=[],this._events.month=[],this._events.day_render=[],this._events.date_render=[],this._events.month_render=[],this._now=null,this._date=null,this._selected=[],this.language={},this._parseOptions(e)},e.prototype._parseArguments=function(e){var t={target:null,date:null,options:{}};if(0===e.length)throw new Error("jsCalendar: No parameters were given.");if(1===e.length)if(("object"==typeof HTMLElement?e[0]instanceof HTMLElement:e[0])&&"object"==typeof e[0]&&null!==e[0]&&1===e[0].nodeType&&"string"==typeof e[0].nodeName||"string"==typeof e[0])t.target=e[0];else{if(t.options=e[0],void 0===e[0].target)throw new Error("jsCalendar: Not target was given.");t.target=e[0].target,void 0!==e[0].date&&(t.date=e[0].date)}else t.target=e[0],e.length>=2&&(t.date=e[1]),e.length>=3&&(t.options=e[2]);return t},e.options={language:"en",zeroFill:!1,monthFormat:"month",dayFormat:"D",firstDayOfTheWeek:1,navigator:!0,navigatorPosition:"both",min:!1,max:!1,onMonthRender:!1,onDayRender:!1,onDateRender:!1},e.prototype._parseOptions=function(n){this._options={};var s={};for(var a in e.options)e.options.hasOwnProperty(a)&&(this._options[a]=e.options[a]),n.hasOwnProperty(a)?s[a]=n[a]:this._target.dataset.hasOwnProperty(a)&&(s[a]=this._target.dataset[a]);void 0!==s.zeroFill&&("false"!==s.zeroFill&&s.zeroFill?this._options.zeroFill=!0:this._options.zeroFill=!1),void 0!==s.monthFormat&&(this._options.monthFormat=s.monthFormat),void 0!==s.dayFormat&&(this._options.dayFormat=s.dayFormat),void 0!==s.navigator&&("false"!==s.navigator&&s.navigator?this._options.navigator=!0:this._options.navigator=!1),void 0!==s.navigatorPosition&&(this._options.navigatorPosition=s.navigatorPosition),"string"==typeof s.language&&void 0!==this.languages[s.language]&&(this._options.language=s.language),this.setLanguage(this._options.language),void 0!==s.fdotw&&(s.firstDayOfTheWeek=s.fdotw),void 0!==s.firstDayOfTheWeek&&("number"==typeof s.firstDayOfTheWeek&&s.firstDayOfTheWeek>=1&&s.firstDayOfTheWeek<=7&&(this._options.firstDayOfTheWeek=s.firstDayOfTheWeek),"string"==typeof s.firstDayOfTheWeek&&(s.firstDayOfTheWeek.match(/^[1-7]$/)?this._options.firstDayOfTheWeek=parseInt(s.firstDayOfTheWeek,10):(this._options.firstDayOfTheWeek=this.language.days.indexOf(s.firstDayOfTheWeek)+1,(this._options.firstDayOfTheWeek<1||this._options.firstDayOfTheWeek>7)&&(this._options.firstDayOfTheWeek=1)))),void 0!==s.min&&"false"!==s.min&&!1!==s.min&&(this._options.min=t.parseDate(s.min)),void 0!==s.max&&"false"!==s.max&&!1!==s.max&&(this._options.max=t.parseDate(s.max)),void 0!==s.onMonthRender&&("string"==typeof s.onMonthRender&&"function"==typeof window[s.onMonthRender]?this._on("month_render",window[s.onMonthRender]):"function"==typeof s.onMonthRender&&this._on("month_render",s.onMonthRender)),void 0!==s.onDayRender&&("string"==typeof s.onDayRender&&"function"==typeof window[s.onDayRender]?this._on("day_render",window[s.onDayRender]):"function"==typeof s.onDayRender&&this._on("day_render",s.onDayRender)),void 0!==s.onDateRender&&("string"==typeof s.onDateRender&&"function"==typeof window[s.onDateRender]?this._on("date_render",window[s.onDateRender]):"function"==typeof s.onDateRender&&this._on("date_render",s.onDateRender))},e.prototype._setTarget=function(e){var s=t.getElement(e);if(!s)throw new Error("jsCalendar: Target was not found.");this._target=s;var a=this._target.id;a&&a.length>0&&(n["#"+a]=this)},e.prototype._initTarget=function(){this._target.className.length>0&&(this._target.className+=" "),this._target.className+="jsCalendar",this._elements.table=document.createElement("table"),this._elements.head=document.createElement("thead"),this._elements.table.appendChild(this._elements.head),this._elements.body=document.createElement("tbody"),this._elements.table.appendChild(this._elements.body),this._target.appendChild(this._elements.table)},e.prototype._isDateInRange=function(e){return!1===this._options.min&&!1===this._options.max||(e=t.parseDate(e),!(!1!==this._options.min&&this._options.min.getTime()>e.getTime()||!1!==this._options.max&&this._options.max.getTime()<e.getTime()))},e.prototype._setDate=function(e){e=t.parseDate(e),this._isDateInRange(e)&&(this._now=e,this._date=new Date(this._now.getFullYear(),this._now.getMonth(),1))},e.prototype._parseToDateString=function(e,t){var n=this.language;return t.replace(/(MONTH|month|MMM|mmm|mm|m|MM|M|DAY|day|DDD|ddd|dd|d|DD|D|YYYY|yyyy)/g,(function(t){return n.dateStringParser(t,e)}))},e.prototype._getVisibleMonth=function(e){e=void 0===e?this._date:t.parseDate(e);var n=new Date(e.getTime());n.setDate(1);var s=n.getDay()-(this._options.firstDayOfTheWeek-1);s<0&&(s+=7);var a=this.language,r=this._options.monthFormat.replace(/(MONTH|month|MMM|mmm|##|#|YYYY|yyyy)/g,(function(e){return a.dateStringParser(e,n)})),i=this._getVisibleDates(e),o=new Date(n.getYear()+1900,n.getMonth()+1,0).getDate(),l=-1;return n.getYear()===this._now.getYear()&&n.getMonth()===this._now.getMonth()&&(l=s+this._now.getDate()-1),{name:r,days:i,start:s+1,current:l,end:s+o}},e.prototype._getVisibleDates=function(e){e=void 0===e?this._date:t.parseDate(e);var n=[],s=new Date(e.getTime());s.setDate(1),s.setHours(0,0,0,0);var a=s.getDay()-(this._options.firstDayOfTheWeek-1);a<0&&(a+=7);for(var r=new Date(s.getTime());a>0;)r.setDate(r.getDate()-1),n.unshift(new Date(r.getTime())),a--;r=new Date(s.getTime());do{n.push(new Date(r.getTime())),r.setDate(r.getDate()+1)}while(1!==r.getDate());for(var i=42-n.length;i>0;)n.push(new Date(r.getTime())),r.setDate(r.getDate()+1),i--;return n},e.prototype._create=function(){var e,t,n=this;for(this._elements.created=!0,this._elements.headRows=[],e=0;e<2;e++)this._elements.headRows.push(document.createElement("tr")),this._elements.head.appendChild(this._elements.headRows[e]);var s=document.createElement("th");for(s.setAttribute("colspan",7),this._elements.headRows[0].className="jsCalendar-title-row",this._elements.headRows[0].appendChild(s),this._elements.headLeft=document.createElement("div"),this._elements.headLeft.className="jsCalendar-title-left",s.appendChild(this._elements.headLeft),this._elements.month=document.createElement("div"),this._elements.month.className="jsCalendar-title-name",s.appendChild(this._elements.month),this._elements.headRight=document.createElement("div"),this._elements.headRight.className="jsCalendar-title-right",s.appendChild(this._elements.headRight),this._options.navigator&&(this._elements.navLeft=document.createElement("div"),this._elements.navLeft.className="jsCalendar-nav-left",this._elements.navRight=document.createElement("div"),this._elements.navRight.className="jsCalendar-nav-right","left"===this._options.navigatorPosition?(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headLeft.appendChild(this._elements.navRight)):"right"===this._options.navigatorPosition?(this._elements.headRight.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)):(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)),this._elements.navLeft.addEventListener("click",(function(e){n.previous();var t=new Date(n._date.getTime());t.setDate(1),n._eventFire("month",t,e)}),!1),this._elements.navRight.addEventListener("click",(function(e){n.next();var t=new Date(n._date.getTime());t.setDate(1),n._eventFire("month",t,e)}),!1)),this._elements.headRows[1].className="jsCalendar-week-days",s.className="jsCalendar-title",this._elements.days=[],e=0;e<7;e++)this._elements.days.push(document.createElement("th")),this._elements.headRows[1].appendChild(this._elements.days[this._elements.days.length-1]);for(this._elements.bodyRows=[],this._elements.bodyCols=[],e=0;e<6;e++)for(this._elements.bodyRows.push(document.createElement("tr")),this._elements.body.appendChild(this._elements.bodyRows[e]),t=0;t<7;t++)this._elements.bodyCols.push(document.createElement("td")),this._elements.bodyRows[e].appendChild(this._elements.bodyCols[7*e+t]),this._elements.bodyCols[7*e+t].addEventListener("click",function(e){return function(t){n._eventFire("date",n._active[e],t)}}(7*e+t),!1)},e.prototype._selectDates=function(e){e=e.slice();for(var n=0;n<e.length;n++)e[n]=t.parseDate(e[n]),e[n].setHours(0,0,0,0),e[n]=e[n].getTime();for(n=e.length-1;n>=0;n--)this._selected.indexOf(e[n])<0&&this._selected.push(e[n])},e.prototype._unselectDates=function(e){e=e.slice();for(var n=0;n<e.length;n++)e[n]=t.parseDate(e[n]),e[n].setHours(0,0,0,0),e[n]=e[n].getTime();var s;for(n=e.length-1;n>=0;n--)(s=this._selected.indexOf(e[n]))>=0&&this._selected.splice(s,1)},e.prototype._unselectAllDates=function(){for(;this._selected.length;)this._selected.pop()},e.prototype._update=function(){var e=this._getVisibleMonth(this._date);this._active=e.days.slice(),this._elements.month.textContent=e.name;for(var t,n,s=this._options.zeroFill?"0":"",a=e.days.length-1;a>=0;a--)t=e.days[a].getDate(),this._elements.bodyCols[a].textContent=t<10?s+t:t,this._selected.indexOf(e.days[a].getTime())>=0?this._elements.bodyCols[a].className="jsCalendar-selected":this._elements.bodyCols[a].removeAttribute("class");for(a=0;a<e.start-1;a++)this._elements.bodyCols[a].className="jsCalendar-previous";for(e.current>=0&&(this._elements.bodyCols[e.current].className.length>0?this._elements.bodyCols[e.current].className+=" jsCalendar-current":this._elements.bodyCols[e.current].className="jsCalendar-current"),a=e.end;a<e.days.length;a++)this._elements.bodyCols[a].className="jsCalendar-next";for(a=0;a<7;a++){var r=this;this._elements.days[a].textContent=this._options.dayFormat.replace(/(DAY|day|DDD|ddd|DD|dd|D)/g,(function(e){return r.language.dayStringParser(e,(a+r._options.firstDayOfTheWeek-1)%7)}))}if(this._events.month_render.length>0){var i=e.days[e.start];for(this._elements.month.removeAttribute("style"),n=0;n<this._events.month_render.length;n++)this._events.month_render[n].call(this,i.getMonth(),this._elements.month,{start:new Date(i.getTime()),end:new Date(i.getFullYear(),i.getMonth()+1,0,23,59,59,999),numberOfDays:e.end-e.start+1})}if(this._events.day_render.length>0)for(a=0;a<7;a++)for(this._elements.days[a].removeAttribute("style"),n=0;n<this._events.day_render.length;n++)this._events.day_render[n].call(this,(a+this._options.firstDayOfTheWeek-1)%7,this._elements.days[a],{position:a});if(this._events.date_render.length>0)for(a=0;a<e.days.length;a++)for(this._elements.bodyCols[a].removeAttribute("style"),n=0;n<this._events.date_render.length;n++)this._events.date_render[n].call(this,new Date(e.days[a].getTime()),this._elements.bodyCols[a],{isCurrent:e.current==a,isSelected:this._selected.indexOf(e.days[a].getTime())>=0,isPreviousMonth:a<e.start,isCurrentMonth:e.start<=a&&a<=e.end,isNextMonth:e.end<a,position:{x:a%7,y:Math.floor(a/7)}})},e.prototype._eventFire=function(e,t,n){if(this._events.hasOwnProperty(e))for(var s=0;s<this._events[e].length;s++)!function(e,s){setTimeout((function(){e.call(s,n,new Date(t.getTime()))}),0)}(this._events[e][s],this)},e.prototype._on=function(e,t){if("function"!=typeof t)throw new Error("jsCalendar: Invalid callback function.");return this._events[e].push(t),this},e.prototype.onDateClick=function(e){return this._on("date",e)},e.prototype.onMonthChange=function(e){return this._on("month",e)},e.prototype.onDayRender=function(e){return this._on("day_render",e)},e.prototype.onDateRender=function(e){return this._on("date_render",e)},e.prototype.onMonthRender=function(e){return this._on("month_render",e)},e.prototype.set=function(e){return this._setDate(e),this.refresh(),this},e.prototype.min=function(e){return this._options.min=!!e&&t.parseDate(e),this.refresh(),this},e.prototype.max=function(e){return this._options.max=!!e&&t.parseDate(e),this.refresh(),this},e.prototype.refresh=function(e){return void 0!==e&&this._isDateInRange(e)&&(this._date=t.parseDate(e)),!0===this._elements.created&&this._update(),this},e.prototype.next=function(e){"number"!=typeof e&&(e=1);var t=new Date(this._date.getFullYear(),this._date.getMonth()+e,1);return this._isDateInRange(t)?(this._date=t,this.refresh(),this):this},e.prototype.previous=function(e){"number"!=typeof e&&(e=1);var t=new Date(this._date.getFullYear(),this._date.getMonth()-e+1,0);return this._isDateInRange(t)?(this._date=t,this.refresh(),this):this},e.prototype.goto=function(e){return this.refresh(e),this},e.prototype.reset=function(){return this.refresh(this._now),this},e.prototype.select=function(e){return void 0===e||(e instanceof Array||(e=[e]),this._selectDates(e),this.refresh()),this},e.prototype.unselect=function(e){return void 0===e||(e instanceof Array||(e=[e]),this._unselectDates(e),this.refresh()),this},e.prototype.clearselect=function(){return this._unselectAllDates(),this.refresh(),this},e.prototype.clearSelected=e.prototype.clearselect,e.prototype.getSelected=function(e){"object"!=typeof e&&(e={});var t,n=this._selected.slice();if(e.sort&&(!0===e.sort?n.sort():"string"==typeof e.sort&&("asc"===e.sort.toLowerCase()?n.sort():"desc"===e.sort.toLowerCase()&&(n.sort(),n.reverse()))),e.type&&"string"==typeof e.type)if("date"===e.type.toLowerCase())for(t=n.length-1;t>=0;t--)n[t]=new Date(n[t]);else if("timestamp"!==e.type.toLowerCase())for(t=n.length-1;t>=0;t--)n[t]=this._parseToDateString(new Date(n[t]),e.type);return n},e.prototype.isSelected=function(e){return null!=e&&((e=t.parseDate(e)).setHours(0,0,0,0),e=e.getTime(),this._selected.indexOf(e)>=0)},e.prototype.isVisible=function(e){if(null==e)return!1;(e=t.parseDate(e)).setHours(0,0,0,0),e=e.getTime();var n=this._getVisibleDates();return n[0].getTime()<=e&&n[n.length-1].getTime()>=e},e.prototype.isInMonth=function(e){if(null==e)return!1;var n=t.parseDate(e);n.setHours(0,0,0,0),n.setDate(1);var s=t.parseDate(this._date);return s.setHours(0,0,0,0),s.setDate(1),n.getTime()===s.getTime()},e.prototype.setLanguage=function(e){if("string"!=typeof e)throw new Error("jsCalendar: Invalid language code.");if(void 0===this.languages[e])throw new Error("jsCalendar: Language not found.");this._options.language=e;var t=this.languages[e];return this.language.months=t.months,this.language.days=t.days,this.language.dateStringParser=t._dateStringParser,this.language.dayStringParser=t._dayStringParser,this.refresh(),this},e.autoFind=function(){for(var t=document.getElementsByClassName("auto-jsCalendar"),n=0;n<t.length;n++)"true"!==t[n].getAttribute("jsCalendar-loaded")&&(t[n].setAttribute("jsCalendar-loaded","true"),new e({target:t[n]}))};var t=e.tools={};t.parseDate=function(e,t){if(null==e||"now"===e)e=new Date;else if("string"==typeof e){if(null===(e=e.replace(/-/g,"/").match(/^(\d{1,2})\/(\d{1,2})\/(\d{4,4})$/i))){if(!t)throw new Error("jsCalendar: Failed to parse date.");return null}var n=parseInt(e[2],10)-1;if(!(e=new Date(e[3],n,e[1]))||e.getMonth()!==n){if(!t)throw new Error("jsCalendar: Date does not exist.");return null}}else if("number"==typeof e)e=new Date(e);else if(!(e instanceof Date)){if(!t)throw new Error("jsCalendar: Invalid date.");return null}return new Date(e.getTime())},t.stringToDate=t.parseDate,t.dateToString=function(t,n,s){var a=e.prototype.languages;return s&&a.hasOwnProperty(s)||(s="en"),e.prototype._parseToDateString.apply({language:{months:a[s].months,days:a[s].days,dateStringParser:a[s]._dateStringParser,dayStringParser:a[s]._dayStringParser}},[t,n])},t.getElement=function(e){if(!e)return null;if("string"==typeof e){if("#"===e[0])return document.getElementById(e.substring(1));if("."===e[0])return document.getElementsByClassName(e.substring(1))[0]}else if(e.tagName&&e.nodeName&&e.ownerDocument&&e.removeAttribute)return e;return null},e.new=function(){var t=new e;return t._construct(arguments),t};var n={};e.set=function(t,s){if(s instanceof e)return n[t]=s,!0;throw new Error("jsCalendar: The second parameter is not a jsCalendar.")},e.get=function(e){return n.hasOwnProperty(e)?n[e]:null},e.del=function(e){return!!n.hasOwnProperty(e)&&(delete n[e],!0)},e.addLanguage=function(t){if(void 0===t)throw new Error("jsCalendar: No language object was given.");if("string"!=typeof t.code)throw new Error("jsCalendar: Invalid language code.");if(!(t.months instanceof Array))throw new Error("jsCalendar: Invalid language months.");if(12!==t.months.length)throw new Error("jsCalendar: Invalid language months length.");if(!(t.days instanceof Array))throw new Error("jsCalendar: Invalid language days.");if(7!==t.days.length)throw new Error("jsCalendar: Invalid language days length.");e.prototype.languages[t.code]=t,t._dateStringParser=t.hasOwnProperty("dateStringParser")?function(n,s){return t.dateStringParser(n,s)||e._defaultDateStringParser(n,s,t)}:function(n,s){return e._defaultDateStringParser(n,s,t)},t._dayStringParser=t.hasOwnProperty("dayStringParser")?function(n,s){return t.dayStringParser(n,s)||e._defaultDayStringParser(n,s,t)}:function(n,s){return e._defaultDayStringParser(n,s,t)}},e._defaultDateStringParser=function(e,t,n){switch(e){case"MONTH":case"month":return n.months[t.getMonth()];case"MMM":case"mmm":return n.months[t.getMonth()].substring(0,3);case"mm":return n.months[t.getMonth()].substring(0,2);case"m":return n.months[t.getMonth()].substring(0,1);case"MM":case"##":return(t.getMonth()<9?"0":"")+(t.getMonth()+1);case"M":case"#":return t.getMonth()+1;case"DAY":case"day":return n.days[t.getDay()];case"DDD":case"ddd":return n.days[t.getDay()].substring(0,3);case"dd":return n.days[t.getDay()].substring(0,2);case"d":return n.days[t.getDay()].substring(0,1);case"DD":return(t.getDate()<=9?"0":"")+t.getDate();case"D":return t.getDate();case"YYYY":case"yyyy":return t.getYear()+1900}},e._defaultDayStringParser=function(e,t,n){switch(e){case"DAY":case"day":return n.days[t];case"DDD":case"ddd":return n.days[t].substring(0,3);case"DD":case"dd":return n.days[t].substring(0,2);case"D":return n.days[t].substring(0,1)}},function(){if(void 0!==window.jsCalendar_language2load){for(;window.jsCalendar_language2load.length;)setTimeout(function(t){return function(){e.addLanguage(t)}}(window.jsCalendar_language2load.pop()),0);delete window.jsCalendar_language2load}}(),window.addEventListener("load",(function(){e.autoFind()}),!1)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSyxLQUNELE9BQVFySyxFQUFLbUYsV0FBYSxFQUFJLElBQU0sSUFBTW5GLEVBQUttRixVQUNuRCxJQUFLLElBQ0QsT0FBT25GLEVBQUttRixVQUNoQixJQUFLLE9BQ0wsSUFBSyxPQUNELE9BQU9uRixFQUFLa0YsVUFBWSxPQUtwQ2pHLEVBQVdnQyx3QkFBMEIsU0FBU0gsRUFBSzRFLEVBQUtuQixHQUNwRCxPQUFPekQsR0FDSCxJQUFLLE1BQ0wsSUFBSyxNQUNELE9BQU95RCxFQUFLM0QsS0FBSzhFLEdBQ3JCLElBQUssTUFDTCxJQUFLLE1BQ0QsT0FBT25CLEVBQUszRCxLQUFLOEUsR0FBSzJFLFVBQVUsRUFBRyxHQUN2QyxJQUFLLEtBQ0wsSUFBSyxLQUNELE9BQU85RixFQUFLM0QsS0FBSzhFLEdBQUsyRSxVQUFVLEVBQUcsR0FDdkMsSUFBSyxJQUNELE9BQU85RixFQUFLM0QsS0FBSzhFLEdBQUsyRSxVQUFVLEVBQUcsS0FLL0MsV0FFSSxRQUErQyxJQUFwQ2hILE9BQU93SCx5QkFBMEMsQ0FFeEQsS0FBT3hILE9BQU93SCx5QkFBeUIxTCxRQUVuQ1AsV0FBVyxTQUFXOEMsR0FFbEIsT0FBTyxXQUNIekMsRUFBVzJMLFlBQVlsSixJQUhwQixDQUtSMkIsT0FBT3dILHlCQUF5QnpELE9BQVEsVUFHeEMvRCxPQUFPd0gsMEJBZHRCLEdBb0JBeEgsT0FBT21ELGlCQUFpQixRQUFRLFdBRTVCdkgsRUFBVzRLLGNBQ1osR0F2NkNVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2FuaW1hdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3RfdG9wLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0X3RvcC8uL3NyYy9qc0NhbGVuZGFyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7c2xpZGVIb21lVG9DYWxlbmRhcixzbGlkZUNhbGVuZGFyVG9Ib21lLG9wZW5BZGRQcm9qZWN0QnV0dG9ufVxuY29uc3QgSE9NRV9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVcIilcbmNvbnN0IEFERF9QUk9KRUNUX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkX3Byb2plY3RcIilcbmNvbnN0IENBTEVOREFSX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsZW5kYXJcIilcbmNvbnN0IFNFVFRJTkdTX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIilcbmNvbnN0IExPR19JTl9CVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ2luXCIpXG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIikgXG5jb25zdCBjYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FsZW5kYXJQYWdlXCIpXG5jb25zdCBob21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNob21lUGFnZVwiKVxuY29uc3Qgc3ZnUGx1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1c1wiKVxuY29uc3QgbGlzdExpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saXN0XCIpXG5jb25zdCBmb3JtSW5wdXRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtLWlucHV0LXByb2plY3RcIilcblxuZnVuY3Rpb24gc2xpZGVIb21lVG9DYWxlbmRhcigpe1xuICAgIGhvbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInNsaWRlTGVmdFwiKVxuICAgIGNhbGVuZGFyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzbGlkZUxlZnQyXCIpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgY2FsZW5kYXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiXG4gICAgICAgIFxuICAgIH0sIDUwMCk7XG59XG5mdW5jdGlvbiBzbGlkZUNhbGVuZGFyVG9Ib21lKCl7XG4gICAgY2FsZW5kYXIucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICBob21lLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgaG9tZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic2xpZGVMZWZ0MlwiKVxuICAgIGNhbGVuZGFyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzbGlkZUxlZnRcIilcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2FsZW5kYXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgIGhvbWUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIH0sIDUwMCk7XG59XG5sZXQgaXNPcGVuXG5cbmZ1bmN0aW9uIG9wZW5BZGRQcm9qZWN0QnV0dG9uKCl7XG4gICAgaWYoc3ZnUGx1cy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PT0gXCJyb3RhdGVcIil7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWN0aXZhZG8yXCIpXG4gICAgICAgIHN2Z1BsdXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgc3ZnUGx1cy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicmV0dXJuXCIpXG4gICAgICAgIGlzT3BlbiA9IGZhbHNlXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3QucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgZm9ybUlucHV0UHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwidXBcIilcbiAgICAgICAgY2FsZW5kYXIucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZvcm1JbnB1dFByb2plY3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiICAgIFxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuXG4gICAgfSBcbiAgICBpZihzdmdQbHVzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09PSBcInJldHVyblwiKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJhY3RpdmFkbzFcIilcbiAgICAgICAgc3ZnUGx1cy5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgICAgICBzdmdQbHVzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJyb3RhdGVcIilcbiAgICAgICAgaXNPcGVuID0gdHJ1ZVxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIGZvcm1JbnB1dFByb2plY3Quc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd25cIilcbiAgICAgICAgQ0FMRU5EQVJfQlVUVE9OLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpXG4gICAgICAgIENBTEVOREFSX0JVVFRPTi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZG93bjFcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfSAgICBcbiAgICBpZihzdmdQbHVzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpID09IHVuZGVmaW5lZCl7XG4gICAgICAgIHN2Z1BsdXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIilcbiAgICAgICAgc3ZnUGx1cy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicm90YXRlXCIpXG4gICAgICAgIGlzT3BlbiA9IHRydWVcbiAgICAgICAgZm9ybUlucHV0UHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcbiAgICAgICAgZm9ybUlucHV0UHJvamVjdC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgICAgICBmb3JtSW5wdXRQcm9qZWN0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJkb3duXCIpXG4gICAgICAgIENBTEVOREFSX0JVVFRPTi5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKVxuICAgICAgICBDQUxFTkRBUl9CVVRUT04uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImRvd24xXCIpXG4gICAgICAgIHJldHVyblxuICAgIH1cbn0iLCJpbXBvcnQgeyBzbGlkZUhvbWVUb0NhbGVuZGFyLHNsaWRlQ2FsZW5kYXJUb0hvbWUsb3BlbkFkZFByb2plY3RCdXR0b24gfSBmcm9tIFwiLi9hbmltYXRpb25zXCJcblxuXG5jb25zdCBIT01FX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9tZVwiKVxuY29uc3QgQUREX1BST0pFQ1RfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRfcHJvamVjdFwiKVxuY29uc3QgQ0FMRU5EQVJfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWxlbmRhclwiKVxuY29uc3QgU0VUVElOR1NfQlVUVE9OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5nc1wiKVxuY29uc3QgTE9HX0lOX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5cIilcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKSBcbmNvbnN0IGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYWxlbmRhclBhZ2VcIilcbmNvbnN0IGhvbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hvbWVQYWdlXCIpXG5jb25zdCBzdmdQbHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbHVzXCIpXG5jb25zdCBsaXN0TGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3RcIilcbmNvbnN0IGZvcm1JbnB1dFByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0taW5wdXQtcHJvamVjdFwiKVxuXG5sZXQgZmlyc3RUaW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJmaXJzdF90aW1lXCIpXG5jYWxlbmRhci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcblxuSE9NRV9CVVRUT04ub25jbGljayA9ICgpID0+IGRpc3BsYXlIb21lQnV0dG9uKClcbkFERF9QUk9KRUNUX0JVVFRPTi5vbmNsaWNrID0gKCkgPT4gYWRkUHJvamVjdEJ1dHRvbigpXG5DQUxFTkRBUl9CVVRUT04ub25jbGljayA9ICgpID0+IGRpc3BsYXlDYWxlbmRhckJ1dHRvbigpXG5cbmZ1bmN0aW9uIGRpc3BsYXlDYWxlbmRhckJ1dHRvbigpe1xuICAgc2xpZGVIb21lVG9DYWxlbmRhcigpXG59XG5mdW5jdGlvbiBkaXNwbGF5SG9tZUJ1dHRvbigpe1xuICAgc2xpZGVDYWxlbmRhclRvSG9tZSgpXG4gICBcbn1cblxuZnVuY3Rpb24gYWRkUHJvamVjdEJ1dHRvbigpeyAgXG4gICBvcGVuQWRkUHJvamVjdEJ1dHRvbigpXG4gICAgXG5cbn1cbiIsIi8qXHJcbiAqIGpzQ2FsZW5kYXIgdjEuNC40XHJcbiAqXHJcbiAqXHJcbiAqIE1JVCBMaWNlbnNlXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxOSBHcmFtbWF0b3BvdWxvcyBBdGhhbmFzaW9zLVZhc2lsZWlvc1xyXG4gKlxyXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG4gKlxyXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcclxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuICpcclxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcclxuICogU09GVFdBUkUuXHJcbiAqXHJcbiAqL1xyXG5cclxudmFyIGpzQ2FsZW5kYXIgPSAoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAvLyBDb25zdHJ1Y3RvclxyXG4gICAgZnVuY3Rpb24gSnNDYWxlbmRhcigpe1xyXG4gICAgICAgIC8vIE5vIHBhcmFtZXRlcnNcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCBjYWxlbmRhclxyXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJ1Y3QoYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvblxyXG4gICAgSnNDYWxlbmRhci52ZXJzaW9uID0gJ3YxLjQuNCc7XHJcblxyXG4gICAgLy8gU3ViLUNvbnN0cnVjdG9yXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fY29uc3RydWN0ID0gZnVuY3Rpb24oYXJncykge1xyXG4gICAgICAgIC8vIFBhcnNlIGFyZ3VtZW50c1xyXG4gICAgICAgIGFyZ3MgPSB0aGlzLl9wYXJzZUFyZ3VtZW50cyhhcmdzKTtcclxuICAgICAgICAvLyBTZXQgYSB0YXJnZXRcclxuICAgICAgICB0aGlzLl9zZXRUYXJnZXQoYXJncy50YXJnZXQpO1xyXG4gICAgICAgIC8vIEluaXQgY2FsZW5kYXJcclxuICAgICAgICB0aGlzLl9pbml0KGFyZ3Mub3B0aW9ucyk7XHJcbiAgICAgICAgLy8gSW5pdCB0YXJnZXRcclxuICAgICAgICB0aGlzLl9pbml0VGFyZ2V0KCk7XHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9zZXREYXRlKFxyXG4gICAgICAgICAgICAoYXJncy5kYXRlICE9PSBudWxsKSA/IGFyZ3MuZGF0ZSA6XHJcbiAgICAgICAgICAgICh0aGlzLl90YXJnZXQuZGF0YXNldC5oYXNPd25Qcm9wZXJ0eSgnZGF0ZScpKSA/IHRoaXMuX3RhcmdldC5kYXRhc2V0LmRhdGUgOlxyXG4gICAgICAgICAgICBuZXcgRGF0ZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBJZiBpbnZhbGlkIGRhdGVcclxuICAgICAgICBpZiAoIXRoaXMuX25vdykgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBEYXRlIGlzIG91dHNpZGUgcmFuZ2UuJyk7XHJcbiAgICAgICAgLy8gQ3JlYXRlXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlKCk7XHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExhbmd1YWdlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUubGFuZ3VhZ2VzID0ge1xyXG4gICAgICAgIC8vIERlZmF1bHQgRW5nbGlzaCBsYW5ndWFnZVxyXG4gICAgICAgIGVuIDoge1xyXG4gICAgICAgICAgICAvLyBNb250aHMgTmFtZXNcclxuICAgICAgICAgICAgbW9udGhzIDogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXHJcbiAgICAgICAgICAgIC8vIERheXMgTmFtZXNcclxuICAgICAgICAgICAgZGF5cyA6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXSxcclxuICAgICAgICAgICAgLy8gRGVmYXVsdCBoYW5kbGVyc1xyXG4gICAgICAgICAgICBfZGF0ZVN0cmluZ1BhcnNlciA6IGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIHRoaXMpO30sXHJcbiAgICAgICAgICAgIF9kYXlTdHJpbmdQYXJzZXIgOiBmdW5jdGlvbihrZXksIGRhdGUpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERheVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIHRoaXMpO31cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXQgY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIC8vIEluaXQgZWxlbWVudHMgb2JqZWN0XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSB7fTtcclxuICAgICAgICAvLyBFdmVudHMgaW5pdFxyXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cy5kYXRlID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLm1vbnRoID0gW107XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzLmRheV9yZW5kZXIgPSBbXTtcclxuICAgICAgICB0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXIgPSBbXTtcclxuICAgICAgICB0aGlzLl9ldmVudHMubW9udGhfcmVuZGVyID0gW107XHJcbiAgICAgICAgLy8gRGF0ZXMgdmFyaWFibGVzXHJcbiAgICAgICAgdGhpcy5fbm93ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9kYXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgIC8vIExhbmd1YWdlIG9iamVjdFxyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSB7fTtcclxuICAgICAgICAvLyBQYXJzZSBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fcGFyc2VPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQYXJzZSBvcHRpb25zXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VBcmd1bWVudHMgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgICAgICAgLy8gQXJndW1lbnRzIG9iamVjdFxyXG4gICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA6IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGUgOiBudWxsLFxyXG4gICAgICAgICAgICBvcHRpb25zIDoge31cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHNcclxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBObyBwYXJhbWV0ZXJzIHdlcmUgZ2l2ZW4uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPbmx5IDEgYXJndW1lbnRcclxuICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGFyZ2V0IGVsZW1lbnRcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGh0bWwgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICgodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0JykgPyAoYXJnc1swXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA6IGFyZ3NbMF0pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0JykgJiYgKGFyZ3NbMF0gIT09IG51bGwpICYmIChhcmdzWzBdLm5vZGVUeXBlID09PSAxKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgYXJnc1swXS5ub2RlTmFtZSA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICApIHx8IChcclxuICAgICAgICAgICAgICAgICAgICAvLyBPciBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoudGFyZ2V0ID0gYXJnc1swXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT3B0aW9ucyBhcmd1bWVudFxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEluaXQgYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucyA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0udGFyZ2V0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai50YXJnZXQgPSBhcmdzWzBdLnRhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBOb3QgdGFyZ2V0IHdhcyBnaXZlbi4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEdldCBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0uZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouZGF0ZSA9IGFyZ3NbMF0uZGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWFueSBhcmd1bWVudHNcclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IGlzIHRhcmdldFxyXG4gICAgICAgICAgICBvYmoudGFyZ2V0ID0gYXJnc1swXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGRhdGVcclxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgICAgIG9iai5kYXRlID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMgPSBhcmdzWzJdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIG9iamVjdFxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xyXG4gICAgSnNDYWxlbmRhci5vcHRpb25zID0ge1xyXG4gICAgICAgIGxhbmd1YWdlIDogJ2VuJyxcclxuICAgICAgICB6ZXJvRmlsbCA6IGZhbHNlLFxyXG4gICAgICAgIG1vbnRoRm9ybWF0IDogJ21vbnRoJyxcclxuICAgICAgICBkYXlGb3JtYXQgOiAnRCcsXHJcbiAgICAgICAgZmlyc3REYXlPZlRoZVdlZWsgOiAxLFxyXG4gICAgICAgIG5hdmlnYXRvciA6IHRydWUsXHJcbiAgICAgICAgbmF2aWdhdG9yUG9zaXRpb24gOiAnYm90aCcsXHJcbiAgICAgICAgbWluIDogZmFsc2UsXHJcbiAgICAgICAgbWF4IDogZmFsc2UsXHJcbiAgICAgICAgb25Nb250aFJlbmRlciA6IGZhbHNlLFxyXG4gICAgICAgIG9uRGF5UmVuZGVyIDogZmFsc2UsXHJcbiAgICAgICAgb25EYXRlUmVuZGVyIDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy8gUGFyc2Ugb3B0aW9uc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3BhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uKGRvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gT3B0aW9ucyBPYmplY3RcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0ge307XHJcbiAgICAgICAgLy8gSW5wdXQgb3B0aW9ucyBvYmplY3QgKGRpcnR5KVxyXG4gICAgICAgIHZhciBvcHRpb25zID0ge307XHJcblxyXG4gICAgICAgIC8vIExvYWQgZGVmYXVsdCBhbmQgaW5wdXQgb3B0aW9uc1xyXG4gICAgICAgIGZvciAodmFyIGl0ZW0gaW4gSnNDYWxlbmRhci5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoSnNDYWxlbmRhci5vcHRpb25zLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW2l0ZW1dID0gSnNDYWxlbmRhci5vcHRpb25zW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIER5bmFtaWMgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoZG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbaXRlbV0gPSBkb3B0aW9uc1tpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEYXRhc2V0IG9wdGlvbnNcclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fdGFyZ2V0LmRhdGFzZXQuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbaXRlbV0gPSB0aGlzLl90YXJnZXQuZGF0YXNldFtpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgb3B0aW9uc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy56ZXJvRmlsbCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy56ZXJvRmlsbCA9PT0gJ2ZhbHNlJyB8fCAhb3B0aW9ucy56ZXJvRmlsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy56ZXJvRmlsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy56ZXJvRmlsbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1vbnRoRm9ybWF0ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubW9udGhGb3JtYXQgPSBvcHRpb25zLm1vbnRoRm9ybWF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGF5Rm9ybWF0ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZGF5Rm9ybWF0ID0gb3B0aW9ucy5kYXlGb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5uYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdG9yID09PSAnZmFsc2UnIHx8ICFvcHRpb25zLm5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubmF2aWdhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmF2aWdhdG9yUG9zaXRpb24gIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3JQb3NpdGlvbiA9IG9wdGlvbnMubmF2aWdhdG9yUG9zaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMYW5ndWFnZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sYW5ndWFnZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHRoaXMubGFuZ3VhZ2VzW29wdGlvbnMubGFuZ3VhZ2VdICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgbGFuZ3VhZ2VcclxuICAgICAgICB0aGlzLnNldExhbmd1YWdlKHRoaXMuX29wdGlvbnMubGFuZ3VhZ2UpO1xyXG5cclxuICAgICAgICAvLyBTZXQgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZkb3R3ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSBvcHRpb25zLmZkb3R3O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgLy8gSWYgZGF5IG51bWJlclxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSYW5nZSBjaGVjayAobm8gbmVlZCB0byBjaGVjayBmb3IgYmlnZ2VyIHRoYW4gNyBidXQgSSBkb24ndCB0cnVzdCBhbnlvbmUpXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA+PSAxICYmIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPD0gNykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPSBvcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBkYXkgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXJzdERheU9mVGhlV2Vlay5tYXRjaCgvXlsxLTddJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA9IHBhcnNlSW50KG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWssIDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGVsc2UgdXNlIGl0IGFzIGEgZGF5IG5hbWVcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvIGZpbmQgZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayA9IHRoaXMubGFuZ3VhZ2UuZGF5cy5pbmRleE9mKG9wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWspICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmFuZ2UgY2hlY2sgKG5vIG5lZWQgdG8gY2hlY2sgZm9yIGJpZ2dlciB0aGVuIDcgYnV0IEkgZG9uJ3QgdHJ1c3QgYW55b25lKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIDwgMSB8fCB0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID4gNykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBtaW4gY2FsZW5kYXIgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5taW4gIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMubWluICE9PSAnZmFsc2UnICYmIG9wdGlvbnMubWluICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gdG9vbHMucGFyc2VEYXRlKG9wdGlvbnMubWluKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IG1heCBjYWxlbmRhciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1heCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucy5tYXggIT09ICdmYWxzZScgJiYgb3B0aW9ucy5tYXggIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5tYXggPSB0b29scy5wYXJzZURhdGUob3B0aW9ucy5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgcmVuZGVyIGhhbmRsZXJzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTW9udGhSZW5kZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFBhc3NlZCBhcyBmdW5jdGlvbiBuYW1lIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5vbk1vbnRoUmVuZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvd1tvcHRpb25zLm9uTW9udGhSZW5kZXJdID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ21vbnRoX3JlbmRlcicsIHdpbmRvd1tvcHRpb25zLm9uTW9udGhSZW5kZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub25Nb250aFJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ21vbnRoX3JlbmRlcicsIG9wdGlvbnMub25Nb250aFJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uRGF5UmVuZGVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb24gbmFtZSBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25EYXlSZW5kZXIgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93W29wdGlvbnMub25EYXlSZW5kZXJdID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RheV9yZW5kZXInLCB3aW5kb3dbb3B0aW9ucy5vbkRheVJlbmRlcl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBhc3NlZCBhcyBmdW5jdGlvblxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5vbkRheVJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJ2RheV9yZW5kZXInLCBvcHRpb25zLm9uRGF5UmVuZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb24gbmFtZSBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvd1tvcHRpb25zLm9uRGF0ZVJlbmRlcl0gPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbignZGF0ZV9yZW5kZXInLCB3aW5kb3dbb3B0aW9ucy5vbkRhdGVSZW5kZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQYXNzZWQgYXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub25EYXRlUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbignZGF0ZV9yZW5kZXInLCBvcHRpb25zLm9uRGF0ZVJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCB0YXJnZXRcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9zZXRUYXJnZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gUGFyc2UgdGFyZ2V0XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IHRvb2xzLmdldEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgLy8gSWYgdGFyZ2V0IG5vdCBmb3VuZFxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogVGFyZ2V0IHdhcyBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBTYXZlIGVsZW1lbnRcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgLy8gTGluayBvYmplY3QgdG8gbGlzdFxyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLl90YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgIGlmIChpZCAmJiBpZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBqc0NhbGVuZGFyT2JqZWN0c1snIycgKyBpZF0gPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0IHRhcmdldFxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2luaXRUYXJnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBBZGQgY2xhc3NcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0LmNsYXNzTmFtZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmNsYXNzTmFtZSArPSAnICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3RhcmdldC5jbGFzc05hbWUgKz0gJ2pzQ2FsZW5kYXInO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGFibGVcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy50YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRhYmxlIGhlYWRlclxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmhlYWQpO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0YWJsZSBib2R5XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMudGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuYm9keSk7XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBvbiBwYWdlXHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLnRhYmxlKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpbiByYW5nZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX2lzRGF0ZUluUmFuZ2UgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgLy8gSWYgbm8gcmFuZ2VcclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5taW4gPT09IGZhbHNlICYmIHRoaXMuX29wdGlvbnMubWF4ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIG1pblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm1pbiAhPT0gZmFsc2UgJiYgdGhpcy5fb3B0aW9ucy5taW4uZ2V0VGltZSgpID4gZGF0ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBtYXhcclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5tYXggIT09IGZhbHNlICYmIHRoaXMuX29wdGlvbnMubWF4LmdldFRpbWUoKSA8IGRhdGUuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluIHJhbmdlXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCBhIERhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl9zZXREYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIC8vIENoZWNrIGRhdGUgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IGRhdGFcclxuICAgICAgICB0aGlzLl9ub3cgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMuX2RhdGUgPSBuZXcgRGF0ZSh0aGlzLl9ub3cuZ2V0RnVsbFllYXIoKSwgdGhpcy5fbm93LmdldE1vbnRoKCksIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IHRvIGRhdGUgc3RyaW5nXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VUb0RhdGVTdHJpbmcgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgbGFuZyA9IHRoaXMubGFuZ3VhZ2U7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC8oTU9OVEh8bW9udGh8TU1NfG1tbXxtbXxtfE1NfE18REFZfGRheXxERER8ZGRkfGRkfGR8RER8RHxZWVlZfHl5eXkpL2csIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGFuZy5kYXRlU3RyaW5nUGFyc2VyKGtleSwgZGF0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdldCB2aXNpYmxlIG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZ2V0VmlzaWJsZU1vbnRoID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIEZvciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgc2F2ZWQgZGF0ZVxyXG4gICAgICAgICAgICBkYXRlID0gdGhpcy5fZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgbW9udGgncyBmaXJzdCBkYXlcclxuICAgICAgICB2YXIgZmlyc3QgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgZmlyc3Quc2V0RGF0ZSgxKTtcclxuXHJcbiAgICAgICAgLy8gRmlyc3QgZGF5IG9mIHRoZSBtb250aCBpbmRleFxyXG4gICAgICAgIHZhciBmaXJzdERheSA9IGZpcnN0LmdldERheSgpIC0gKHRoaXMuX29wdGlvbnMuZmlyc3REYXlPZlRoZVdlZWsgLSAxKTtcclxuICAgICAgICBpZiAoZmlyc3REYXkgPCAwKSB7XHJcbiAgICAgICAgICAgIGZpcnN0RGF5ICs9IDc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgbW9udGgncyBuYW1lXHJcbiAgICAgICAgdmFyIGxhbmcgPSB0aGlzLmxhbmd1YWdlO1xyXG4gICAgICAgIHZhciBuYW1lID0gdGhpcy5fb3B0aW9ucy5tb250aEZvcm1hdC5yZXBsYWNlKC8oTU9OVEh8bW9udGh8TU1NfG1tbXwjI3wjfFlZWVl8eXl5eSkvZywgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsYW5nLmRhdGVTdHJpbmdQYXJzZXIoa2V5LCBmaXJzdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB2aXNpYmxlIGRheXNcclxuICAgICAgICB2YXIgZGF5cyA9IHRoaXMuX2dldFZpc2libGVEYXRlcyhkYXRlKTtcclxuICAgICAgICB2YXIgZGF5c0luTW9udGggPSBuZXcgRGF0ZShmaXJzdC5nZXRZZWFyKCkgKyAxOTAwLCBmaXJzdC5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudCA9IC0xO1xyXG4gICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIG1vbnRoXHJcbiAgICAgICAgaWYgKGZpcnN0LmdldFllYXIoKSA9PT0gdGhpcy5fbm93LmdldFllYXIoKSAmJiBmaXJzdC5nZXRNb250aCgpID09PSB0aGlzLl9ub3cuZ2V0TW9udGgoKSkge1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gZmlyc3REYXkgKyB0aGlzLl9ub3cuZ2V0RGF0ZSgpIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBvYmplY3RcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lIDogbmFtZSxcclxuICAgICAgICAgICAgZGF5cyA6IGRheXMsXHJcbiAgICAgICAgICAgIHN0YXJ0IDogZmlyc3REYXkgKyAxLFxyXG4gICAgICAgICAgICBjdXJyZW50IDogY3VycmVudCxcclxuICAgICAgICAgICAgZW5kIDogZmlyc3REYXkgKyBkYXlzSW5Nb250aFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdldCB2aXNpYmxlIGRhdGVzXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZ2V0VmlzaWJsZURhdGVzID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIC8vIEZvciBkYXRlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgc2F2ZWQgZGF0ZVxyXG4gICAgICAgICAgICBkYXRlID0gdGhpcy5fZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSB0b29scy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWaXNpYmxlIGRheXMgYXJyYXlcclxuICAgICAgICB2YXIgZGF0ZXMgPSBbXTtcclxuICAgICAgICAvLyBHZXQgZmlyc3QgZGF5IG9mIHRoZSBtb250aFxyXG4gICAgICAgIHZhciBmaXJzdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICBmaXJzdC5zZXREYXRlKDEpO1xyXG4gICAgICAgIGZpcnN0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG5cclxuICAgICAgICAvLyBDb3VudCBkYXlzIG9mIHByZXZpb3VzIG1vbnRoIHRvIHNob3dcclxuICAgICAgICB2YXIgcHJldmlvdXMgPSBmaXJzdC5nZXREYXkoKSAtICh0aGlzLl9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIC0gMSk7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzIDwgMCkge1xyXG4gICAgICAgICAgICBwcmV2aW91cyArPSA3O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgZGF5IHRvIG1vbnRoJ3MgZmlyc3RcclxuICAgICAgICB2YXIgZGF5ID0gbmV3IERhdGUoZmlyc3QuZ2V0VGltZSgpKTtcclxuICAgICAgICAvLyBQcmV2aW91cyBtb250aCdzIGRheXNcclxuICAgICAgICB3aGlsZSAocHJldmlvdXMgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwcmV2aW91cyBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSAtIDEpO1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBmcm9uZCBvZiB0aGUgbGlzdFxyXG4gICAgICAgICAgICBkYXRlcy51bnNoaWZ0KG5ldyBEYXRlKGRheS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgLy8gUHJldmlvdXNcclxuICAgICAgICAgICAgcHJldmlvdXMgLS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgZGF5IHRvIG1vbnRoJ3MgZmlyc3RcclxuICAgICAgICBkYXkgPSBuZXcgRGF0ZShmaXJzdC5nZXRUaW1lKCkpO1xyXG4gICAgICAgIC8vIFRoaXMgbW9udGgncyBkYXlzXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBiYWNrIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgIGRhdGVzLnB1c2gobmV3IERhdGUoZGF5LmdldFRpbWUoKSkpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAvLyBSZXBlYXQgdW50aWwgbmV4dCBtb250aFxyXG4gICAgICAgIH0gd2hpbGUgKGRheS5nZXREYXRlKCkgIT09IDEpO1xyXG5cclxuICAgICAgICAvLyBOZXh0IG1vbnRoJ3MgZGF5c1xyXG4gICAgICAgIHZhciBuZXh0ID0gNDIgLSBkYXRlcy5sZW5ndGg7XHJcbiAgICAgICAgLy8gQWRkIGRheXMgbGVmdFxyXG4gICAgICAgIHdoaWxlIChuZXh0ID4gMCkge1xyXG4gICAgICAgICAgICAvLyBBZGQgcGFnZSBvbiBiYWNrIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgIGRhdGVzLnB1c2gobmV3IERhdGUoZGF5LmdldFRpbWUoKSkpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBkYXlcclxuICAgICAgICAgICAgZGF5LnNldERhdGUoZGF5LmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAvLyBOZXh0XHJcbiAgICAgICAgICAgIG5leHQgLS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gZGF5c1xyXG4gICAgICAgIHJldHVybiBkYXRlcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGksIGo7XHJcbiAgICAgICAgLy8gU2F2ZSBpbnN0YW5jZVxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gU2V0IGNyZWF0ZWQgZmxhZ1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmNyZWF0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBIZWFkIHJvd3NcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUm93cyA9IFtdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3MucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkUm93c1tpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb250aCByb3dcclxuICAgICAgICB2YXIgdGl0bGVfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcclxuICAgICAgICB0aXRsZV9oZWFkZXIuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgNyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMF0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUtcm93JztcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkUm93c1swXS5hcHBlbmRDaGlsZCh0aXRsZV9oZWFkZXIpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRMZWZ0LmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLXRpdGxlLWxlZnQnO1xyXG4gICAgICAgIHRpdGxlX2hlYWRlci5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5oZWFkTGVmdCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubW9udGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tb250aC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci10aXRsZS1uYW1lJztcclxuICAgICAgICB0aXRsZV9oZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubW9udGgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5jbGFzc05hbWUgPSAnanNDYWxlbmRhci10aXRsZS1yaWdodCc7XHJcbiAgICAgICAgdGl0bGVfaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodCk7XHJcblxyXG4gICAgICAgIC8vIE5hdmlnYXRpb25cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5uYXZpZ2F0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5uYXZMZWZ0LmNsYXNzTmFtZSA9ICdqc0NhbGVuZGFyLW5hdi1sZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2UmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubmF2UmlnaHQuY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItbmF2LXJpZ2h0JztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5hdmlnYXRvclBvc2l0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRMZWZ0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLm5hdkxlZnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZExlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMubmF2UmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX29wdGlvbnMubmF2aWdhdG9yUG9zaXRpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZMZWZ0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5oZWFkTGVmdC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZMZWZ0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmhlYWRSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy5uYXZSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5uYXZMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgdGhhdC5wcmV2aW91cygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGF0Ll9kYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldERhdGUoMSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9ldmVudEZpcmUoJ21vbnRoJywgZGF0ZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm5hdlJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgdGhhdC5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoYXQuX2RhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZSgxKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuX2V2ZW50RmlyZSgnbW9udGgnLCBkYXRlLCBldmVudCk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERheXMgcm93XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItd2Vlay1kYXlzJztcclxuICAgICAgICB0aXRsZV9oZWFkZXIuY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItdGl0bGUnO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMgPSBbXTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaGVhZFJvd3NbMV0uYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuZGF5c1tcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXMubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJvZHkgcm93c1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzID0gW107XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHMgPSBbXTtcclxuICAgICAgICAvLyA2IHJvd3NcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzLnB1c2goZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMuYm9keVJvd3NbaV0pO1xyXG4gICAgICAgICAgICAvLyA3IGRheXNcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IDc7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHMucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlSb3dzW2ldLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW2kgKiA3ICsgal0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaSAqIDcgKyBqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9ldmVudEZpcmUoJ2RhdGUnLCB0aGF0Ll9hY3RpdmVbaW5kZXhdLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pKGkgKiA3ICsgaiksIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gU2VsZWN0IGRhdGVzIG9uIGNhbGVuZGFyXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fc2VsZWN0RGF0ZXMgPSBmdW5jdGlvbihkYXRlcykge1xyXG4gICAgICAgIC8vIENvcHkgYXJyYXkgaW5zdGFuY2VcclxuICAgICAgICBkYXRlcyA9IGRhdGVzLnNsaWNlKCk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkYXRlc1tpXSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgIGRhdGVzW2ldLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICBkYXRlc1tpXSA9IGRhdGVzW2ldLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBkYXRlcyBvbiBhcnJheVxyXG4gICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCBhbHJlYWR5IHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGRhdGVzW2ldKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkLnB1c2goZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbi1zZWxlY3QgZGF0ZXMgb24gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl91bnNlbGVjdERhdGVzID0gZnVuY3Rpb24oZGF0ZXMpIHtcclxuICAgICAgICAvLyBDb3B5IGFycmF5IGluc3RhbmNlXHJcbiAgICAgICAgZGF0ZXMgPSBkYXRlcy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSB0b29scy5wYXJzZURhdGUoZGF0ZXNbaV0pO1xyXG4gICAgICAgICAgICBkYXRlc1tpXS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgZGF0ZXNbaV0gPSBkYXRlc1tpXS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgZGF0ZXMgb2YgdGhlIGFycmF5XHJcbiAgICAgICAgdmFyIGluZGV4O1xyXG4gICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXMgb24gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLl91bnNlbGVjdEFsbERhdGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gV2hpbGUgbm90IGVtcHR5XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuX3NlbGVjdGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZC5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVwZGF0ZSBjYWxlbmRhclxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEdldCBtb250aCBpbmZvXHJcbiAgICAgICAgdmFyIG1vbnRoID0gdGhpcy5fZ2V0VmlzaWJsZU1vbnRoKHRoaXMuX2RhdGUpO1xyXG4gICAgICAgIC8vIFNhdmUgZGF0YVxyXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IG1vbnRoLmRheXMuc2xpY2UoKTtcclxuICAgICAgICAvLyBVcGRhdGUgbW9udGggbmFtZVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoLnRleHRDb250ZW50ID0gbW9udGgubmFtZTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgemVyb3MgZmlsbGluZ1xyXG4gICAgICAgIHZhciBwcmVmaXggPSAodGhpcy5fb3B0aW9ucy56ZXJvRmlsbCkgPyAnMCcgOiAnJztcclxuXHJcbiAgICAgICAgLy8gUG9wdWxhdGUgZGF5c1xyXG4gICAgICAgIHZhciB0ZXh0O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBtb250aC5kYXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBtb250aC5kYXlzW2ldLmdldERhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0udGV4dENvbnRlbnQgPSAodGV4dCA8IDEwID8gcHJlZml4ICsgdGV4dCA6IHRleHQpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgZGF0ZSBpcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihtb250aC5kYXlzW2ldLmdldFRpbWUoKSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0uY2xhc3NOYW1lID0gJ2pzQ2FsZW5kYXItc2VsZWN0ZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQcmV2aW91cyBtb250aFxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb250aC5zdGFydCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1wcmV2aW91cyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEN1cnJlbnQgZGF5XHJcbiAgICAgICAgaWYgKG1vbnRoLmN1cnJlbnQgPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudHMuYm9keUNvbHNbbW9udGguY3VycmVudF0uY2xhc3NOYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmJvZHlDb2xzW21vbnRoLmN1cnJlbnRdLmNsYXNzTmFtZSArPSAnIGpzQ2FsZW5kYXItY3VycmVudCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1ttb250aC5jdXJyZW50XS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1jdXJyZW50JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOZXh0IG1vbnRoXHJcbiAgICAgICAgZm9yIChpID0gbW9udGguZW5kOyBpIDwgbW9udGguZGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5jbGFzc05hbWUgPSAnanNDYWxlbmRhci1uZXh0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkYXlzIG9mIHRoZSB3ZWVrIGxvY2FsZVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5kYXlzW2ldLnRleHRDb250ZW50ID0gdGhpcy5fb3B0aW9ucy5kYXlGb3JtYXQucmVwbGFjZSgvKERBWXxkYXl8REREfGRkZHxERHxkZHxEKS9nLCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0Lmxhbmd1YWdlLmRheVN0cmluZ1BhcnNlcihcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgKGkgKyB0aGF0Ll9vcHRpb25zLmZpcnN0RGF5T2ZUaGVXZWVrIC0gMSkgJSA3XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGwgcmVuZGVyIGhhbmRsZXJzXHJcbiAgICAgICAgdmFyIGo7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG1vbnRoLmRheXNbbW9udGguc3RhcnRdO1xyXG4gICAgICAgICAgICAvLyBDbGVhciBhbnkgc3R5bGVcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubW9udGgucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSByZW5kZXIgaGFuZGxlcnNcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5tb250aF9yZW5kZXJbal0uY2FsbCh0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vbnRoIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIGh0bWwgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBtb250aFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA6IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCwgMjMsIDU5LCA1OSwgOTk5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZEYXlzIDogbW9udGguZW5kIC0gbW9udGguc3RhcnQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmRheV9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBhbnkgc3R5bGVcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXNbaV0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgcmVuZGVyIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLl9ldmVudHMuZGF5X3JlbmRlci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5kYXlfcmVuZGVyW2pdLmNhbGwodGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGF5IGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpICsgdGhpcy5fb3B0aW9ucy5maXJzdERheU9mVGhlV2VlayAtIDEpICUgNyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0aGUgaHRtbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmRheXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBkYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gOiBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9ldmVudHMuZGF0ZV9yZW5kZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9udGguZGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHN0eWxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib2R5Q29sc1tpXS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSByZW5kZXIgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXMuX2V2ZW50cy5kYXRlX3JlbmRlci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5kYXRlX3JlbmRlcltqXS5jYWxsKHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERhdGUgc2hvdWxkIGJlIGNsb25uZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUobW9udGguZGF5c1tpXS5nZXRUaW1lKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBodG1sIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYm9keUNvbHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZm8gYWJvdXQgdGhhdCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudCA6IChtb250aC5jdXJyZW50ID09IGkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA6ICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKG1vbnRoLmRheXNbaV0uZ2V0VGltZSgpKSA+PSAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJldmlvdXNNb250aCA6IChpIDwgbW9udGguc3RhcnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDdXJyZW50TW9udGggOiAobW9udGguc3RhcnQgPD0gaSAmJiBpIDw9IG1vbnRoLmVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05leHRNb250aCA6IChtb250aC5lbmQgPCBpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIDoge3g6IGklNywgeTogTWF0aC5mbG9vcihpLzcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gRmlyZSBhbGwgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fZXZlbnRGaXJlID0gZnVuY3Rpb24obmFtZSwgZGF0ZSwgZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIFNlYXJjaCBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2V2ZW50c1tuYW1lXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24oY2FsbGJhY2ssIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGFzeW5jaHJvbm91c1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGluc3RhbmNlLCBldmVudCwgbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9KSh0aGlzLl9ldmVudHNbbmFtZV1baV0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQWRkIGEgZXZlbnQgbGlzdGVuZXJcclxuICAgIC8vIFRoaXMgbWV0aG9kIHdpbGwgYmUgZXhwb3NlZCBvbiB0aGUgZnV0dXJlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5fb24gPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIC8vIElmIGNhbGxiYWNrIGlzIGEgZnVuY3Rpb25cclxuICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAvLyBBZGQgdG8gdGhlIGxpc3RcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW25hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90IGEgZnVuY3Rpb25cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBhIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUub25EYXRlQ2xpY2sgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbignZGF0ZScsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5vbk1vbnRoQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ21vbnRoJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uRGF5UmVuZGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ2RheV9yZW5kZXInLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUub25EYXRlUmVuZGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb24oJ2RhdGVfcmVuZGVyJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm9uTW9udGhSZW5kZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbignbW9udGhfcmVuZGVyJywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHb3RvIGEgZGF0ZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgLy8gU2V0IG5ldyBkYXRlXHJcbiAgICAgICAgdGhpcy5fc2V0RGF0ZShkYXRlKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgbWluIGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIHZhbHVlXHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IG1pbiBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEaXNhYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWluID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgbWF4IGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIHZhbHVlXHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gU2V0IG1heCBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWF4ID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEaXNhYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubWF4ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZWZyZXNoXHJcbiAgICAvLyBTYWZlIF91cGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgLy8gSWYgZGF0ZSBwcm92aWRlZFxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gSWYgZGF0ZSBpcyBpbiByYW5nZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEYXRlSW5SYW5nZShkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgY2FsZW5kYXIgZWxlbWVudHMgcmVhZHlcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudHMuY3JlYXRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBOZXh0IG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obil7XHJcbiAgICAgICAgLy8gTmV4dCBudW1iZXJcclxuICAgICAgICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIG4gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRhdGVcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuX2RhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5fZGF0ZS5nZXRNb250aCgpICsgbiwgMSk7XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGUgaXMgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9kYXRlID0gZGF0ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE5leHQgbW9udGhcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24obil7XHJcbiAgICAgICAgLy8gTmV4dCBudW1iZXJcclxuICAgICAgICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIG4gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRhdGUgKGxhc3QgZGF5IG9mIHByZXZpb3VzIG1vbnRoKVxyXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhpcy5fZGF0ZS5nZXRGdWxsWWVhcigpLCB0aGlzLl9kYXRlLmdldE1vbnRoKCkgLSBuICsgMSwgMCk7XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGUgaXMgbm90IGluIHJhbmdlXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RhdGVJblJhbmdlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRhdGVcclxuICAgICAgICB0aGlzLl9kYXRlID0gZGF0ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEdvdG8gYSBkYXRlXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5nb3RvID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKGRhdGUpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVzZXQgdG8gdGhlIGRhdGVcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLnJlZnJlc2godGhpcy5fbm93KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbGVjdCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZXMpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZXMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGRhdGVzIG5vdCBhcnJheVxyXG4gICAgICAgIGlmICghKGRhdGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIExldHMgbWFrZSBpdCBhbiBhcnJheVxyXG4gICAgICAgICAgICBkYXRlcyA9IFtkYXRlc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNlbGVjdCBkYXRlc1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdERhdGVzKGRhdGVzKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUudW5zZWxlY3QgPSBmdW5jdGlvbihkYXRlcyl7XHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgZGF0ZXMgbm90IGFycmF5XHJcbiAgICAgICAgaWYgKCEoZGF0ZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgLy8gTGV0cyBtYWtlIGl0IGFuIGFycmF5XHJcbiAgICAgICAgICAgIGRhdGVzID0gW2RhdGVzXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVW5zZWxlY3QgZGF0ZXNcclxuICAgICAgICB0aGlzLl91bnNlbGVjdERhdGVzKGRhdGVzKTtcclxuICAgICAgICAvLyBSZWZyZXNoXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXNcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmNsZWFyc2VsZWN0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXNcclxuICAgICAgICB0aGlzLl91bnNlbGVjdEFsbERhdGVzKCk7XHJcbiAgICAgICAgLy8gUmVmcmVzaFxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvLyBVbnNlbGVjdCBhbGwgZGF0ZXMgKGFsaWFzKVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZCA9IEpzQ2FsZW5kYXIucHJvdG90eXBlLmNsZWFyc2VsZWN0O1xyXG5cclxuICAgIC8vIEdldCBzZWxlY3RlZCBkYXRlc1xyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICAvLyBDaGVjayBpZiBubyBvcHRpb25zXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHNlbGVjdGVkIGFycmF5XHJcbiAgICAgICAgdmFyIGRhdGVzID0gdGhpcy5fc2VsZWN0ZWQuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gT3B0aW9ucyAtIFNvcnQgYXJyYXlcclxuICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5zb3J0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc29ydC50b0xvd2VyQ2FzZSgpID09PSAnYXNjJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc29ydC50b0xvd2VyQ2FzZSgpID09PSAnZGVzYycpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzLnNvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbnMgLSBEYXRhIHR5cGVcclxuICAgICAgICBpZiAob3B0aW9ucy50eXBlICYmIHR5cGVvZiBvcHRpb25zLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2RhdGUnKXtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGRhdGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXNbaV0gPSBuZXcgRGF0ZShkYXRlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgbm90IGEgdGltZXN0YW1wIC0gY29udmVydCB0byBjdXN0b20gZm9ybWF0XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpICE9PSAndGltZXN0YW1wJykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gZGF0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlc1tpXSA9IHRoaXMuX3BhcnNlVG9EYXRlU3RyaW5nKG5ldyBEYXRlKGRhdGVzW2ldKSwgb3B0aW9ucy50eXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIGRhdGVzXHJcbiAgICAgICAgcmV0dXJuIGRhdGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHNlbGVjdGVkXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5pc1NlbGVjdGVkID0gZnVuY3Rpb24oZGF0ZSl7XHJcbiAgICAgICAgLy8gSWYgbm8gYXJndW1lbnRzIG9yIG51bGxcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGRhdGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGRhdGVcclxuICAgICAgICBkYXRlID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgZGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAvLyBJZiBzZWxlY3RlZFxyXG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGRhdGUpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vdCBzZWxlY3RlZFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHZpc2libGUgaW4gY2FsZW5kYXJcclxuICAgIEpzQ2FsZW5kYXIucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKGRhdGUpe1xyXG4gICAgICAgIC8vIElmIG5vIGFyZ3VtZW50cyBvciBudWxsXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAndW5kZWZpbmVkJyB8fCBkYXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYXJzZSBkYXRlXHJcbiAgICAgICAgZGF0ZSA9IHRvb2xzLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIGRhdGUgPSBkYXRlLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHZpc2libGUgZGF0ZXNcclxuICAgICAgICB2YXIgdmlzaWJsZSA9IHRoaXMuX2dldFZpc2libGVEYXRlcygpO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGRhdGUgaXMgaW5zaWRlIHZpc2libGUgZGF0ZXNcclxuICAgICAgICBpZiAodmlzaWJsZVswXS5nZXRUaW1lKCkgPD0gZGF0ZSAmJiB2aXNpYmxlW3Zpc2libGUubGVuZ3RoIC0gMV0uZ2V0VGltZSgpID49IGRhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdCB2aXNpYmxlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGRhdGUgaXMgaW4gYWN0aXZlIG1vbnRoXHJcbiAgICBKc0NhbGVuZGFyLnByb3RvdHlwZS5pc0luTW9udGggPSBmdW5jdGlvbihkYXRlKXtcclxuICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgb3IgbnVsbFxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFyc2UgZGF0ZSBhbmQgZ2V0IG1vbnRoXHJcbiAgICAgICAgdmFyIG1vbnRoID0gdG9vbHMucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgIG1vbnRoLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIG1vbnRoLnNldERhdGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGFjdGl2ZSBtb250aCBkYXRlXHJcbiAgICAgICAgdmFyIGFjdGl2ZSA9IHRvb2xzLnBhcnNlRGF0ZSh0aGlzLl9kYXRlKTtcclxuICAgICAgICBhY3RpdmUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgYWN0aXZlLnNldERhdGUoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgc2FtZSBtb250aFxyXG4gICAgICAgIGlmIChtb250aC5nZXRUaW1lKCkgPT09IGFjdGl2ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE90aGVyIG1vbnRoXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNldCBsYW5ndWFnZVxyXG4gICAgSnNDYWxlbmRhci5wcm90b3R5cGUuc2V0TGFuZ3VhZ2UgPSBmdW5jdGlvbihjb2RlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbGFuZ3VhZ2UgZXhpc3RcclxuICAgICAgICBpZiAodHlwZW9mIGNvZGUgIT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGxhbmd1YWdlIGNvZGUuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5sYW5ndWFnZXNbY29kZV0gPT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBMYW5ndWFnZSBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGFuZ2UgbGFuZ3VhZ2VcclxuICAgICAgICB0aGlzLl9vcHRpb25zLmxhbmd1YWdlID0gY29kZTtcclxuXHJcbiAgICAgICAgLy8gU2V0IG5ldyBsYW5ndWFnZSBhcyBhY3RpdmVcclxuICAgICAgICB2YXIgbGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlc1tjb2RlXTtcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLm1vbnRocyA9IGxhbmd1YWdlLm1vbnRocztcclxuICAgICAgICB0aGlzLmxhbmd1YWdlLmRheXMgPSBsYW5ndWFnZS5kYXlzO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UuZGF0ZVN0cmluZ1BhcnNlciA9IGxhbmd1YWdlLl9kYXRlU3RyaW5nUGFyc2VyO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UuZGF5U3RyaW5nUGFyc2VyID0gbGFuZ3VhZ2UuX2RheVN0cmluZ1BhcnNlcjtcclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaCBjYWxlbmRhclxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBmb28gbWV0aG9kcyAod2VsbC4uLiBub3QgcmVhbGx5IHN0YXRpYylcclxuXHJcbiAgICAvLyBBdXRvIGluaXQgY2FsZW5kYXJzXHJcbiAgICBKc0NhbGVuZGFyLmF1dG9GaW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gR2V0IGFsbCBhdXRvLWNhbGVuZGFyc1xyXG4gICAgICAgIHZhciBjYWxlbmRhcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdXRvLWpzQ2FsZW5kYXInKTtcclxuICAgICAgICAvLyBGb3IgZWFjaCBhdXRvLWNhbGVuZGFyXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxlbmRhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gSWYgbm90IGxvYWRlZFxyXG4gICAgICAgICAgICBpZiAoY2FsZW5kYXJzW2ldLmdldEF0dHJpYnV0ZSgnanNDYWxlbmRhci1sb2FkZWQnKSAhPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgYXMgbG9hZGVkXHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhcnNbaV0uc2V0QXR0cmlidXRlKCdqc0NhbGVuZGFyLWxvYWRlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVcclxuICAgICAgICAgICAgICAgIG5ldyBKc0NhbGVuZGFyKHt0YXJnZXQ6IGNhbGVuZGFyc1tpXX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gVG9vbHNcclxuICAgIHZhciB0b29scyA9IEpzQ2FsZW5kYXIudG9vbHMgPSB7fTtcclxuICAgIC8vIFBhcnNlIHRvIGphdmFzY3JpcHQgZGF0ZSBvYmplY3RcclxuICAgIHRvb2xzLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHNpbGVudCkge1xyXG4gICAgICAgIC8vIElmIHNldCBub3cgZGF0ZVxyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZSA9PT0gbnVsbCB8fCBkYXRlID09PSAnbm93Jykge1xyXG4gICAgICAgICAgICAvLyBHZXQgZGF0ZSBub3dcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBkYXRlIGlzIHN0cmluZ1xyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRlIHN0cmluZ1xyXG4gICAgICAgICAgICBkYXRlID0gZGF0ZS5yZXBsYWNlKC8tL2csJy8nKS5tYXRjaCgvXihcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHs0LDR9KSQvaSk7XHJcbiAgICAgICAgICAgIC8vIElmIG1hdGNoXHJcbiAgICAgICAgICAgIGlmIChkYXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhfaW5kZXggPSBwYXJzZUludChkYXRlWzJdLCAxMCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgZGF0ZVxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGVbM10sIG1vbnRoX2luZGV4LCBkYXRlWzFdKTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGRhdGUgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghZGF0ZSB8fCBkYXRlLmdldE1vbnRoKCkgIT09IG1vbnRoX2luZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBEYXRlIGRvZXMgbm90IGV4aXN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENhbid0IHBhcnNlIHN0cmluZ1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBGYWlsZWQgdG8gcGFyc2UgZGF0ZS4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBpdCBpcyBhIG51bWJlclxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGltZSBmcm9tIHRpbWVzdGFtcFxyXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBpdCBub3QgYSBkYXRlIFxyXG4gICAgICAgIGVsc2UgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIGlmICghc2lsZW50KSB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgZGF0ZS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gZGF0ZVxyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICB9O1xyXG4gICAgdG9vbHMuc3RyaW5nVG9EYXRlID0gdG9vbHMucGFyc2VEYXRlO1xyXG4gICAgLy8gRGF0ZSB0byBzdHJpbmdcclxuICAgIHRvb2xzLmRhdGVUb1N0cmluZyA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgbGFuZykge1xyXG4gICAgICAgIC8vIEZpbmQgbGFuZ1xyXG4gICAgICAgIHZhciBsYW5ndWFnZXMgPSBKc0NhbGVuZGFyLnByb3RvdHlwZS5sYW5ndWFnZXM7XHJcbiAgICAgICAgaWYgKCFsYW5nIHx8ICFsYW5ndWFnZXMuaGFzT3duUHJvcGVydHkobGFuZykpIHtcclxuICAgICAgICAgICAgbGFuZyA9ICdlbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHBhcnNlclxyXG4gICAgICAgIHJldHVybiBKc0NhbGVuZGFyLnByb3RvdHlwZS5fcGFyc2VUb0RhdGVTdHJpbmcuYXBwbHkoXHJcbiAgICAgICAgICAgIHtsYW5ndWFnZSA6IHtcclxuICAgICAgICAgICAgICAgIG1vbnRocyA6IGxhbmd1YWdlc1tsYW5nXS5tb250aHMsXHJcbiAgICAgICAgICAgICAgICBkYXlzIDogbGFuZ3VhZ2VzW2xhbmddLmRheXMsXHJcbiAgICAgICAgICAgICAgICBkYXRlU3RyaW5nUGFyc2VyIDogbGFuZ3VhZ2VzW2xhbmddLl9kYXRlU3RyaW5nUGFyc2VyLFxyXG4gICAgICAgICAgICAgICAgZGF5U3RyaW5nUGFyc2VyIDogbGFuZ3VhZ2VzW2xhbmddLl9kYXlTdHJpbmdQYXJzZXJcclxuICAgICAgICAgICAgfX0sXHJcbiAgICAgICAgICAgIFtkYXRlLCBmb3JtYXRdXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICAvLyBHZXQgZWxlbWVudFxyXG4gICAgdG9vbHMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBub3QgdmFsaWRcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBzdHJpbmdcclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBlbGVtZW50IGJ5IGlkXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50WzBdID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnN1YnN0cmluZygxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gR2V0IGVsZW1lbnQgYnkgY2xhc3MtbmFtZVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50WzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGVsZW1lbnQuc3Vic3RyaW5nKDEpKVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBvciBpZiBpdCBpcyBIVE1MIGVsZW1lbnQgKGp1c3QgYSBuYWl2ZS1zaW1wbGUgY2hlY2spXHJcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudC50YWdOYW1lICYmIGVsZW1lbnQubm9kZU5hbWUgJiYgZWxlbWVudC5vd25lckRvY3VtZW50ICYmIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVW5rbm93blxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gR2V0IGEgbmV3IG9iamVjdFxyXG4gICAgSnNDYWxlbmRhci5uZXcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgb2JqZWN0XHJcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBKc0NhbGVuZGFyKCk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IGNhbGVuZGFyXHJcbiAgICAgICAgb2JqLl9jb25zdHJ1Y3QoYXJndW1lbnRzKTtcclxuICAgICAgICAvLyBSZXR1cm4gbmV3IG9iamVjdFxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBNYW5hZ2UgZXhpc3RpbmcganNDYWxlbmRhciBvYmplY3RzXHJcbiAgICB2YXIganNDYWxlbmRhck9iamVjdHMgPSB7fTtcclxuICAgIEpzQ2FsZW5kYXIuc2V0ID0gZnVuY3Rpb24oaWRlbnRpZmllciwgY2FsZW5kYXIpe1xyXG4gICAgICAgIGlmIChjYWxlbmRhciBpbnN0YW5jZW9mIEpzQ2FsZW5kYXIpIHtcclxuICAgICAgICAgICAganNDYWxlbmRhck9iamVjdHNbaWRlbnRpZmllcl0gPSBjYWxlbmRhcjtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogVGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgbm90IGEganNDYWxlbmRhci4nKTtcclxuICAgIH07XHJcbiAgICBKc0NhbGVuZGFyLmdldCA9IGZ1bmN0aW9uKGlkZW50aWZpZXIpe1xyXG4gICAgICAgIGlmIChqc0NhbGVuZGFyT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganNDYWxlbmRhck9iamVjdHNbaWRlbnRpZmllcl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEpzQ2FsZW5kYXIuZGVsID0gZnVuY3Rpb24oaWRlbnRpZmllcil7XHJcbiAgICAgICAgaWYgKGpzQ2FsZW5kYXJPYmplY3RzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBqc0NhbGVuZGFyT2JqZWN0c1tpZGVudGlmaWVyXTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEFkZCBhIG5ldyBsYW5ndWFnZVxyXG4gICAgSnNDYWxlbmRhci5hZGRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmd1YWdlKXtcclxuICAgICAgICAvLyBDaGVjayBpZiBsYW5ndWFnZSBvYmplY3QgaXMgdmFsaWRcclxuICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IE5vIGxhbmd1YWdlIG9iamVjdCB3YXMgZ2l2ZW4uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGlmIHZhbGlkIGxhbmd1YWdlIGNvZGVcclxuICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlLmNvZGUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBjb2RlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBsYW5ndWFnZSBtb250aHNcclxuICAgICAgICBpZiAoIShsYW5ndWFnZS5tb250aHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc0NhbGVuZGFyOiBJbnZhbGlkIGxhbmd1YWdlIG1vbnRocy4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhbmd1YWdlLm1vbnRocy5sZW5ndGggIT09IDEyKSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBtb250aHMgbGVuZ3RoLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBsYW5ndWFnZSBkYXlzXHJcbiAgICAgICAgaWYgKCEobGFuZ3VhZ2UuZGF5cyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzQ2FsZW5kYXI6IEludmFsaWQgbGFuZ3VhZ2UgZGF5cy4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhbmd1YWdlLmRheXMubGVuZ3RoICE9PSA3KSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignanNDYWxlbmRhcjogSW52YWxpZCBsYW5ndWFnZSBkYXlzIGxlbmd0aC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdyBzYXZlIGxhbmd1YWdlXHJcbiAgICAgICAgSnNDYWxlbmRhci5wcm90b3R5cGUubGFuZ3VhZ2VzW2xhbmd1YWdlLmNvZGVdID0gbGFuZ3VhZ2U7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRlIGxhbmd1YWdlIHN0cmluZyBmb3JtYXQgaGFuZGxlcnNcclxuICAgICAgICBsYW5ndWFnZS5fZGF0ZVN0cmluZ1BhcnNlciA9IChcclxuICAgICAgICAgICAgbGFuZ3VhZ2UuaGFzT3duUHJvcGVydHkoJ2RhdGVTdHJpbmdQYXJzZXInKSA/XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBsYW5ndWFnZS5kYXRlU3RyaW5nUGFyc2VyKGtleSwgZGF0ZSkgfHwgSnNDYWxlbmRhci5fZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIoa2V5LCBkYXRlLCBsYW5ndWFnZSk7fSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGtleSwgZGF0ZSkge3JldHVybiBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlcihrZXksIGRhdGUsIGxhbmd1YWdlKTt9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsYW5ndWFnZS5fZGF5U3RyaW5nUGFyc2VyID0gKFxyXG4gICAgICAgICAgICBsYW5ndWFnZS5oYXNPd25Qcm9wZXJ0eSgnZGF5U3RyaW5nUGFyc2VyJykgP1xyXG4gICAgICAgICAgICBmdW5jdGlvbihrZXksIGRheSkge3JldHVybiBsYW5ndWFnZS5kYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXkpIHx8IEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIoa2V5LCBkYXksIGxhbmd1YWdlKTt9IDpcclxuICAgICAgICAgICAgZnVuY3Rpb24oa2V5LCBkYXkpIHtyZXR1cm4gSnNDYWxlbmRhci5fZGVmYXVsdERheVN0cmluZ1BhcnNlcihrZXksIGRheSwgbGFuZ3VhZ2UpO31cclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uIHRvIGhhbmRsZSBkYXRlLXN0cmluZyBwYXJzaW5nXHJcbiAgICBKc0NhbGVuZGFyLl9kZWZhdWx0RGF0ZVN0cmluZ1BhcnNlciA9IGZ1bmN0aW9uKGtleSwgZGF0ZSwgbGFuZyl7XHJcbiAgICAgICAgc3dpdGNoKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdNT05USCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldO1xyXG4gICAgICAgICAgICBjYXNlICdNTU0nOlxyXG4gICAgICAgICAgICBjYXNlICdtbW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcubW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsIDMpO1xyXG4gICAgICAgICAgICBjYXNlICdtbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5tb250aHNbZGF0ZS5nZXRNb250aCgpXS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ20nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcubW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgICAgICBjYXNlICdNTSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUuZ2V0TW9udGgoKSA8IDkgPyAnMCcgOiAnJykgKyAoZGF0ZS5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgICAgIGNhc2UgJ00nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgIGNhc2UgJyMjJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0ZS5nZXRNb250aCgpIDwgOSA/ICcwJyA6ICcnKSArIChkYXRlLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgICAgICAgY2FzZSAnIyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICAgY2FzZSAnREFZJzpcclxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF0ZS5nZXREYXkoKV07XHJcbiAgICAgICAgICAgIGNhc2UgJ0RERCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2RkZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RhdGUuZ2V0RGF5KCldLnN1YnN0cmluZygwLCAzKTtcclxuICAgICAgICAgICAgY2FzZSAnZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXRlLmdldERheSgpXS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXRlLmdldERheSgpXS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgIGNhc2UgJ0REJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0ZS5nZXREYXRlKCkgPD0gOSA/ICcwJyA6ICcnKSArIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICAgICAgY2FzZSAnWVlZWSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3l5eXknOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0WWVhcigpICsgMTkwMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERlZmF1bHQgZnVuY3Rpb24gdG8gaGFuZGxlIGRhdGUtc3RyaW5nIHBhcnNpbmdcclxuICAgIEpzQ2FsZW5kYXIuX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIgPSBmdW5jdGlvbihrZXksIGRheSwgbGFuZyl7XHJcbiAgICAgICAgc3dpdGNoKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdEQVknOlxyXG4gICAgICAgICAgICBjYXNlICdkYXknOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXldO1xyXG4gICAgICAgICAgICBjYXNlICdEREQnOlxyXG4gICAgICAgICAgICBjYXNlICdkZGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuZGF5c1tkYXldLnN1YnN0cmluZygwLCAzKTtcclxuICAgICAgICAgICAgY2FzZSAnREQnOlxyXG4gICAgICAgICAgICBjYXNlICdkZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy5kYXlzW2RheV0uc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYW5nLmRheXNbZGF5XS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb2FkIGFueSBsYW5ndWFnZSBvbiB0aGUgbG9hZCBsaXN0XHJcbiAgICAoZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBJZiBhIGxpc3QgZXhpc3RcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5qc0NhbGVuZGFyX2xhbmd1YWdlMmxvYWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFdoaWxlIGxpc3Qgbm90IGVtcHR5XHJcbiAgICAgICAgICAgIHdoaWxlICh3aW5kb3cuanNDYWxlbmRhcl9sYW5ndWFnZTJsb2FkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBpdCBhc3luY2hyb25vdXNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uIChsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aW1lb3V0IGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBKc0NhbGVuZGFyLmFkZExhbmd1YWdlKGxhbmd1YWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSkod2luZG93LmpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZC5wb3AoKSksIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHVzZWxlc3MgbGlzdFxyXG4gICAgICAgICAgICBkZWxldGUgd2luZG93LmpzQ2FsZW5kYXJfbGFuZ3VhZ2UybG9hZDtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8vIEluaXQgYXV0byBjYWxlbmRhcnNcclxuICAgIC8vIEFmdGVyIHRoZSBwYWdlIGxvYWRzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEdldCBjYWxlbmRhcnNcclxuICAgICAgICBKc0NhbGVuZGFyLmF1dG9GaW5kKCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy8gUmV0dXJuXHJcbiAgICByZXR1cm4gSnNDYWxlbmRhcjtcclxufSkoKTtcclxuIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJDQUxFTkRBUl9CVVRUT04iLCJjYWxlbmRhciIsInF1ZXJ5U2VsZWN0b3IiLCJob21lIiwic3ZnUGx1cyIsImZvcm1JbnB1dFByb2plY3QiLCJpc09wZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3R5bGUiLCJkaXNwbGF5Iiwib25jbGljayIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInNldFRpbWVvdXQiLCJnZXRBdHRyaWJ1dGUiLCJjb25zb2xlIiwibG9nIiwidW5kZWZpbmVkIiwiSnNDYWxlbmRhciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRoaXMiLCJfY29uc3RydWN0IiwidmVyc2lvbiIsInByb3RvdHlwZSIsImFyZ3MiLCJfcGFyc2VBcmd1bWVudHMiLCJfc2V0VGFyZ2V0IiwidGFyZ2V0IiwiX2luaXQiLCJvcHRpb25zIiwiX2luaXRUYXJnZXQiLCJfc2V0RGF0ZSIsImRhdGUiLCJfdGFyZ2V0IiwiZGF0YXNldCIsImhhc093blByb3BlcnR5IiwiRGF0ZSIsIl9ub3ciLCJFcnJvciIsIl9jcmVhdGUiLCJfdXBkYXRlIiwibGFuZ3VhZ2VzIiwiZW4iLCJtb250aHMiLCJkYXlzIiwiX2RhdGVTdHJpbmdQYXJzZXIiLCJrZXkiLCJfZGVmYXVsdERhdGVTdHJpbmdQYXJzZXIiLCJfZGF5U3RyaW5nUGFyc2VyIiwiX2RlZmF1bHREYXlTdHJpbmdQYXJzZXIiLCJfZWxlbWVudHMiLCJfZXZlbnRzIiwibW9udGgiLCJkYXlfcmVuZGVyIiwiZGF0ZV9yZW5kZXIiLCJtb250aF9yZW5kZXIiLCJfZGF0ZSIsIl9zZWxlY3RlZCIsImxhbmd1YWdlIiwiX3BhcnNlT3B0aW9ucyIsIm9iaiIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJub2RlTmFtZSIsInplcm9GaWxsIiwibW9udGhGb3JtYXQiLCJkYXlGb3JtYXQiLCJmaXJzdERheU9mVGhlV2VlayIsIm5hdmlnYXRvciIsIm5hdmlnYXRvclBvc2l0aW9uIiwibWluIiwibWF4Iiwib25Nb250aFJlbmRlciIsIm9uRGF5UmVuZGVyIiwib25EYXRlUmVuZGVyIiwiZG9wdGlvbnMiLCJfb3B0aW9ucyIsIml0ZW0iLCJzZXRMYW5ndWFnZSIsImZkb3R3IiwibWF0Y2giLCJwYXJzZUludCIsImluZGV4T2YiLCJ0b29scyIsInBhcnNlRGF0ZSIsIndpbmRvdyIsIl9vbiIsImVsZW1lbnQiLCJnZXRFbGVtZW50IiwiaWQiLCJqc0NhbGVuZGFyT2JqZWN0cyIsImNsYXNzTmFtZSIsInRhYmxlIiwiY3JlYXRlRWxlbWVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJfaXNEYXRlSW5SYW5nZSIsImdldFRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiX3BhcnNlVG9EYXRlU3RyaW5nIiwiZm9ybWF0IiwibGFuZyIsInJlcGxhY2UiLCJkYXRlU3RyaW5nUGFyc2VyIiwiX2dldFZpc2libGVNb250aCIsImZpcnN0Iiwic2V0RGF0ZSIsImZpcnN0RGF5IiwiZ2V0RGF5IiwibmFtZSIsIl9nZXRWaXNpYmxlRGF0ZXMiLCJkYXlzSW5Nb250aCIsImdldFllYXIiLCJnZXREYXRlIiwiY3VycmVudCIsInN0YXJ0IiwiZW5kIiwiZGF0ZXMiLCJzZXRIb3VycyIsInByZXZpb3VzIiwiZGF5IiwidW5zaGlmdCIsInB1c2giLCJuZXh0IiwiaSIsImoiLCJ0aGF0IiwiY3JlYXRlZCIsImhlYWRSb3dzIiwidGl0bGVfaGVhZGVyIiwiaGVhZExlZnQiLCJoZWFkUmlnaHQiLCJuYXZMZWZ0IiwibmF2UmlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJfZXZlbnRGaXJlIiwiYm9keVJvd3MiLCJib2R5Q29scyIsImluZGV4IiwiX2FjdGl2ZSIsIl9zZWxlY3REYXRlcyIsInNsaWNlIiwiX3Vuc2VsZWN0RGF0ZXMiLCJzcGxpY2UiLCJfdW5zZWxlY3RBbGxEYXRlcyIsInBvcCIsInRleHRDb250ZW50IiwidGV4dCIsInByZWZpeCIsImRheVN0cmluZ1BhcnNlciIsImNhbGwiLCJudW1iZXJPZkRheXMiLCJwb3NpdGlvbiIsImlzQ3VycmVudCIsImlzU2VsZWN0ZWQiLCJpc1ByZXZpb3VzTW9udGgiLCJpc0N1cnJlbnRNb250aCIsImlzTmV4dE1vbnRoIiwieCIsInkiLCJNYXRoIiwiZmxvb3IiLCJjYWxsYmFjayIsImluc3RhbmNlIiwib25EYXRlQ2xpY2siLCJvbk1vbnRoQ2hhbmdlIiwic2V0IiwicmVmcmVzaCIsIm4iLCJnb3RvIiwicmVzZXQiLCJzZWxlY3QiLCJBcnJheSIsInVuc2VsZWN0IiwiY2xlYXJzZWxlY3QiLCJjbGVhclNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWQiLCJzb3J0IiwidG9Mb3dlckNhc2UiLCJyZXZlcnNlIiwidHlwZSIsImlzVmlzaWJsZSIsInZpc2libGUiLCJpc0luTW9udGgiLCJhY3RpdmUiLCJjb2RlIiwiYXV0b0ZpbmQiLCJjYWxlbmRhcnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2lsZW50IiwibW9udGhfaW5kZXgiLCJzdHJpbmdUb0RhdGUiLCJkYXRlVG9TdHJpbmciLCJhcHBseSIsInN1YnN0cmluZyIsInRhZ05hbWUiLCJvd25lckRvY3VtZW50IiwibmV3IiwiaWRlbnRpZmllciIsImdldCIsImRlbCIsImFkZExhbmd1YWdlIiwianNDYWxlbmRhcl9sYW5ndWFnZTJsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==